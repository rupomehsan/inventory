import{a as Dt,s as ee,b as $t,c as en,d as sn,C as an,P as nn}from"./app_config-f3a37926.js";import{l as T,E as B,_ as x,b,c as u,a as s,e as h,n as I,t as p,g as w,w as O,h as f,o as c,G as H,f as A,F as S,j as F,d as M,H as Ct,k as N,v as rt,I as nt,J as C,p as wt,i as kt,r as St,K as ot,L as on,C as ln,D as rn}from"./pinia-3ca5fc80.js";window.axios=T;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const dn={data:()=>({show_notification:0,show_message:0,show_profile:0}),methods:{toggle_menu:function(){document.getElementById("wrapper").classList.toggle("toggled")},logout:async function(){await window.s_confirm("Are you sure want to logout?")&&(localStorage.removeItem("admin_token"),window.location.href="/")},toggle_notification:function(t){t=="show_notification"?(this.show_notification=this.show_notification?0:1,this.show_message=0,this.show_profile=0):t=="show_message"?(this.show_message=this.show_message?0:1,this.show_notification=0,this.show_profile=0):t=="show_profile"&&(this.show_profile=this.show_profile?0:1,this.show_notification=0,this.show_message=0)}},mounted(){const t=document.querySelectorAll(".nav-item");t.forEach(e=>{e.addEventListener("click",()=>{t.forEach(a=>{var n,l,o,i;e!==a&&(l=(n=a.childNodes[1])==null?void 0:n.classList)!=null&&l.contains("show")&&((i=(o=a.childNodes[1])==null?void 0:o.classList)==null||i.remove("show"))}),e.childNodes[1].classList.toggle("show")})})},computed:{...B(Dt,{auth_info:"auth_info"})}},cn={class:"topbar-nav"},_n={class:"navbar navbar-expand fixed-top"},un={class:"toggle-menu"},pn=s("a",{href:"/",target:"_blank",class:"d-flex align-items-center justify-content-center mx-2",style:{background:"rgba(255, 255, 255, 0.12)",width:"30px",height:"30px"}},[s("i",{class:"zmdi zmdi-globe mt-1"})],-1),fn=s("div",{class:"search-bar flex-grow-1"},null,-1),mn={class:"navbar-nav align-items-center right-nav-link ml-auto"},hn={class:"btn nav-link dropdown-toggle dropdown-toggle-nocaret position-relative"},gn={class:"user-profile"},vn=["src"],bn={class:"dropdown-item user-details"},yn={href:"javaScript:void();"},$n={class:"media"},wn={class:"avatar"},kn=["src"],xn={class:"media-body"},Cn={class:"mt-2 user-title"},Sn={class:"user-subtitle"},Dn=s("li",{class:"dropdown-divider"},null,-1),En=s("li",{class:"dropdown-divider"},null,-1),Tn=s("li",{class:"dropdown-divider"},null,-1),An={class:"dropdown-item"},Rn=s("i",{class:"zmdi zmdi-accounts mr-3"},null,-1),Fn={class:"dropdown-item"},jn=s("i",{class:"zmdi zmdi-settings mr-3"},null,-1),In=s("li",{class:"dropdown-divider"},null,-1),On=s("i",{class:"zmdi zmdi-power mr-3"},null,-1);function Bn(t,e,a,n,l,o){const i=b("router-link");return c(),u("header",cn,[s("nav",_n,[s("div",un,[s("i",{onClick:e[0]||(e[0]=h((...d)=>o.toggle_menu&&o.toggle_menu(...d),["prevent"])),class:"zmdi zmdi-menu"})]),pn,fn,s("ul",mn,[s("li",{class:"nav-item dropdown",onClick:e[2]||(e[2]=d=>o.toggle_notification("show_profile"))},[s("a",hn,[s("span",gn,[s("img",{src:`${t.auth_info.image??"avatar.png"}`,class:"img-circle",alt:"user avatar"},null,8,vn)])]),s("ul",{class:I(["dropdown-menu dropdown-menu-right",{show:t.show_profile}])},[s("li",bn,[s("a",yn,[s("div",$n,[s("div",wn,[s("img",{class:"align-self-start mr-3",src:`${t.auth_info.image??"avatar.png"}`,alt:"user avatar"},null,8,kn)]),s("div",xn,[s("h6",Cn,p(t.auth_info.name),1),s("p",Sn,p(t.auth_info.email),1)])])])]),Dn,En,Tn,s("li",An,[w(i,{to:{name:"AdminProfileSettings"}},{default:O(()=>[Rn,f("Profile ")]),_:1})]),s("li",Fn,[w(i,{to:{name:"AdminSiteSettings"}},{default:O(()=>[jn,f("Settings ")]),_:1})]),In,s("li",{class:"dropdown-item",onClick:e[1]||(e[1]=d=>o.logout()),role:"button"},[On,f("Logout ")])],2)])])])])}const Pn=x(dn,[["render",Bn]]),Ln={data:()=>({rightToggle:!1}),created(){localStorage.getItem("theme_id")&&this.changeTheme(localStorage.getItem("theme_id"))},methods:{changeTheme(t){localStorage.setItem("theme_id",t);const e=Array.from({length:15},(l,o)=>o+1),a="bg-theme"+t,n=document.getElementById("body");e.forEach(l=>{const o="bg-theme"+l;n.classList.contains(o)&&n.classList.remove(o)}),n.classList.add(a)}}},qn=s("i",{class:"zmdi zmdi-settings zmdi-hc-spin"},null,-1),Un=[qn],Hn={class:"right-sidebar-content"},Nn=s("p",{class:"mb-0"},"Gaussion Texture",-1),Vn=s("hr",null,null,-1),Mn={class:"switcher"},zn=s("p",{class:"mb-0"},"Gradient Background",-1),Wn=s("hr",null,null,-1),Kn={class:"switcher"};function Jn(t,e,a,n,l,o){return c(),u("div",{class:I(["right-sidebar",t.rightToggle?"right-toggled":""])},[s("div",{class:"switcher-icon",onClick:e[0]||(e[0]=i=>t.rightToggle=!t.rightToggle)},Un),s("div",Hn,[Nn,Vn,s("ul",Mn,[s("li",{id:"theme1",onClick:e[1]||(e[1]=i=>o.changeTheme("1"))}),s("li",{id:"theme2",onClick:e[2]||(e[2]=i=>o.changeTheme("2"))}),s("li",{id:"theme3",onClick:e[3]||(e[3]=i=>o.changeTheme("3"))}),s("li",{id:"theme4",onClick:e[4]||(e[4]=i=>o.changeTheme("4"))}),s("li",{id:"theme5",onClick:e[5]||(e[5]=i=>o.changeTheme("5"))}),s("li",{id:"theme6",onClick:e[6]||(e[6]=i=>o.changeTheme("6"))})]),zn,Wn,s("ul",Kn,[s("li",{id:"theme7",onClick:e[7]||(e[7]=i=>o.changeTheme("7"))}),s("li",{id:"theme8",onClick:e[8]||(e[8]=i=>o.changeTheme("8"))}),s("li",{id:"theme9",onClick:e[9]||(e[9]=i=>o.changeTheme("9"))}),s("li",{id:"theme10",onClick:e[10]||(e[10]=i=>o.changeTheme("10"))}),s("li",{id:"theme11",onClick:e[11]||(e[11]=i=>o.changeTheme("11"))}),s("li",{id:"theme12",onClick:e[12]||(e[12]=i=>o.changeTheme("12"))}),s("li",{id:"theme13",onClick:e[13]||(e[13]=i=>o.changeTheme("13"))}),s("li",{id:"theme14",onClick:e[14]||(e[14]=i=>o.changeTheme("14"))}),s("li",{id:"theme15",onClick:e[15]||(e[15]=i=>o.changeTheme("15"))})])])],2)}const Gn=x(Ln,[["render",Jn]]),Xn={components:{TopHeader:Pn,Footer:Gn},data:()=>({rightToggle:!1}),created:async function(){var t,e;if(await this.check_is_auth(),await this.get_all_website_settings(),this.is_auth){let a=window.sessionStorage.getItem("prevurl");((t=this.auth_info)==null?void 0:t.role_id)==1?(window.location.href="/super-admin#/dashboard",this.$route.path==="/super-admin#"&&this.$router.push("/dashboard"),window.location.hash=a||"/super-admin#/dashboard"):((e=this.auth_info)==null?void 0:e.role_id)==2&&(window.location.href="/employee#/dashboard",this.$route.path==="/employee#"&&this.$router.push("/dashboard"),window.location.hash=a||"/employee#/dashboard")}else window.location.href="login"},methods:{...H(Dt,{check_is_auth:"check_is_auth"}),...H(ee,{get_all_website_settings:"get_all_website_settings"}),changeTheme(t){const e=Array.from({length:15},(l,o)=>o+1),a="bg-theme"+t,n=document.getElementById("body");e.forEach(l=>{const o="bg-theme"+l;n.classList.contains(o)&&n.classList.remove(o)}),n.classList.add(a)}},computed:{...B(Dt,{auth_info:"auth_info",is_auth:"is_auth"})}},Yn={key:0,id:"wrapper"},Qn=s("div",{class:"clearfix"},null,-1),Zn={class:"content-wrapper"};function to(t,e,a,n,l,o){const i=b("top-header"),d=b("router-view"),r=b("Footer");return t.is_auth?(c(),u("div",Yn,[w(i),Qn,s("div",Zn,[w(d)]),w(r)])):A("",!0)}const ka=x(Xn,[["render",to]]),eo={props:{menu_title:String,menus:Array,icon_image:{type:String,default:""},icon:{type:String,default:""}},data:()=>({is_show:0})},so={class:"parent-icon"},ao=["src"],no={class:"menu-title"};function oo(t,e,a,n,l,o){const i=b("router-link");return c(),u("li",{class:I(`mm-collapse ${t.is_show&&"mm-active"}`),style:{border:"1px solid rgba(128, 128, 128, 0.267)"}},[s("a",{onClick:e[0]||(e[0]=h(d=>t.is_show=!t.is_show,["prevent"])),class:"has-arrow",href:"#"},[s("div",so,[a.icon?(c(),u("i",{key:0,class:I(a.icon)},null,2)):a.icon_image?(c(),u("img",{key:1,src:a.icon_image,alt:""},null,8,ao)):A("",!0)]),s("div",no,p(a.menu_title),1)]),s("ul",{class:I(`mm-collapse ${t.is_show&&"mm-show"}`)},[(c(!0),u(S,null,F(a.menus,(d,r)=>(c(),u("li",{key:r},[w(i,{to:{name:d.route_name}},{default:O(()=>[s("i",{class:I(d.icon)},null,2),f(" "+p(d.title),1)]),_:2},1032,["to"])]))),128))],2)],2)}const lo=x(eo,[["render",oo]]),io={props:{menu_title:String,route_name:String,icon:{type:String,default:()=>"zmdi zmdi-view-dashboard"}}},ro={class:"parent-icon"},co={class:"menu-title"};function _o(t,e,a,n,l,o){const i=b("router-link");return c(),u("li",null,[w(i,{to:{name:a.route_name}},{default:O(()=>[s("div",ro,[s("i",{class:I(a.icon)},null,2)]),s("div",co,p(a.menu_title),1)]),_:1},8,["to"])])}const uo=x(io,[["render",_o]]),po={components:{SideBarDropDownMenus:lo,SideBarSingleMenu:uo},methods:{...H(ee,{get_setting_value:"get_setting_value"}),logout_submit:function(){window.confirm("logout")&&this.log_out()},toggle_menu:function(){document.getElementById("wrapper").classList.toggle("toggled")}},computed:{...B(Dt,{auth_info:"auth_info"})}},fo={id:"sidebar-wrapper"},mo={class:"brand-logo"},ho=["src"],go=s("h5",{class:"logo-text"},"Employee Panel",-1),vo={class:"close-btn"},bo={class:"text-center mt-3"},yo=["src"],$o={class:"mt-2"},wo=s("hr",null,null,-1),ko={class:"metismenu",id:"menu"},xo=s("div",{class:"parent-icon"},[s("i",{class:"zmdi zmdi-view-dashboard"})],-1),Co=s("div",{class:"menu-title"},"Dashboard",-1);function So(t,e,a,n,l,o){const i=b("router-link"),d=b("side-bar-single-menu");return c(),u("div",fo,[s("div",mo,[w(i,{to:{name:"adminDashboard"},class:"d-flex align-items-center"},{default:O(()=>[s("img",{src:`${t.get_setting_value("image")??"avatar.png"} `,class:"logo-icon",alt:"logo icon"},null,8,ho),go]),_:1}),s("div",vo,[s("i",{class:"zmdi zmdi-close",onClick:e[0]||(e[0]=(...r)=>o.toggle_menu&&o.toggle_menu(...r))})])]),s("div",bo,[s("img",{class:"rounded-circle p-1",height:"70",width:"70",src:`${t.auth_info.image??"avatar.png"}`,alt:""},null,8,yo),s("p",$o,"Mr. "+p(t.auth_info.name),1)]),wo,s("ul",ko,[s("li",null,[w(i,{to:{name:"adminDashboard"},class:"border",href:"javascript:void();"},{default:O(()=>[xo,Co]),_:1})]),w(d,{icon:"fa fa-plus",menu_title:"AccountExpense",route_name:"AllAccountExpense"})])])}const Do=x(po,[["render",So]]),Eo={components:{SideBar:Do}},To={class:"page-body"},Ao={class:"container-fluid"};function Ro(t,e,a,n,l,o){const i=b("side-bar"),d=b("router-view");return c(),u(S,null,[w(i),s("div",To,[s("div",Ao,[w(d)])])],64)}const Fo=x(Eo,[["render",Ro]]),jo={data:()=>({data:{}}),created:async function(){await this.get_all_dashboard_data()},methods:{get_all_dashboard_data:async function(){let t=await axios.get("get-all-dashboard-data");t.status==200&&(this.data=t.data.data)}}},Io={class:"container-fluid"},Oo={class:"card mt-3"},Bo={class:"card-content"},Po={class:"row row-group m-0"},Lo={class:"col-12 col-lg-6 col-xl-3 border-light"},qo={class:"card-body"},Uo={class:"text-white mb-0"},Ho=s("div",{class:"progress my-3",style:{height:"3px"}},null,-1),No=s("p",{class:"mb-0 text-white small-font"},[f(" Total Income "),s("span",{class:"float-right"})],-1),Vo={class:"col-12 col-lg-6 col-xl-3 border-light"},Mo={class:"card-body"},zo={class:"text-white mb-0"},Wo=s("div",{class:"progress my-3",style:{height:"3px"}},null,-1),Ko=s("p",{class:"mb-0 text-white small-font"},[f(" Total Expenses "),s("span",{class:"float-right"})],-1),Jo={class:"col-12 col-lg-6 col-xl-3 border-light"},Go={class:"card-body"},Xo={class:"text-white mb-0"},Yo=s("div",{class:"progress my-3",style:{height:"3px"}},null,-1),Qo=s("p",{class:"mb-0 text-white small-font"},[f(" Total Products "),s("span",{class:"float-right"})],-1),Zo={class:"col-12 col-lg-6 col-xl-3 border-light"},tl={class:"card-body"},el={class:"text-white mb-0"},sl=s("div",{class:"progress my-3",style:{height:"3px"}},null,-1),al=s("p",{class:"mb-0 text-white small-font"},[f(" Total Purchase Orders "),s("span",{class:"float-right"})],-1),nl={class:"card mt-3"},ol={class:"card-content"},ll={class:"row row-group m-0"},il={class:"col-12 col-lg-6 col-xl-3 border-light"},rl={class:"card-body"},dl={class:"text-white mb-0"},cl=s("div",{class:"progress my-3",style:{height:"3px"}},null,-1),_l=s("p",{class:"mb-0 text-white small-font"},[f(" Total Suppliers "),s("span",{class:"float-right"})],-1),ul={class:"col-12 col-lg-6 col-xl-3 border-light"},pl={class:"card-body"},fl={class:"text-white mb-0"},ml=s("div",{class:"progress my-3",style:{height:"3px"}},null,-1),hl=s("p",{class:"mb-0 text-white small-font"},[f(" Total Warehouses "),s("span",{class:"float-right"})],-1),gl={class:"col-12 col-lg-6 col-xl-3 border-light"},vl={class:"card-body"},bl={class:"text-white mb-0"},yl=s("div",{class:"progress my-3",style:{height:"3px"}},null,-1),$l=s("p",{class:"mb-0 text-white small-font"},[f(" Total Customers "),s("span",{class:"float-right"})],-1),wl={class:"col-12 col-lg-6 col-xl-3 border-light"},kl={class:"card-body"},xl={class:"text-white mb-0"},Cl=s("div",{class:"progress my-3",style:{height:"3px"}},null,-1),Sl=s("p",{class:"mb-0 text-white small-font"},[f(" Total Sales Orders "),s("span",{class:"float-right"})],-1),Dl=s("div",{class:"overlay"},null,-1);function El(t,e,a,n,l,o){return c(),u("div",Io,[s("div",Oo,[s("div",Bo,[s("div",Po,[s("div",Lo,[s("div",qo,[s("h5",Uo,p(t.data.getTotalIncomes)+" ",1),Ho,No])]),s("div",Vo,[s("div",Mo,[s("h5",zo,p(t.data.getTotalExpenses)+" ",1),Wo,Ko])]),s("div",Jo,[s("div",Go,[s("h5",Xo,p(t.data.getTotalProducts)+" ",1),Yo,Qo])]),s("div",Zo,[s("div",tl,[s("h5",el,p(t.data.getTotalPurchaseOrders)+" ",1),sl,al])])])])]),s("div",nl,[s("div",ol,[s("div",ll,[s("div",il,[s("div",rl,[s("h5",dl,p(t.data.getTotalSuppliers)+" ",1),cl,_l])]),s("div",ul,[s("div",pl,[s("h5",fl,p(t.data.getTotalWarehouses)+" ",1),ml,hl])]),s("div",gl,[s("div",vl,[s("h5",bl,p(t.data.getTotalCustomers)+" ",1),yl,$l])]),s("div",wl,[s("div",kl,[s("h5",xl,p(t.data.getTotalSalesOrders)+" ",1),Cl,Sl])])])])]),Dl])}const Tl=x(jo,[["render",El]]),Al={};function Rl(t,e,a,n,l,o){const i=b("router-view");return c(),M(i)}const Fl=x(Al,[["render",Rl]]);Ct("settings_store",{state:()=>({all_data:{},single_data:{},role_data:{},api:"test-modules/"}),getters:{doubleCount:t=>t.count*2},actions:{all:async function(t){let e;t?e=await axios.get(t):e=await axios.get(this.api),this.all_data=e.data.data},get:async function(t){let e=await axios.get(this.api+t);e=e.data.data,this.single_data=e},store:async function(t){let e=new FormData(t);return await axios.post(this.api,e)},update:async function(t,e){let a=new FormData(t);return await axios.post(`${this.api}${e}?_method=PATCH`,a)},delete:async function(t){var e=await window.s_confirm();if(e){let a=await axios.delete(this.api+t);window.s_alert("Data deleted"),this.all(),console.log(a.data)}},bulk_action:async function(t,e){let a=await axios.post(`${this.api}bulk-action`,{action:t,data:e});a.data.status==="success"&&(window.s_alert(a.data.message),this.all())}}});const jl={data:()=>({tab:"edit"}),methods:{...H(Dt,{check_is_auth:"check_is_auth"}),UpdateProfileHandler:async function(){let t=new FormData(event.target),e=await axios.post("user-profile-update",t);e.data.status=="success"&&(window.s_alert(e.data.message),this.check_is_auth())},ChangePasswordHandler:async function(){let t=new FormData(event.target),e=await axios.post("user-change-password",t);e.data.status=="success"&&(window.s_alert(e.data.message),this.check_is_auth())}},computed:{...B(Dt,{auth_info:"auth_info"})}},Il={class:"container-fluid"},Ol=s("div",{class:"row pt-2 pb-2"},[s("div",{class:"col-sm-9"},[s("h4",{class:"page-title"}," Profile Settings")])],-1),Bl={class:"row"},Pl={class:"col-lg-4"},Ll={class:"card profile-card-2"},ql=s("div",{class:"card-img-block"},[s("img",{class:"img-fluid bg-dark",src:"avatar.png",alt:"Card image cap"})],-1),Ul={class:"card-body pt-5"},Hl=["src"],Nl={class:"card-title text-capitalize"},Vl={class:"card-text"},Ml={class:"card-text"},zl={class:"card-text"},Wl=nt('<div class="card-body border-light"><div class="media align-items-center"><div class="icon-block"><a href="javascript:void();"><i class="fa fa-facebook bg-facebook text-white"></i></a><a href="javascript:void();"><i class="fa fa-twitter bg-twitter text-white"></i></a><a href="javascript:void();"><i class="fa fa-google-plus bg-google-plus text-white"></i></a></div></div></div>',1),Kl={class:"col-lg-8"},Jl={class:"card"},Gl={class:"card-body"},Xl={class:"nav nav-tabs nav-tabs-primary top-icon nav-justified"},Yl=s("i",{class:"icon-note"},null,-1),Ql=s("span",{class:"hidden-xs"},"Edit",-1),Zl=s("i",{class:"icon-user"},null,-1),ti=s("span",{class:"hidden-xs"},"Change password",-1),ei={class:"tab-content p-3"},si={class:"form-group row"},ai=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Name",-1),ni={class:"col-lg-9"},oi={class:"form-group row"},li=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Email",-1),ii={class:"col-lg-9"},ri={class:"form-group row"},di=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Phone",-1),ci={class:"col-lg-9"},_i={class:"form-group row"},ui=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Address",-1),pi={class:"col-lg-9"},fi={class:"form-group row"},mi=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Change image",-1),hi={class:"col-lg-9"},gi=s("input",{class:"form-control",name:"image",type:"file"},null,-1),vi=["src"],bi=s("div",{class:"form-group row"},[s("label",{class:"col-lg-3 col-form-label form-control-label"}),s("div",{class:"col-lg-9"},[s("input",{type:"submit",class:"btn btn-primary",value:"Save Changes"})])],-1),yi=nt('<div class="form-group row"><label class="col-lg-3 col-form-label form-control-label">Current password</label><div class="col-lg-9"><input class="form-control" name="current_password" type="password" value=""></div></div><div class="form-group row"><label class="col-lg-3 col-form-label form-control-label">New password</label><div class="col-lg-9"><input class="form-control" name="new_password" type="password" value=""></div></div><div class="form-group row"><label class="col-lg-3 col-form-label form-control-label">Confirm New password</label><div class="col-lg-9"><input class="form-control" name="confirm_new_password" type="password" value=""></div></div><div class="form-group row"><label class="col-lg-3 col-form-label form-control-label"></label><div class="col-lg-9"><input type="submit" class="btn btn-primary" value="Save Changes"></div></div>',4),$i=[yi],wi={class:"table table-striped table-active table-bordered"},ki=s("td",null,"1",-1),xi=s("td",null,"1",-1),Ci=s("td",null,"1",-1),Si=s("td",null,"1",-1),Di=s("td",null,"1",-1),Ei=s("td",null,"1",-1),Ti=[ki,xi,Ci,Si,Di,Ei];function Ai(t,e,a,n,l,o){return c(),u("div",Il,[Ol,s("div",Bl,[s("div",Pl,[s("div",Ll,[ql,s("div",Ul,[s("img",{src:`${t.auth_info.image??"avatar.png"}`,alt:"profile-image",class:"profile"},null,8,Hl),s("h5",Nl,"Name : "+p(t.auth_info.name),1),s("p",Vl,"Eamil : "+p(t.auth_info.email),1),s("p",Ml,"Phone : "+p(t.auth_info.phone??"N/A"),1),s("p",zl,"Address : "+p(t.auth_info.address??"N/A"),1)]),Wl])]),s("div",Kl,[s("div",Jl,[s("div",Gl,[s("ul",Xl,[s("li",{class:"nav-item",onClick:e[0]||(e[0]=i=>t.tab="edit")},[s("a",{class:I([t.tab=="edit"?" active":"","nav-link"]),href:"javascript:void();","data-target":"#edit","data-toggle":"pill"},[Yl,f(),Ql],2)]),s("li",{class:"nav-item",onClick:e[1]||(e[1]=i=>t.tab="change_password")},[s("a",{class:I([t.tab=="change_password"?"active":"","nav-link"]),href:"javascript:void();","data-target":"#profile","data-toggle":"pill"},[Zl,f(),ti],2)])]),s("div",ei,[t.tab=="edit"?(c(),u("div",{key:0,class:I([t.tab=="edit"?" active":"","tab-pane active"]),id:"profile"},[s("form",{onSubmit:e[6]||(e[6]=h((...i)=>o.UpdateProfileHandler&&o.UpdateProfileHandler(...i),["prevent"])),enctype:"multipart/form-data"},[s("div",si,[ai,s("div",ni,[N(s("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>t.auth_info.name=i),name:"name",class:"form-control",type:"text",value:""},null,512),[[rt,t.auth_info.name]])])]),s("div",oi,[li,s("div",ii,[N(s("input",{"onUpdate:modelValue":e[3]||(e[3]=i=>t.auth_info.email=i),name:"email",class:"form-control",type:"email",value:""},null,512),[[rt,t.auth_info.email]])])]),s("div",ri,[di,s("div",ci,[N(s("input",{"onUpdate:modelValue":e[4]||(e[4]=i=>t.auth_info.phone_number=i),name:"phone_number",class:"form-control",type:"number",value:""},null,512),[[rt,t.auth_info.phone_number]])])]),s("div",_i,[ui,s("div",pi,[N(s("input",{"onUpdate:modelValue":e[5]||(e[5]=i=>t.auth_info.address=i),name:"address",class:"form-control",type:"text",value:"",placeholder:"Street"},null,512),[[rt,t.auth_info.address]])])]),s("div",fi,[mi,s("div",hi,[gi,t.auth_info.image?(c(),u("img",{key:0,class:"mt-2",src:t.auth_info.image,height:"100",width:"100",alt:""},null,8,vi)):A("",!0)])]),bi],32)],2)):A("",!0),t.tab=="change_password"?(c(),u("div",{key:1,class:I([t.tab=="change_password"?" active":"","tab-pane"]),id:"change_password"},[s("form",{onSubmit:e[7]||(e[7]=h((...i)=>o.ChangePasswordHandler&&o.ChangePasswordHandler(...i),["prevent"]))},$i,32)],2)):A("",!0),t.tab=="message"?(c(),u("div",{key:2,class:I([t.tab=="message"?" active":"","tab-pane"]),id:"message"},[s("table",wi,[(c(),u(S,null,F(5,i=>s("tr",{key:i},Ti)),64))])],2)):A("",!0)])])])])])])}const Ri=x(jl,[["render",Ai]]),Fi={data:()=>({tab:"bassic_settings"}),methods:{...H(Dt,{check_is_auth:"check_is_auth"}),...H(ee,{get_all_website_settings:"get_all_website_settings",get_setting_value:"get_setting_value"}),SiteSettingsHandler:async function(){let t=new FormData(event.target),e=await axios.post("website-settings/store",t);e.data.status=="success"&&(window.s_alert(e.data.message),this.get_all_website_settings())}},computed:{...B(Dt,{auth_info:"auth_info"}),...B(ee,{website_settings_data:"website_settings_data"})},watch:{website_settings_data:{handler:function(){}}}},ji={class:"container-fluid"},Ii=s("div",{class:"row pt-2 pb-2"},[s("div",{class:"col-sm-9"},[s("h4",{class:"page-title"},"Site Settings")])],-1),Oi={class:"row"},Bi={class:"col-lg-10"},Pi={class:"card",id:"site_settings"},Li={class:"card-body"},qi={class:"d-flex"},Ui={class:"flex-column nav nav-tabs nav-tabs-primary top-icon nav-justified card"},Hi=s("i",{class:"icon-note"},null,-1),Ni=s("span",{class:"hidden-xs"},"Basic Settings",-1),Vi=[Hi,Ni],Mi=s("hr",null,null,-1),zi=s("i",{class:"icon-note"},null,-1),Wi=s("span",{class:"hidden-xs"},"SEO Settings",-1),Ki=[zi,Wi],Ji=s("hr",null,null,-1),Gi=s("i",{class:"icon-note"},null,-1),Xi=s("span",{class:"hidden-xs"},"Social Links information",-1),Yi=[Gi,Xi],Qi=s("hr",null,null,-1),Zi=s("i",{class:"icon-note"},null,-1),tr=s("span",{class:"hidden-xs"},"SMTP Settings",-1),er=[Zi,tr],sr=s("hr",null,null,-1),ar={class:"ml-2 flex-grow-1 tab-content p-3 card"},nr={class:"form-group row"},or=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Site Name",-1),lr={class:"col-lg-9"},ir=["value"],rr={class:"form-group row"},dr=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Email",-1),cr={class:"col-lg-9"},_r=["value"],ur={class:"form-group row"},pr=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Phone Number",-1),fr={class:"col-lg-9"},mr=["value"],hr={class:"form-group row"},gr=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Website",-1),vr={class:"col-lg-9"},br=["value"],yr={class:"form-group row"},$r=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Fax Number",-1),wr={class:"col-lg-9"},kr=["value"],xr={class:"form-group row"},Cr=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Address",-1),Sr={class:"col-lg-9"},Dr=["value"],Er={class:"form-group row"},Tr=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Site Logo",-1),Ar={class:"col-lg-9"},Rr=s("input",{class:"form-control",name:"image",type:"file"},null,-1),Fr=["src"],jr=s("div",{class:"form-group row"},[s("label",{class:"col-lg-3 col-form-label form-control-label"}),s("div",{class:"col-lg-9"},[s("input",{type:"submit",class:"btn btn-primary",value:"Save Changes"})])],-1),Ir={class:"form-group row"},Or=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Meta Title",-1),Br={class:"col-lg-9"},Pr=["value"],Lr={class:"form-group row"},qr=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Meta Description",-1),Ur={class:"col-lg-9"},Hr=["value"],Nr={class:"form-group row"},Vr=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Meta Keywords",-1),Mr={class:"col-lg-9"},zr=["value"],Wr={class:"form-group row"},Kr=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Canonical URL",-1),Jr={class:"col-lg-9"},Gr=["value"],Xr=s("div",{class:"form-group row"},[s("label",{class:"col-lg-3 col-form-label form-control-label"}),s("div",{class:"col-lg-9"},[s("input",{type:"submit",class:"btn btn-primary",value:"Save Changes"})])],-1),Yr={class:"form-group row"},Qr=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Facebook",-1),Zr={class:"col-lg-9"},td=["value"],ed={class:"form-group row"},sd=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Twitter",-1),ad={class:"col-lg-9"},nd=["value"],od={class:"form-group row"},ld=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Instagram",-1),id={class:"col-lg-9"},rd=["value"],dd={class:"form-group row"},cd=s("label",{class:"col-lg-3 col-form-label form-control-label"},"LinkedIn",-1),_d={class:"col-lg-9"},ud=["value"],pd={class:"form-group row"},fd=s("label",{class:"col-lg-3 col-form-label form-control-label"},"YouTube",-1),md={class:"col-lg-9"},hd=["value"],gd=s("div",{class:"form-group row"},[s("label",{class:"col-lg-3 col-form-label form-control-label"}),s("div",{class:"col-lg-9"},[s("input",{type:"submit",class:"btn btn-primary",value:"Save Changes"})])],-1),vd={class:"form-group row"},bd=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Host",-1),yd={class:"col-lg-9"},$d=["value"],wd={class:"form-group row"},kd=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Port",-1),xd={class:"col-lg-9"},Cd=["value"],Sd={class:"form-group row"},Dd=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Username",-1),Ed={class:"col-lg-9"},Td=["value"],Ad={class:"form-group row"},Rd=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Password",-1),Fd={class:"col-lg-9"},jd=["value"],Id={class:"form-group row"},Od=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Encryption",-1),Bd={class:"col-lg-9"},Pd=["value"],Ld=s("option",{value:"ssl"}," SSL ",-1),qd=s("option",{value:"tls"}," TLS ",-1),Ud=[Ld,qd],Hd=s("div",{class:"form-group row"},[s("label",{class:"col-lg-3 col-form-label form-control-label"}),s("div",{class:"col-lg-9"},[s("input",{type:"submit",class:"btn btn-primary",value:"Save Details"})])],-1);function Nd(t,e,a,n,l,o){return c(),u("div",ji,[Ii,s("div",Oi,[s("div",Bi,[s("div",Pi,[s("div",Li,[s("div",qi,[s("ul",Ui,[s("li",{class:"nav-item",onClick:e[0]||(e[0]=i=>t.tab="bassic_settings")},[s("a",{class:I([t.tab=="bassic_settings"?" active":"","nav-link"]),href:"javascript:void();","data-target":"#bassic_settings","data-toggle":"pill"},Vi,2),Mi]),s("li",{class:"nav-item",onClick:e[1]||(e[1]=i=>t.tab="seo_settings")},[s("a",{class:I([t.tab=="seo_settings"?"active":"","nav-link"]),href:"javascript:void();","data-target":"#seo_settings","data-toggle":"pill"},Ki,2),Ji]),s("li",{class:"nav-item",onClick:e[2]||(e[2]=i=>t.tab="social_link")},[s("a",{class:I([t.tab=="social_link"?" active":"","nav-link"]),href:"javascript:void();","data-target":"#social_link","data-toggle":"pill"},Yi,2),Qi]),s("li",{class:"nav-item",onClick:e[3]||(e[3]=i=>t.tab="smtp")},[s("a",{class:I([t.tab=="smtp"?" active":"","nav-link"]),href:"javascript:void();","data-target":"#smtp","data-toggle":"pill"},er,2),sr])]),s("div",ar,[t.tab=="bassic_settings"?(c(),u("div",{key:0,class:I([t.tab=="bassic_settings"?" active":"","tab-pane active"]),id:"bassic_settings"},[s("form",{onSubmit:e[4]||(e[4]=h((...i)=>o.SiteSettingsHandler&&o.SiteSettingsHandler(...i),["prevent"])),enctype:"multipart/form-data"},[s("div",nr,[or,s("div",lr,[s("input",{name:"site_name",class:"form-control",type:"text",value:`${t.get_setting_value("site_name")}`,placeholder:"Enter site name"},null,8,ir)])]),s("div",rr,[dr,s("div",cr,[s("input",{name:"email",class:"form-control",type:"email",placeholder:"Enter email address",value:`${t.get_setting_value("email")}`},null,8,_r)])]),s("div",ur,[pr,s("div",fr,[s("input",{name:"phone_number",class:"form-control",type:"text",placeholder:"Enter phone number",value:`${t.get_setting_value("phone_numbers")}`},null,8,mr)])]),s("div",hr,[gr,s("div",vr,[s("input",{name:"website",class:"form-control",type:"text",placeholder:"Enter company website",value:`${t.get_setting_value("website")}`},null,8,br)])]),s("div",yr,[$r,s("div",wr,[s("input",{name:"fax_number",class:"form-control",type:"text",placeholder:"Enter fax number (optional)",value:`${t.get_setting_value("fax_number")}`},null,8,kr)])]),s("div",xr,[Cr,s("div",Sr,[s("textarea",{name:"address",class:"form-control",rows:"3",placeholder:"Enter company address",value:`${t.get_setting_value("address")}`},null,8,Dr)])]),s("div",Er,[Tr,s("div",Ar,[Rr,t.auth_info.image?(c(),u("img",{key:0,class:"mt-2",src:`${t.get_setting_value("image")}`,height:"100",width:"100",alt:""},null,8,Fr)):A("",!0)])]),jr],32)],2)):A("",!0),t.tab=="seo_settings"?(c(),u("div",{key:1,class:I([t.tab=="seo_settings"?" active":"","tab-pane"]),id:"seo_settings"},[s("form",{onSubmit:e[5]||(e[5]=h((...i)=>o.SiteSettingsHandler&&o.SiteSettingsHandler(...i),["prevent"]))},[s("div",Ir,[Or,s("div",Br,[s("input",{name:"meta_title",class:"form-control",type:"text",placeholder:"Enter meta title",value:`${t.get_setting_value("meta_title")}`},null,8,Pr)])]),s("div",Lr,[qr,s("div",Ur,[s("textarea",{name:"meta_description",class:"form-control",rows:"3",placeholder:"Enter meta description",value:`${t.get_setting_value("meta_description")}`},`
                                                `,8,Hr)])]),s("div",Nr,[Vr,s("div",Mr,[s("input",{name:"meta_keywords",class:"form-control",type:"text",placeholder:"Enter meta keywords (comma-separated)",value:`${t.get_setting_value("meta_keywords")}`},null,8,zr)])]),s("div",Wr,[Kr,s("div",Jr,[s("input",{name:"canonical_url",class:"form-control",type:"text",placeholder:"Enter canonical URL",value:`${t.get_setting_value("canonical_url")}`},null,8,Gr)])]),Xr],32)],2)):A("",!0),t.tab=="social_link"?(c(),u("div",{key:2,class:I([t.tab=="social_link"?" active":"","tab-pane"]),id:"social_link"},[s("form",{onSubmit:e[6]||(e[6]=h((...i)=>o.SiteSettingsHandler&&o.SiteSettingsHandler(...i),["prevent"]))},[s("div",Yr,[Qr,s("div",Zr,[s("input",{name:"facebook",class:"form-control",type:"text",placeholder:"https://facebook.com/yourpage",value:`${t.get_setting_value("facebook")}`},null,8,td)])]),s("div",ed,[sd,s("div",ad,[s("input",{name:"twitter",class:"form-control",type:"text",placeholder:"https://twitter.com/yourprofile",value:`${t.get_setting_value("twitter")}`},null,8,nd)])]),s("div",od,[ld,s("div",id,[s("input",{name:"instagram",class:"form-control",type:"text",placeholder:"https://instagram.com/yourprofile",value:`${t.get_setting_value("instagram")}`},null,8,rd)])]),s("div",dd,[cd,s("div",_d,[s("input",{name:"linkedin",class:"form-control",type:"text",placeholder:"https://linkedin.com/in/yourprofile",value:`${t.get_setting_value("linkedin")}`},null,8,ud)])]),s("div",pd,[fd,s("div",md,[s("input",{name:"youtube",class:"form-control",type:"text",placeholder:"https://youtube.com/yourchannel",value:`${t.get_setting_value("youtube")}`},null,8,hd)])]),gd],32)],2)):A("",!0),t.tab=="smtp"?(c(),u("div",{key:3,class:I([t.tab=="smtp"?" active":"","tab-pane"]),id:"smtp"},[s("form",{onSubmit:e[7]||(e[7]=h((...i)=>o.SiteSettingsHandler&&o.SiteSettingsHandler(...i),["prevent"]))},[s("div",vd,[bd,s("div",yd,[s("input",{name:"mail_host",class:"form-control",type:"text",placeholder:"mail.example.com",value:`${t.get_setting_value("mail_host")}`},null,8,$d)])]),s("div",wd,[kd,s("div",xd,[s("input",{name:"mail_port",class:"form-control",type:"text",placeholder:"465",value:`${t.get_setting_value("mail_port")}`},null,8,Cd)])]),s("div",Sd,[Dd,s("div",Ed,[s("input",{name:"mail_username",class:"form-control",type:"text",placeholder:"mainaccount@example.com",value:`${t.get_setting_value("mail_username")}`},null,8,Td)])]),s("div",Ad,[Rd,s("div",Fd,[s("input",{name:"mail_password",class:"form-control",type:"text",placeholder:"*********",value:`${t.get_setting_value("mail_password")}`},null,8,jd)])]),s("div",Id,[Od,s("div",Bd,[s("select",{name:"mail_encryption",class:"form-control",value:`${t.get_setting_value("mail_encryption")}`},Ud,8,Pd)])]),Hd],32)],2)):A("",!0)])])])])])])])}const Vd=x(Fi,[["render",Nd]]),Md={path:"settings",component:Fl,children:[{path:"profile-settings",name:"AdminProfileSettings",component:Ri},{path:"site-settings",name:"AdminSiteSettings",component:Vd}]},Et="AccountExpense",W={prefix:Et,permission:["admin","super_admin"],api_host:$t.api_host,api_version:$t.api_version,api_end_point:"account-expenses",module_name:"account-expense",store_prefix:"account_expense",route_prefix:"AccountExpense",route_path:"account-expense",select_fields:["id","account_category_id","title","amount","description","user_type","status","is_approved","slug","creator","created_at","deleted_at"],sort_by_cols:["id","title","amount","status","created_at"],table_header_data:["id","account category","title","amount","status","created_at"],table_row_data:["id","account_category","customer","title","amount","status","created_at"],layout_title:Et+" Management",page_title:`${Et} Management`,all_page_title:"All "+Et,details_page_title:"Details "+Et,create_page_title:"Create "+Et,edit_page_title:"Edit "+Et},zd={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:W.select_fields,sort_by_cols:W.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",employee_id:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function Ze(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function ts(t,e,a){try{const n=await T.get(t);await e.put(t,new Response(JSON.stringify(n.data)));let o=performance.now()-a;return Ze({href:t,duration:o,status:n.status}),n}catch(n){console.error(n.response.data);let o=performance.now()-a;throw Ze({href:t,duration:o,status:n.response.status,message:n.response.data.message}),new Error(n.response.statusText)}}function Wd(t){return t/1024}async function es(t,e){let a={data:{},status:200},n=0,l=0,o=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),g=await r.keys(),v=g.length;if(v>15)for(let E=0;E<v-15;E++)await r.delete(g[E]);const y=await r.match(t);return y&&e===!1?(a.data=await y.json(),ts(t,r,i)):a=await ts(t,r,i),n=performance.now(),l=n-i,o=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:Wd(o)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:Kd,api_version:Jd,api_end_point:Gd}=W;let Xd=async()=>{let t=C(dt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},n=`${Kd}/${Jd}/${Gd}?only_employee_data=1`,l=new URL(n),o=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(n=t.url.get(),a=await es(n,o)):a=await es(l.href,o),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function Yd(t){let e=t.target,a=new FormData(e),n=`${W.api_host}/${W.api_version}/${W.api_end_point}/store`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Qd(t){let e=C(dt,["item"]),a=`${W.api_host}/${W.api_version}/${W.api_end_point}/${t}`;try{let n=await T.get(a);e.item.set(n.data.data)}catch(n){return window.s_alert("something is wrong.","error"),n.response}}async function Zd(t){let e=B(dt,["item"]),a=t.target,n=new FormData(a);n.append("id",e.item().id);let l=`${W.api_host}/${W.api_version}/${W.api_end_point}/update/${e.item().slug}`;try{return await T.post(l,n)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function tc(){let t=B(dt,["item"]),e=`${W.api_host}/${W.api_version}/${W.api_end_point}/soft-delete`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function ec(){let t=B(dt,["item"]),e=`${W.api_host}/${W.api_version}/${W.api_end_point}/update-status`;try{return await T.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function sc(){let t=B(dt,["item"]),e=`${W.api_host}/${W.api_version}/${W.api_end_point}/restore`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function ac(){let t=B(dt,["item"]),e=`${W.api_host}/${W.api_version}/${W.api_end_point}/destroy/${t.item().slug}`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function nc(t,e){let a=`${W.api_host}/${W.api_version}/${W.api_end_point}/bulk-action`;try{return await T.post(a,{action:t,ids:e})}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function oc(t){let e=t.target,a=new FormData(e),n=`${W.api_host}/${W.api_version}/${W.api_end_point}/import`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function lc(t={}){let e=dt();e.filter_criteria={...e.filter_criteria,...t}}async function ic(t={}){C(dt,["item"]).item.set(t)}async function rc(t=!0){C(dt,["only_latest_data"]).only_latest_data.set(t)}async function dc(t=1){C(dt,["page"]).page.set(t)}async function cc(t=10){C(dt,["paginate"]).paginate.set(t)}async function _c(t=!0){C(dt,["show_details_canvas"]).show_details_canvas.set(t)}async function uc(t=!0){C(dt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function pc(t="active"){C(dt,["status"]).status.set(t)}async function fc(){C(dt,["selected"]).selected.set([])}const dt=Ct(W.store_prefix,{state:()=>zd,getters:{},actions:{get_all:Xd,create:Yd,update:Zd,details:Qd,update_status:ec,soft_delete:tc,restore:sc,destroy:ac,bulk_action:nc,import_data:oc,set_page:dc,set_paginate:cc,set_show_details_canvas:_c,set_item:ic,set_show_filter_canvas:uc,set_filter_criteria:lc,set_status:pc,set_only_latest_data:rc,clear_selected:fc}});var mc=function(){function t(){}return t.prototype.exportFile=function(e,a,n){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([n]);window.navigator.msSaveOrOpenBlob(l,a)}else{var o="\uFEFF",i=encodeURIComponent(n),d="data:text/"+e+";charset=utf-8,"+o+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),hc=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var o in l)l.hasOwnProperty(o)&&(n[o]=l[o])},t(e,a)};return function(e,a){t(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();globalThis&&globalThis.__importDefault;var gc=function(t){hc(e,t);function e(a){var n=t.call(this)||this;return n._FileName="",n._Delimeter=",",n._Columns=[],n._RowData=[],n._FileName=a,n}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,n=[];this._Columns&&this._Columns.length>0&&n.push(this.getRowData(this._Columns)),this._RowData.forEach(function(o){n.push(a.getRowData(o))});var l=n.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(mc);const Ee=gc;let vc=W.store_prefix;async function xa(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${W.api_host}/${W.api_version}/${W.api_end_point}`);a.searchParams.set("paginate",10);const n=["deleted_at","created_at","updated_at"];let l,o=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await T.get(a.href);if(i===1){e=d.data.data.last_page;const v=bc(d.data.data.data[0],n);l=new Ee(`${vc}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>yc(v,n));o=o.concat(r),console.log(`Accumulated ${o.length} rows so far`);const g=Math.round(100*i/e);window.update_loader(g)}l.addRows(o),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function bc(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function yc(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let $c=W.store_prefix;function Ca(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(o=>!e.includes(o)),n=t.map(o=>a.map(i=>o[i]));new Ee(`${$c}_list.csv`).setColumns(a).addRows(n).exportFile(),C(dt,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let wc=W.store_prefix;function Sa(){const t=W.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const n=[Array(a.length).fill("-")];new Ee(`${wc}_demo_list.csv`).setColumns(a).addRows(n).exportFile()}var kc="Expected a function",ss=0/0,xc="[object Symbol]",Cc=/^\s+|\s+$/g,Sc=/^[-+]0x[0-9a-f]+$/i,Dc=/^0b[01]+$/i,Ec=/^0o[0-7]+$/i,Tc=parseInt,Ac=typeof global=="object"&&global&&global.Object===Object&&global,Rc=typeof self=="object"&&self&&self.Object===Object&&self,Fc=Ac||Rc||Function("return this")(),jc=Object.prototype,Ic=jc.toString,Oc=Math.max,Bc=Math.min,se=function(){return Fc.Date.now()};function Da(t,e,a){var n,l,o,i,d,r,g=0,v=!1,y=!1,j=!0;if(typeof t!="function")throw new TypeError(kc);e=as(e)||0,me(a)&&(v=!!a.leading,y="maxWait"in a,o=y?Oc(as(a.maxWait)||0,e):o,j="trailing"in a?!!a.trailing:j);function E(m){var D=n,q=l;return n=l=void 0,g=m,i=t.apply(q,D),i}function V(m){return g=m,d=setTimeout(R,e),v?E(m):i}function k(m){var D=m-r,q=m-g,it=e-D;return y?Bc(it,o-q):it}function P(m){var D=m-r,q=m-g;return r===void 0||D>=e||D<0||y&&q>=o}function R(){var m=se();if(P(m))return L(m);d=setTimeout(R,k(m))}function L(m){return d=void 0,j&&n?E(m):(n=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),g=0,n=r=l=d=void 0}function z(){return d===void 0?i:L(se())}function U(){var m=se(),D=P(m);if(n=arguments,l=this,r=m,D){if(d===void 0)return V(r);if(y)return d=setTimeout(R,e),E(r)}return d===void 0&&(d=setTimeout(R,e)),i}return U.cancel=_,U.flush=z,U}function me(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Pc(t){return!!t&&typeof t=="object"}function Lc(t){return typeof t=="symbol"||Pc(t)&&Ic.call(t)==xc}function as(t){if(typeof t=="number")return t;if(Lc(t))return ss;if(me(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=me(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Cc,"");var a=Dc.test(t);return a||Ec.test(t)?Tc(t.slice(2),a?2:8):Sc.test(t)?ss:+t}function qc(t){console.log(t.target.checked);const e=C(dt,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(n=>{a=a.filter(l=>l.id!=n.id),a.push(n)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const Uc={methods:{set_all_item_selectd:qc}};function Hc(t,e,a,n,l,o){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>o.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Te=x(Uc,[["render",Hc]]);const Nc={data:()=>({setup:W}),components:{SelectAll:Te}},Vc=t=>(wt("data-v-efa70504"),t=t(),kt(),t),Mc=Vc(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),zc={class:"w-10 text-center"};function Wc(t,e,a,n,l,o){const i=b("select-all");return c(),u("tr",null,[Mc,s("th",zc,[w(i)]),(c(!0),u(S,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:I(r==0?"w-10":"")},p(d),3))),128))])}const Ea=x(Nc,[["render",Wc],["__scopeId","data-v-efa70504"]]);function Kc(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(n=>{n!==e&&n.classList.remove("active")}),e&&e.classList.toggle("active")}}const Jc={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:W})},Gc=s("i",{class:"fa fa-eye text-secondary"},null,-1);function Xc(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[Gc,f(" Show ")]),_:1},8,["to"])}const Yc=x(Jc,[["render",Xc]]),Qc={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:W})},Zc=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function t_(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[Zc,f(" Edit ")]),_:1},8,["to"])}const e_=x(Qc,[["render",t_]]),s_={props:{item:{slug:""}},methods:{...H(dt,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var n,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}}}},a_=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),n_=s("i",{class:"fa fa-eye text-warning"},null,-1);function o_(t,e,a,n,l,o){return c(),u(S,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[a_,f(" Inactive ")])):A("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[n_,f(" Active ")])):A("",!0)],64)}const l_=x(s_,[["render",o_]]),i_={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(dt,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}}}},r_=s("i",{class:"fa fa-ban text-warning"},null,-1),d_=s("i",{class:"fa fa-ban text-warning"},null,-1);function c_(t,e,a,n,l,o){return c(),u(S,null,[a.item.deleted_at?A("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=h(i=>o.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[r_,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=h(i=>o.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[d_,f(" Restore data ")])):A("",!0)],64)}const __=x(i_,[["render",c_]]),u_={props:{item:{slug:""}},methods:{...H(dt,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},p_=s("i",{class:"fa fa-trash text-danger"},null,-1);function f_(t,e,a,n,l,o){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=h((...i)=>o.destroy_data&&o.destroy_data(...i),["prevent"])),class:"border-danger"},[p_,f(" Destroy ")])}const m_=x(u_,[["render",f_]]),h_={props:{item:{type:Object,default:{}}},components:{DetailsBtn:Yc,Edit:e_,StatusButton:l_,Destroy:m_,DeleteRestore:__},methods:{active_row:Kc}},g_={class:"table_action_btns"};function v_(t,e,a,n,l,o){const i=b("details-btn"),d=b("edit"),r=b("status-button"),g=b("delete-restore"),v=b("destroy");return c(),u(S,null,[s("span",{onClick:e[0]||(e[0]=h(y=>o.active_row(y),["prevent"])),class:"icon"}),s("div",g_,[s("ul",null,[s("li",null,[w(i,{item:a.item},null,8,["item"])]),s("li",null,[w(d,{item:a.item},null,8,["item"])]),s("li",null,[w(r,{item:a.item},null,8,["item"])]),s("li",null,[w(g,{item:a.item},null,8,["item"])]),s("li",null,[w(v,{item:a.item},null,8,["item"])]),St(t.$slots,"default")])])],64)}const Ta=x(h_,[["render",v_]]);function b_(t,e){const a=C(dt,["selected"]);let n=a.selected.get();e.target.checked?n.push(t):n=n.filter(i=>i.id!=t.id),a.selected.set(n);let o=document.querySelector(".select_all_checkbox");o&&(o.checked=!1)}const y_={props:["data"],created:function(){},methods:{set_item_selectd:b_},computed:{...B(dt,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},$_=["checked"];function w_(t,e,a,n,l,o){return c(),u("input",{onChange:e[0]||(e[0]=i=>o.set_item_selectd(a.data,i)),checked:o.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,$_)}const Aa=x(y_,[["render",w_]]);const k_={props:["data"],data:()=>({setup:W}),components:{SelectAll:Te,TableRowAction:Ta,SelectSingle:Aa},methods:{updateStatus:async function(t){let e=event.target.checked;await axios.post("account-expenses/update-status?is_approved_status=1",{slug:t,is_approved:e})}}},x_={class:"text-wrap max-w-120"},C_={class:"text-wrap max-w-120"},S_={class:"text-wrap max-w-120"},D_={class:"text-wrap max-w-120"},E_={class:"text-wrap max-w-120"},T_={class:"text-wrap max-w-120"};function A_(t,e,a,n,l,o){const i=b("table-row-action"),d=b("select-single");return c(!0),u(S,null,F(a.data,r=>{var g;return c(),u("tr",{key:r.id,class:I(`table_rows table_row_${r.id}`)},[s("td",null,[w(i,{item:r},null,8,["item"])]),s("td",null,[w(d,{data:r},null,8,["data"])]),s("td",x_,p(r.id),1),s("td",C_,p(((g=r.account_category)==null?void 0:g.title)??"N/A"),1),s("td",S_,p(r.title??"N/A"),1),s("td",D_,p(r.amount??"N/A"),1),s("td",E_,p(r.is_approved==1?"Approved":"Pending"),1),s("td",T_,p(new Date(r.created_at).toLocaleString()),1)],2)}),128)}const Ra=x(k_,[["render",A_],["__scopeId","data-v-7fda8eda"]]),R_={components:{TableHead:Ea,TableBody:Ra},data:()=>({setup:W,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:xa,export_selected_csv:Ca,export_demo_csv:Sa,...H(dt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var n,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}},softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.destroy();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,n=new Set(this.selected);a?n.add(t):n.delete(t),this.selected=[...n]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let n=this.selected;n=n.map(o=>o.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,n);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:Da(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...C(dt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(n=>this.selected.some(l=>l.id===n.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},F_={class:"row"},j_={class:"col-sm-12"},I_={class:"card"},O_={class:"card-header"},B_={class:"row align-items-center"},P_={class:"col-12 col-md-3 mb-2 mb-md-0"},L_={class:"text-capitalize mb-0"},q_={class:"col-12 col-md-6 mb-2 mb-md-0"},U_={class:"col-12 col-md-3 text-md-right text-sm-left"},H_=s("i",{class:"fa fa-gear mx-2"},null,-1),N_={class:"card-body"},V_={class:"table-responsive table_responsive card_body_fixed_height"},M_={class:"table table-hover text-center table-bordered"},z_={key:0},W_={class:"mx-3"},K_={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},J_={class:"pagination my-2",style:{"font-size":"11px"}},G_=["onClick","href","innerHTML"],X_={class:"d-flex",style:{gap:"5px"}},Y_=s("span",null,null,-1),Q_=s("span",null,"-",-1),Z_=s("span",null,"of",-1),tu={class:"d-flex",style:{gap:"5px"}},eu=s("span",null,null,-1),su=s("span",null," Limit ",-1),au=nt('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),nu=[au],ou={class:"card-footer py-2"},lu={class:"d-flex flex-wrap align-items-center"},iu={class:"mr-2 mb-2"},ru=s("i",{class:"fa fa-edit mr-2"},null,-1),du={class:"mr-2 mb-2"},cu=s("i",{class:"fa fa-print mr-2"},null,-1),_u={key:0,class:"mr-2 mb-2"},uu=s("i",{class:"fa fa-sign-out mr-2"},null,-1),pu={class:"mr-2 mb-2"},fu=s("i",{class:"fa fa-download mr-2"},null,-1),mu={class:"mr-2 mb-2"},hu=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),gu={class:"mr-2 mb-2"},vu=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),bu={class:"mr-2 mb-2"},yu=s("i",{class:"fa fa-trash mr-2"},null,-1),$u={key:1,class:"mr-2 mb-2"},wu=nt('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),ku=[wu],xu=nt('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),Cu={class:"off_canvas_body"},Su={class:"header"},Du=s("h3",{class:"heading_text"},"Filter",-1),Eu=s("span",{class:"fa fa-close border p-2"},null,-1),Tu=[Eu],Au={class:"data_content"},Ru={class:"filter_item"},Fu=s("label",{for:"start_date"},"Start Date",-1),ju={for:"start_date",class:"text-capitalize d-block date_custom_control"},Iu={class:"filter_item"},Ou=s("label",{for:"end_date"},"End Date",-1),Bu={for:"end_date",class:"text-capitalize d-block date_custom_control"},Pu={class:"filter_item"},Lu=s("label",{for:"sort_by_col"},"Sort By Col",-1),qu={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},Uu={class:"filter_item"},Hu=s("label",{for:"sort_by_col"},"Sort Type",-1),Nu={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},Vu={class:"filter_item"},Mu=s("div",{class:"off_canvas_overlay"},null,-1),zu={class:"modal-dialog modal-dialog-centered"},Wu={class:"modal-content border-primary"},Ku={class:"modal-header bg-primary"},Ju={class:"modal-title text-white"},Gu=s("span",{"aria-hidden":"true"},"",-1),Xu=[Gu],Yu={class:"modal-body"},Qu=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),Zu=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),tp={class:"modal-footer"},ep=s("i",{class:"fa fa-times"},null,-1),sp=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function ap(t,e,a,n,l,o){var g,v,y,j,E,V,k,P,R,L;const i=b("table-head"),d=b("table-body"),r=b("router-link");return c(),u("div",null,[s("div",F_,[s("div",j_,[s("div",I_,[s("div",O_,[s("div",B_,[s("div",P_,[s("h5",L_,p(t.setup.all_page_title),1)]),s("div",q_,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>o.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",U_,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[H_,f("Filter ")])])])]),s("div",N_,[s("div",V_,[s("table",M_,[s("thead",null,[w(i)]),(v=(g=t.all)==null?void 0:g.data)!=null&&v.length?(c(),u("tbody",z_,[w(d,{data:(y=t.all)==null?void 0:y.data},null,8,["data"])])):A("",!0)])])]),s("div",W_,[s("nav",K_,[s("ul",J_,[(c(!0),u(S,null,F((j=t.all)==null?void 0:j.links,(_,z)=>{var U,m,D;return c(),u("li",{key:z,class:I(["page-item",{active:_.active}])},[s("a",{class:I(["page-link",((U=t.all)==null?void 0:U.current_page)==((m=t.all)==null?void 0:m.last_page)&&((D=t.all)==null?void 0:D.links.length)-1==z?"disabled":""]),onClick:h(q=>o.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,G_)],2)}),128))]),s("div",X_,[Y_,s("span",null,p((E=t.all)==null?void 0:E.from),1),Q_,s("span",null,p((V=t.all)==null?void 0:V.to),1),Z_,s("span",null,p((k=t.all)==null?void 0:k.total),1)]),s("div",tu,[eu,su,N(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>o.set_per_page_limit&&o.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},nu,544),[[ot,t.paginate]])])])]),s("div",ou,[s("div",lu,[s("div",iu,[w(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:O(()=>[ru,f(" Create ")]),_:1},8,["to"])]),s("div",du,[s("a",{href:"",onClick:e[4]||(e[4]=h(()=>o.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[cu,f(" Export All ")])]),(P=this.selected)!=null&&P.length?(c(),u("div",_u,[s("a",{href:"",onClick:e[5]||(e[5]=h(_=>o.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[uu,f(" Export ("+p((R=this.selected)==null?void 0:R.length)+") ",1)])])):A("",!0),s("div",pu,[s("a",{href:"",onClick:e[6]||(e[6]=h(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[fu,f(" Import ")])]),s("div",mu,[s("a",{href:"",onClick:e[7]||(e[7]=h(_=>o.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[hu,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",gu,[s("a",{href:"",onClick:e[8]||(e[8]=h(_=>o.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[vu,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",bu,[s("a",{href:"",onClick:e[9]||(e[9]=h(_=>o.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[yu,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(L=this.selected)!=null&&L.length?(c(),u("div",$u,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>o.bulkActions&&o.bulkActions(..._))},ku,32)])):A("",!0)])])])])]),xu,s("div",{class:I(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",Cu,[s("div",Su,[Du,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},Tu)]),s("div",Au,[s("div",Ru,[Fu,s("label",ju,[N(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[rt,t.start_date]])])]),s("div",Iu,[Ou,s("label",Bu,[N(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[rt,t.end_date]])])]),s("div",Pu,[Lu,s("label",qu,[N(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(S,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[ot,t.sort_by_col]])])]),s("div",Uu,[Hu,s("label",Nu,[N(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(S,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[ot,t.sort_type]])])]),s("div",Vu,[s("button",{onClick:e[16]||(e[16]=h(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),Mu],2),s("div",{class:I(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",zu,[s("form",{onSubmit:e[20]||(e[20]=h((..._)=>o.FileUploadHandler&&o.FileUploadHandler(..._),["prevent"]))},[s("div",Wu,[s("div",Ku,[s("h5",Ju," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},Xu)]),s("div",Yu,[Qu,Zu,s("a",{href:"",onClick:e[18]||(e[18]=h((..._)=>o.export_demo_csv&&o.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",tp,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[ep,f(" Close ")]),sp])])],32)])],2)])}const np=x(R_,[["render",ap]]),op=[{name:"account_category_id",label:"Select account category ",type:"select",value:"",data_list:[]},{name:"title",label:"Enter  title",type:"text",value:""},{name:"amount",label:"Enter  amount",type:"number",value:""},{name:"customer_id",label:"Select  Customer",type:"select",value:"",data_list:[]},{name:"date",label:"Enter  date",type:"date",value:""},{name:"document",label:"Upload  document",type:"file",value:""},{name:"description",label:"Enter  description",type:"textarea",value:"",row_col_class:"col-md-12"}],lp={data:()=>({setup:W,form_fields:op,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t),this.get_all_account_categories(),this.get_all_customers()},methods:{...H(dt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(n=>{e.name==n[0]&&(this.form_fields[a].value=n[1]),e.name=="description"&&n[0]=="description"&&$("#description").summernote("code",n[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){this.setSummerEditor();let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{this.setSummerEditor();let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}},setSummerEditor(){var t=$("#description").summernote("code"),e=document.createElement("input");e.setAttribute("name","description"),e.value=t,document.getElementById("description").appendChild(e)},get_all_account_categories:async function(){let t=await axios.get("account-categories?get_all=1&type=expense");t.data.status=="success"&&(t=t.data.data,this.form_fields[0].data_list=[],t.forEach(e=>{let a={};a.label=e.title,a.value=e.id,this.form_fields[0].data_list.push(a)}))},get_all_customers:async function(){let t=await axios.get("customers?get_all=1");t.data.status=="success"&&(t=t.data.data,this.form_fields[3].data_list=[],t.forEach(e=>{let a={};a.label=e.name,a.value=e.id,this.form_fields[3].data_list.push(a)}))}},computed:{...B(dt,{item:"item"})}},ip={class:"card"},rp={class:"card-header d-flex justify-content-between"},dp={class:"text-capitalize"},cp={class:"card-body card_body_fixed_height"},_p={class:"row"},up=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function pp(t,e,a,n,l,o){const i=b("router-link"),d=b("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=h((...r)=>o.submitHandler&&o.submitHandler(...r),["prevent"]))},[s("div",ip,[s("div",rp,[s("h5",dp,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),M(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):A("",!0),w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",cp,[s("div",_p,[(c(!0),u(S,null,F(t.form_fields,(r,g)=>(c(),M(d,{key:g,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),up])],32)])}const ns=x(lp,[["render",pp]]);const fp={props:["item"],data:()=>({setup:W}),components:{SelectAll:Te,TableRowAction:Ta,SelectSingle:Aa},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},mp=t=>(wt("data-v-8615310e"),t=t(),kt(),t),hp=mp(()=>s("th",{class:"text-center"},":",-1)),gp={class:"text-trim"};function vp(t,e,a,n,l,o){return c(!0),u(S,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),hp,s("th",gp,p(o.trim_content(a.item[i],i)),1)]))),128)}const bp=x(fp,[["render",vp],["__scopeId","data-v-8615310e"]]),yp={components:{DataDetialsTableBody:bp},data:()=>({setup:W}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(dt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...C(dt,{item:"item"})}},$p={class:"card"},wp={class:"card-header d-flex justify-content-between"},kp={class:"text-capitalize"},xp={class:"card-body card_body_fixed_height"},Cp={class:"row"},Sp={class:"col-lg-8"},Dp={class:"table quick_modal_table table-bordered"},Ep={class:"card-footer"},Tp=s("i",{class:"fa fa-angle-left"},null,-1),Ap=s("i",{class:"fa fa-angle-right"},null,-1);function Rp(t,e,a,n,l,o){const i=b("router-link"),d=b("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=h((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",$p,[s("div",wp,[s("h5",kp,p(t.setup.details_page_title),1),s("div",null,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",xp,[s("div",Cp,[s("div",Sp,[s("table",Dp,[s("tbody",null,[w(d,{item:t.item},null,8,["item"])])])])])]),s("div",Ep,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(r=>o.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[Tp,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):A("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(r=>o.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),Ap])):A("",!0)])])],32)])}const Fp=x(yp,[["render",Rp]]),jp={components:{TableHead:Ea,TableBody:Ra},data:()=>({setup:W,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv",employees:[]}),created:async function(){this.set_status("pending_voucher"),await this.get_all(),await this.get_employees()},methods:{export_all_csv:xa,export_selected_csv:Ca,export_demo_csv:Sa,...H(dt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),get_employees:async function(){let t=await axios.get("users?employee_list=1&get_all=1");t.data.status==="success"&&(this.employees=t.data.data)},active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.destroy();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,n=new Set(this.selected);a?n.add(t):n.delete(t),this.selected=[...n]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let n=this.selected;n=n.map(o=>o.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,n);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:Da(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500),updateStatus:async function(t,e){if(!await window.s_confirm("Are you sure you want to update the status?")){e.is_approved=!e.is_approved;return}let n=t.target.checked;try{let l=await axios.post("account-expenses/update-status",{slug:e.slug,is_approved:n});l.data.status==="success"&&(window.s_alert(l.data.message),this.set_only_latest_data(!0),await this.get_all())}catch{window.s_warning("An error occurred while updating the status.")}}},computed:{...C(dt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","employee_id","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(n=>this.selected.some(l=>l.id===n.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0},employee_id:{handler:function(t){let e={employee_id:t};this.set_filter_criteria(e)},deep:!0}}},Ip={class:"row"},Op={class:"col-sm-12"},Bp={class:"card"},Pp={class:"card-header"},Lp={class:"row align-items-center"},qp=s("div",{class:"col-12 col-md-3 mb-2 mb-md-0"},[s("h5",{class:"text-capitalize mb-0"},"All Pending Vouchers")],-1),Up={class:"col-12 col-md-6 mb-2 mb-md-0"},Hp={class:"col-12 col-md-3 text-md-right text-sm-left"},Np=s("i",{class:"fa fa-gear mx-2"},null,-1),Vp={class:"card-body"},Mp={class:"table-responsive table_responsive card_body_fixed_height"},zp={class:"table table-hover text-center table-bordered"},Wp=s("th",null,[s("i",{class:"zmdi zmdi-settings zmdi-hc-2x",title:"Actions"})],-1),Kp={class:"w-10 text-center"},Jp=["checked"],Gp=s("th",{class:"w-10"},"ID",-1),Xp=s("th",null,"employee",-1),Yp=s("th",null,"account category",-1),Qp=s("th",null,"title",-1),Zp=s("th",null,"amount",-1),tf=s("th",null,"status",-1),ef=s("th",null,"created_at",-1),sf={class:"table_action_btns"},af=s("i",{class:"fa fa-eye text-secondary"},null,-1),nf=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1),of={key:0},lf=["onClick"],rf=s("i",{class:"fa fa-ban text-warning"},null,-1),df={key:1},cf=["onClick"],_f=s("i",{class:"fa fa-refresh text-warning"},null,-1),uf=["onClick"],pf=s("i",{class:"fa fa-trash text-danger"},null,-1),ff=["onChange","checked"],mf={class:"custom-control custom-switch"},hf=["id","onUpdate:modelValue","onChange"],gf=["for"],vf={class:"mx-3"},bf={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},yf={class:"pagination my-2",style:{"font-size":"11px"}},$f=["onClick","href","innerHTML"],wf={class:"d-flex",style:{gap:"5px"}},kf=s("span",null,null,-1),xf=s("span",null,"-",-1),Cf=s("span",null,"of",-1),Sf={class:"d-flex",style:{gap:"5px"}},Df=s("span",null,null,-1),Ef=s("span",null," Limit ",-1),Tf=nt('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),Af=[Tf],Rf={class:"card-footer py-2"},Ff={class:"d-flex flex-wrap align-items-center"},jf={class:"mr-2 mb-2"},If=s("i",{class:"fa fa-edit mr-2"},null,-1),Of={class:"mr-2 mb-2"},Bf=s("i",{class:"fa fa-print mr-2"},null,-1),Pf={key:0,class:"mr-2 mb-2"},Lf=s("i",{class:"fa fa-sign-out mr-2"},null,-1),qf={class:"mr-2 mb-2"},Uf=s("i",{class:"fa fa-download mr-2"},null,-1),Hf={class:"mr-2 mb-2"},Nf=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),Vf={class:"mr-2 mb-2"},Mf=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),zf={class:"mr-2 mb-2"},Wf=s("i",{class:"fa fa-trash mr-2"},null,-1),Kf={key:1,class:"mr-2 mb-2"},Jf=nt('<option disabled selected>Select action</option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete">Soft Delete</option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),Gf=[Jf],Xf=nt('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),Yf={class:"off_canvas_body"},Qf={class:"header"},Zf=s("h3",{class:"heading_text"},"Filter",-1),tm=s("span",{class:"fa fa-close border p-2"},null,-1),em=[tm],sm={class:"data_content"},am={class:"filter_item"},nm=s("label",{for:"start_date"},"Start Date",-1),om={for:"start_date",class:"text-capitalize d-block date_custom_control"},lm={class:"filter_item"},im=s("label",{for:"end_date"},"End Date",-1),rm={for:"end_date",class:"text-capitalize d-block date_custom_control"},dm={class:"filter_item"},cm=s("label",{for:"sort_by_col"},"Employee",-1),_m={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},um=["value"],pm={class:"filter_item"},fm=s("label",{for:"sort_by_col"},"Sort By Col",-1),mm={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},hm={class:"filter_item"},gm=s("label",{for:"sort_by_col"},"Sort Type",-1),vm={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},bm={class:"filter_item"},ym=s("div",{class:"off_canvas_overlay"},null,-1),$m={class:"modal-dialog modal-dialog-centered"},wm={class:"modal-content border-primary"},km={class:"modal-header bg-primary"},xm={class:"modal-title text-white"},Cm=s("span",{"aria-hidden":"true"},"",-1),Sm=[Cm],Dm={class:"modal-body"},Em=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),Tm=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),Am={class:"modal-footer"},Rm=s("i",{class:"fa fa-times"},null,-1),Fm=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function jm(t,e,a,n,l,o){var d,r,g,v,y,j,E,V;const i=b("router-link");return c(),u("div",null,[s("div",Ip,[s("div",Op,[s("div",Bp,[s("div",Pp,[s("div",Lp,[qp,s("div",Up,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=k=>o.set_search_key(k)),placeholder:"Search"},null,32)]),s("div",Hp,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(...k)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(...k))},[Np,f("Filter ")])])])]),s("div",Vp,[s("div",Mp,[s("table",zp,[s("thead",null,[s("tr",null,[Wp,s("th",Kp,[s("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[2]||(e[2]=k=>o.set_all_item_selected(k)),type:"checkbox",checked:o.isAllSelected},null,40,Jp)]),Gp,Xp,Yp,Qp,Zp,tf,ef])]),s("tbody",null,[(c(!0),u(S,null,F((d=t.all)==null?void 0:d.data,k=>{var P,R;return c(),u("tr",{key:k.id,class:I(`table_rows table_row_${k.id}`)},[s("td",null,[s("span",{class:"icon",onClick:e[3]||(e[3]=h(L=>o.active_row(L),["prevent"]))}),s("div",sf,[s("ul",null,[s("li",null,[w(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:k.slug}},class:"border-secondary"},{default:O(()=>[af,f(" Show ")]),_:2},1032,["to"])]),s("li",null,[w(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:k.slug}},class:"border-secondary"},{default:O(()=>[nf,f(" Edit ")]),_:2},1032,["to"])]),t.is_trashed_data?A("",!0):(c(),u("li",of,[s("a",{onClick:h(L=>o.softDelete(k),["prevent"]),href:"",class:"border-danger"},[rf,f(" Soft Delete ")],8,lf)])),t.is_trashed_data?(c(),u("li",df,[s("a",{onClick:h(L=>o.restore_data(k),["prevent"]),href:"",class:"border-danger"},[_f,f(" Restore data ")],8,cf)])):A("",!0),s("li",null,[s("a",{onClick:h(L=>o.destroy_data(k),["prevent"]),href:"",class:"border-danger"},[pf,f(" Destroy ")],8,uf)])])])]),s("td",null,[s("input",{onChange:L=>o.set_item_selected(k,L),checked:o.isSelected(k),class:"form-check-input ml-0",type:"checkbox"},null,40,ff)]),s("td",null,p(k.id),1),s("td",null,p((P=k.user)==null?void 0:P.name),1),s("td",null,p((R=k.account_category)==null?void 0:R.title.substr(0,50)),1),s("td",null,p(k.title.substr(0,50)),1),s("td",null,p(k.amount),1),s("td",null,[s("div",mf,[N(s("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch"+k.id,"onUpdate:modelValue":L=>k.is_approved=L,onChange:L=>o.updateStatus(L,k)},null,40,hf),[[on,k.is_approved]]),s("label",{class:"custom-control-label",for:"customSwitch"+k.id},p(k.is_approved==1?"Approved":"Not Approved"),9,gf)])]),s("td",null,p(k.created_at),1)],2)}),128))])])])]),s("div",vf,[s("nav",bf,[s("ul",yf,[(c(!0),u(S,null,F((r=t.all)==null?void 0:r.links,(k,P)=>{var R,L,_;return c(),u("li",{key:P,class:I(["page-item",{active:k.active}])},[s("a",{class:I(["page-link",((R=t.all)==null?void 0:R.current_page)==((L=t.all)==null?void 0:L.last_page)&&((_=t.all)==null?void 0:_.links.length)-1==P?"disabled":""]),onClick:h(z=>o.set_page_data(k),["prevent"]),href:k.url,innerHTML:`<span>${k.label}</span>`},null,10,$f)],2)}),128))]),s("div",wf,[kf,s("span",null,p((g=t.all)==null?void 0:g.from),1),xf,s("span",null,p((v=t.all)==null?void 0:v.to),1),Cf,s("span",null,p((y=t.all)==null?void 0:y.total),1)]),s("div",Sf,[Df,Ef,N(s("select",{"onUpdate:modelValue":e[4]||(e[4]=k=>t.paginate=k),onChange:e[5]||(e[5]=(...k)=>o.set_per_page_limit&&o.set_per_page_limit(...k)),class:"bg-transparent text-white rounded-1"},Af,544),[[ot,t.paginate]])])])]),s("div",Rf,[s("div",Ff,[s("div",jf,[w(i,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:O(()=>[If,f(" Create ")]),_:1},8,["to"])]),s("div",Of,[s("a",{href:"",onClick:e[6]||(e[6]=h(()=>o.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[Bf,f(" Export All ")])]),(j=this.selected)!=null&&j.length?(c(),u("div",Pf,[s("a",{href:"",onClick:e[7]||(e[7]=h(k=>o.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[Lf,f(" Export ("+p((E=this.selected)==null?void 0:E.length)+") ",1)])])):A("",!0),s("div",qf,[s("a",{href:"",onClick:e[8]||(e[8]=h(k=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[Uf,f(" Import ")])]),s("div",Hf,[s("a",{href:"",onClick:e[9]||(e[9]=h(k=>o.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[Nf,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",Vf,[s("a",{href:"",onClick:e[10]||(e[10]=h(k=>o.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[Mf,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",zf,[s("a",{href:"",onClick:e[11]||(e[11]=h(k=>o.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[Wf,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(V=this.selected)!=null&&V.length?(c(),u("div",Kf,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[12]||(e[12]=(...k)=>o.bulkActions&&o.bulkActions(...k))},Gf,32)])):A("",!0)])])])])]),Xf,s("div",{class:I(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",Yf,[s("div",Qf,[Zf,s("button",{class:"close_button",onClick:e[13]||(e[13]=k=>t.set_show_filter_canvas(!1))},em)]),s("div",sm,[s("div",am,[nm,s("label",om,[N(s("input",{"onUpdate:modelValue":e[14]||(e[14]=k=>t.start_date=k),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[rt,t.start_date]])])]),s("div",lm,[im,s("label",rm,[N(s("input",{"onUpdate:modelValue":e[15]||(e[15]=k=>t.end_date=k),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[rt,t.end_date]])])]),s("div",dm,[cm,s("label",_m,[N(s("select",{"onUpdate:modelValue":e[16]||(e[16]=k=>t.employee_id=k),class:"form-control"},[(c(!0),u(S,null,F(t.employees,k=>(c(),u("option",{key:k,value:k.id},p(k.name),9,um))),128))],512),[[ot,t.employee_id]])])]),s("div",pm,[fm,s("label",mm,[N(s("select",{"onUpdate:modelValue":e[17]||(e[17]=k=>t.sort_by_col=k),class:"form-control"},[(c(!0),u(S,null,F(t.sort_by_cols,k=>(c(),u("option",{key:k},p(k),1))),128))],512),[[ot,t.sort_by_col]])])]),s("div",hm,[gm,s("label",vm,[N(s("select",{"onUpdate:modelValue":e[18]||(e[18]=k=>t.sort_type=k),class:"form-control"},[(c(),u(S,null,F(["ASC","DESC"],k=>s("option",{key:k},p(k),1)),64))],512),[[ot,t.sort_type]])])]),s("div",bm,[s("button",{onClick:e[19]||(e[19]=h(k=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),ym],2),s("div",{class:I(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",$m,[s("form",{onSubmit:e[23]||(e[23]=h((...k)=>o.FileUploadHandler&&o.FileUploadHandler(...k),["prevent"]))},[s("div",wm,[s("div",km,[s("h5",xm,"Import "+p(t.setup.prefix),1),s("button",{onClick:e[20]||(e[20]=k=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},Sm)]),s("div",Dm,[Em,Tm,s("a",{href:"",onClick:e[21]||(e[21]=h((...k)=>o.export_demo_csv&&o.export_demo_csv(...k),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",Am,[s("button",{onClick:e[22]||(e[22]=k=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[Rm,f(" Close ")]),Fm])])],32)])],2)])}const Im=x(jp,[["render",jm]]),Om={};function Bm(t,e,a,n,l,o){const i=b("router-view");return c(),M(i)}const Pm=x(Om,[["render",Bm]]);let Nt=W.route_prefix,Lm=W.route_path;const qm={path:Lm,component:Pm,children:[{path:"all",name:"All"+Nt,component:np},{path:"create",name:"Create"+Nt,component:ns},{path:"details/:id",name:"Details"+Nt,component:Fp},{path:"edit/:id",name:"Edit"+Nt,component:ns},{path:"pending",name:"AllPendingVoucher",component:Im}]},Tt="AccountIncome",K={prefix:Tt,permission:["admin","super_admin"],api_host:$t.api_host,api_version:$t.api_version,api_end_point:"account-incomes",module_name:"account-income",store_prefix:"account_income",route_prefix:"AccountIncome",route_path:"account-income",select_fields:["id","account_category_id","title","amount","description","status","slug","created_at","deleted_at"],sort_by_cols:["id","account_category_id","title","amount","description","status","created_at"],table_header_data:["id","account category","title","amount","status","created_at"],table_row_data:["id","account_category","title","amount","status","created_at"],layout_title:Tt+" Management",page_title:`${Tt} Management`,all_page_title:"All "+Tt,details_page_title:"Details "+Tt,create_page_title:"Create "+Tt,edit_page_title:"Edit "+Tt},Um={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:K.select_fields,sort_by_cols:K.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function os(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function ls(t,e,a){try{const n=await T.get(t);await e.put(t,new Response(JSON.stringify(n.data)));let o=performance.now()-a;return os({href:t,duration:o,status:n.status}),n}catch(n){console.error(n.response.data);let o=performance.now()-a;throw os({href:t,duration:o,status:n.response.status,message:n.response.data.message}),new Error(n.response.statusText)}}function Hm(t){return t/1024}async function is(t,e){let a={data:{},status:200},n=0,l=0,o=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),g=await r.keys(),v=g.length;if(v>15)for(let E=0;E<v-15;E++)await r.delete(g[E]);const y=await r.match(t);return y&&e===!1?(a.data=await y.json(),ls(t,r,i)):a=await ls(t,r,i),n=performance.now(),l=n-i,o=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:Hm(o)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:Nm,api_version:Vm,api_end_point:Mm}=K;let zm=async()=>{let t=C(ct,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},n=`${Nm}/${Vm}/${Mm}?only_employee_data=1`,l=new URL(n),o=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(n=t.url.get(),a=await is(n,o)):a=await is(l.href,o),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function Wm(t){let e=t.target,a=new FormData(e),n=`${K.api_host}/${K.api_version}/${K.api_end_point}/store`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Km(t){let e=C(ct,["item"]),a=`${K.api_host}/${K.api_version}/${K.api_end_point}/${t}`;try{let n=await T.get(a);e.item.set(n.data.data)}catch(n){return window.s_alert("something is wrong.","error"),n.response}}async function Jm(t){let e=B(ct,["item"]),a=t.target,n=new FormData(a);n.append("id",e.item().id);let l=`${K.api_host}/${K.api_version}/${K.api_end_point}/update/${e.item().slug}`;try{return await T.post(l,n)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function Gm(){let t=B(ct,["item"]),e=`${K.api_host}/${K.api_version}/${K.api_end_point}/soft-delete`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Xm(){let t=B(ct,["item"]),e=`${K.api_host}/${K.api_version}/${K.api_end_point}/update-status`;try{return await T.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function Ym(){let t=B(ct,["item"]),e=`${K.api_host}/${K.api_version}/${K.api_end_point}/restore`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Qm(){let t=B(ct,["item"]),e=`${K.api_host}/${K.api_version}/${K.api_end_point}/destroy/${t.item().slug}`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Zm(t,e){let a=`${K.api_host}/${K.api_version}/${K.api_end_point}/bulk-action`;try{return await T.post(a,{action:t,ids:e})}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function th(t){let e=t.target,a=new FormData(e),n=`${K.api_host}/${K.api_version}/${K.api_end_point}/import`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function eh(t={}){let e=ct();e.filter_criteria={...e.filter_criteria,...t}}async function sh(t={}){C(ct,["item"]).item.set(t)}async function ah(t=!0){C(ct,["only_latest_data"]).only_latest_data.set(t)}async function nh(t=1){C(ct,["page"]).page.set(t)}async function oh(t=10){C(ct,["paginate"]).paginate.set(t)}async function lh(t=!0){C(ct,["show_details_canvas"]).show_details_canvas.set(t)}async function ih(t=!0){C(ct,["show_filter_canvas"]).show_filter_canvas.set(t)}async function rh(t="active"){C(ct,["status"]).status.set(t)}async function dh(){C(ct,["selected"]).selected.set([])}const ct=Ct(K.store_prefix,{state:()=>Um,getters:{},actions:{get_all:zm,create:Wm,update:Jm,details:Km,update_status:Xm,soft_delete:Gm,restore:Ym,destroy:Qm,bulk_action:Zm,import_data:th,set_page:nh,set_paginate:oh,set_show_details_canvas:lh,set_item:sh,set_show_filter_canvas:ih,set_filter_criteria:eh,set_status:rh,set_only_latest_data:ah,clear_selected:dh}});var ch=function(){function t(){}return t.prototype.exportFile=function(e,a,n){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([n]);window.navigator.msSaveOrOpenBlob(l,a)}else{var o="\uFEFF",i=encodeURIComponent(n),d="data:text/"+e+";charset=utf-8,"+o+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),_h=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var o in l)l.hasOwnProperty(o)&&(n[o]=l[o])},t(e,a)};return function(e,a){t(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();globalThis&&globalThis.__importDefault;var uh=function(t){_h(e,t);function e(a){var n=t.call(this)||this;return n._FileName="",n._Delimeter=",",n._Columns=[],n._RowData=[],n._FileName=a,n}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,n=[];this._Columns&&this._Columns.length>0&&n.push(this.getRowData(this._Columns)),this._RowData.forEach(function(o){n.push(a.getRowData(o))});var l=n.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(ch);const Ae=uh;let ph=K.store_prefix;async function fh(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${K.api_host}/${K.api_version}/${K.api_end_point}`);a.searchParams.set("paginate",10);const n=["deleted_at","created_at","updated_at"];let l,o=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await T.get(a.href);if(i===1){e=d.data.data.last_page;const v=mh(d.data.data.data[0],n);l=new Ae(`${ph}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>hh(v,n));o=o.concat(r),console.log(`Accumulated ${o.length} rows so far`);const g=Math.round(100*i/e);window.update_loader(g)}l.addRows(o),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function mh(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function hh(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let gh=K.store_prefix;function vh(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(o=>!e.includes(o)),n=t.map(o=>a.map(i=>o[i]));new Ae(`${gh}_list.csv`).setColumns(a).addRows(n).exportFile(),C(ct,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let bh=K.store_prefix;function yh(){const t=K.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const n=[Array(a.length).fill("-")];new Ae(`${bh}_demo_list.csv`).setColumns(a).addRows(n).exportFile()}var $h="Expected a function",rs=0/0,wh="[object Symbol]",kh=/^\s+|\s+$/g,xh=/^[-+]0x[0-9a-f]+$/i,Ch=/^0b[01]+$/i,Sh=/^0o[0-7]+$/i,Dh=parseInt,Eh=typeof global=="object"&&global&&global.Object===Object&&global,Th=typeof self=="object"&&self&&self.Object===Object&&self,Ah=Eh||Th||Function("return this")(),Rh=Object.prototype,Fh=Rh.toString,jh=Math.max,Ih=Math.min,ae=function(){return Ah.Date.now()};function Oh(t,e,a){var n,l,o,i,d,r,g=0,v=!1,y=!1,j=!0;if(typeof t!="function")throw new TypeError($h);e=ds(e)||0,he(a)&&(v=!!a.leading,y="maxWait"in a,o=y?jh(ds(a.maxWait)||0,e):o,j="trailing"in a?!!a.trailing:j);function E(m){var D=n,q=l;return n=l=void 0,g=m,i=t.apply(q,D),i}function V(m){return g=m,d=setTimeout(R,e),v?E(m):i}function k(m){var D=m-r,q=m-g,it=e-D;return y?Ih(it,o-q):it}function P(m){var D=m-r,q=m-g;return r===void 0||D>=e||D<0||y&&q>=o}function R(){var m=ae();if(P(m))return L(m);d=setTimeout(R,k(m))}function L(m){return d=void 0,j&&n?E(m):(n=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),g=0,n=r=l=d=void 0}function z(){return d===void 0?i:L(ae())}function U(){var m=ae(),D=P(m);if(n=arguments,l=this,r=m,D){if(d===void 0)return V(r);if(y)return d=setTimeout(R,e),E(r)}return d===void 0&&(d=setTimeout(R,e)),i}return U.cancel=_,U.flush=z,U}function he(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Bh(t){return!!t&&typeof t=="object"}function Ph(t){return typeof t=="symbol"||Bh(t)&&Fh.call(t)==wh}function ds(t){if(typeof t=="number")return t;if(Ph(t))return rs;if(he(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=he(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(kh,"");var a=Ch.test(t);return a||Sh.test(t)?Dh(t.slice(2),a?2:8):xh.test(t)?rs:+t}function Lh(t){console.log(t.target.checked);const e=C(ct,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(n=>{a=a.filter(l=>l.id!=n.id),a.push(n)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const qh={methods:{set_all_item_selectd:Lh}};function Uh(t,e,a,n,l,o){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>o.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Re=x(qh,[["render",Uh]]);const Hh={data:()=>({setup:K}),components:{SelectAll:Re}},Nh=t=>(wt("data-v-84d9dd9c"),t=t(),kt(),t),Vh=Nh(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),Mh={class:"w-10 text-center"};function zh(t,e,a,n,l,o){const i=b("select-all");return c(),u("tr",null,[Vh,s("th",Mh,[w(i)]),(c(!0),u(S,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:I(r==0?"w-10":"")},p(d),3))),128))])}const Wh=x(Hh,[["render",zh],["__scopeId","data-v-84d9dd9c"]]);function Kh(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(n=>{n!==e&&n.classList.remove("active")}),e&&e.classList.toggle("active")}}const Jh={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:K})},Gh=s("i",{class:"fa fa-eye text-secondary"},null,-1);function Xh(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[Gh,f(" Show ")]),_:1},8,["to"])}const Yh=x(Jh,[["render",Xh]]),Qh={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:K})},Zh=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function tg(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[Zh,f(" Edit ")]),_:1},8,["to"])}const eg=x(Qh,[["render",tg]]),sg={props:{item:{slug:""}},methods:{...H(ct,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var n,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}}}},ag=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),ng=s("i",{class:"fa fa-eye text-warning"},null,-1);function og(t,e,a,n,l,o){return c(),u(S,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[ag,f(" Inactive ")])):A("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[ng,f(" Active ")])):A("",!0)],64)}const lg=x(sg,[["render",og]]),ig={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(ct,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}}}},rg=s("i",{class:"fa fa-ban text-warning"},null,-1),dg=s("i",{class:"fa fa-ban text-warning"},null,-1);function cg(t,e,a,n,l,o){return c(),u(S,null,[a.item.deleted_at?A("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=h(i=>o.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[rg,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=h(i=>o.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[dg,f(" Restore data ")])):A("",!0)],64)}const _g=x(ig,[["render",cg]]),ug={props:{item:{slug:""}},methods:{...H(ct,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},pg=s("i",{class:"fa fa-trash text-danger"},null,-1);function fg(t,e,a,n,l,o){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=h((...i)=>o.destroy_data&&o.destroy_data(...i),["prevent"])),class:"border-danger"},[pg,f(" Destroy ")])}const mg=x(ug,[["render",fg]]),hg={props:{item:{type:Object,default:{}}},components:{DetailsBtn:Yh,Edit:eg,StatusButton:lg,Destroy:mg,DeleteRestore:_g},methods:{active_row:Kh}},gg={class:"table_action_btns"};function vg(t,e,a,n,l,o){const i=b("details-btn"),d=b("edit"),r=b("status-button"),g=b("delete-restore"),v=b("destroy");return c(),u(S,null,[s("span",{onClick:e[0]||(e[0]=h(y=>o.active_row(y),["prevent"])),class:"icon"}),s("div",gg,[s("ul",null,[s("li",null,[w(i,{item:a.item},null,8,["item"])]),s("li",null,[w(d,{item:a.item},null,8,["item"])]),s("li",null,[w(r,{item:a.item},null,8,["item"])]),s("li",null,[w(g,{item:a.item},null,8,["item"])]),s("li",null,[w(v,{item:a.item},null,8,["item"])]),St(t.$slots,"default")])])],64)}const Fa=x(hg,[["render",vg]]);function bg(t,e){const a=C(ct,["selected"]);let n=a.selected.get();e.target.checked?n.push(t):n=n.filter(i=>i.id!=t.id),a.selected.set(n);let o=document.querySelector(".select_all_checkbox");o&&(o.checked=!1)}const yg={props:["data"],created:function(){},methods:{set_item_selectd:bg},computed:{...B(ct,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},$g=["checked"];function wg(t,e,a,n,l,o){return c(),u("input",{onChange:e[0]||(e[0]=i=>o.set_item_selectd(a.data,i)),checked:o.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,$g)}const ja=x(yg,[["render",wg]]);const kg={props:["data"],data:()=>({setup:K}),components:{SelectAll:Re,TableRowAction:Fa,SelectSingle:ja},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},xg={key:0},Cg={key:1,class:"text-wrap max-w-120"};function Sg(t,e,a,n,l,o){const i=b("table-row-action"),d=b("select-single");return c(!0),u(S,null,F(a.data,(r,g)=>(c(),u("tr",{key:r.id,class:I(`table_rows table_row_${r.id}`)},[s("td",null,[w(i,{item:r},null,8,["item"])]),s("td",null,[w(d,{data:r},null,8,["data"])]),(c(!0),u(S,null,F(t.setup.table_row_data,(v,y)=>(c(),u(S,{key:y},[v=="id"?(c(),u("td",xg,p(g+1),1)):(c(),u("td",Cg,p(o.trim_content(r[v],v)),1))],64))),128))],2))),128)}const Dg=x(kg,[["render",Sg],["__scopeId","data-v-38de4424"]]),Eg={components:{TableHead:Wh,TableBody:Dg},data:()=>({setup:K,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:fh,export_selected_csv:vh,export_demo_csv:yh,...H(ct,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var n,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}},softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.destroy();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,n=new Set(this.selected);a?n.add(t):n.delete(t),this.selected=[...n]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let n=this.selected;n=n.map(o=>o.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,n);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:Oh(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...C(ct,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(n=>this.selected.some(l=>l.id===n.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},Tg={class:"row"},Ag={class:"col-sm-12"},Rg={class:"card"},Fg={class:"card-header"},jg={class:"row align-items-center"},Ig={class:"col-12 col-md-3 mb-2 mb-md-0"},Og={class:"text-capitalize mb-0"},Bg={class:"col-12 col-md-6 mb-2 mb-md-0"},Pg={class:"col-12 col-md-3 text-md-right text-sm-left"},Lg=s("i",{class:"fa fa-gear mx-2"},null,-1),qg={class:"card-body"},Ug={class:"table-responsive table_responsive card_body_fixed_height"},Hg={class:"table table-hover text-center table-bordered"},Ng={key:0},Vg={class:"mx-3"},Mg={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},zg={class:"pagination my-2",style:{"font-size":"11px"}},Wg=["onClick","href","innerHTML"],Kg={class:"d-flex",style:{gap:"5px"}},Jg=s("span",null,null,-1),Gg=s("span",null,"-",-1),Xg=s("span",null,"of",-1),Yg={class:"d-flex",style:{gap:"5px"}},Qg=s("span",null,null,-1),Zg=s("span",null," Limit ",-1),tv=nt('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),ev=[tv],sv={class:"card-footer py-2"},av={class:"d-flex flex-wrap align-items-center"},nv={class:"mr-2 mb-2"},ov=s("i",{class:"fa fa-edit mr-2"},null,-1),lv={class:"mr-2 mb-2"},iv=s("i",{class:"fa fa-print mr-2"},null,-1),rv={key:0,class:"mr-2 mb-2"},dv=s("i",{class:"fa fa-sign-out mr-2"},null,-1),cv={class:"mr-2 mb-2"},_v=s("i",{class:"fa fa-download mr-2"},null,-1),uv={class:"mr-2 mb-2"},pv=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),fv={class:"mr-2 mb-2"},mv=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),hv={class:"mr-2 mb-2"},gv=s("i",{class:"fa fa-trash mr-2"},null,-1),vv={key:1,class:"mr-2 mb-2"},bv=nt('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),yv=[bv],$v=nt('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),wv={class:"off_canvas_body"},kv={class:"header"},xv=s("h3",{class:"heading_text"},"Filter",-1),Cv=s("span",{class:"fa fa-close border p-2"},null,-1),Sv=[Cv],Dv={class:"data_content"},Ev={class:"filter_item"},Tv=s("label",{for:"start_date"},"Start Date",-1),Av={for:"start_date",class:"text-capitalize d-block date_custom_control"},Rv={class:"filter_item"},Fv=s("label",{for:"end_date"},"End Date",-1),jv={for:"end_date",class:"text-capitalize d-block date_custom_control"},Iv={class:"filter_item"},Ov=s("label",{for:"sort_by_col"},"Sort By Col",-1),Bv={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},Pv={class:"filter_item"},Lv=s("label",{for:"sort_by_col"},"Sort Type",-1),qv={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},Uv={class:"filter_item"},Hv=s("div",{class:"off_canvas_overlay"},null,-1),Nv={class:"modal-dialog modal-dialog-centered"},Vv={class:"modal-content border-primary"},Mv={class:"modal-header bg-primary"},zv={class:"modal-title text-white"},Wv=s("span",{"aria-hidden":"true"},"",-1),Kv=[Wv],Jv={class:"modal-body"},Gv=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),Xv=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),Yv={class:"modal-footer"},Qv=s("i",{class:"fa fa-times"},null,-1),Zv=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function tb(t,e,a,n,l,o){var g,v,y,j,E,V,k,P,R,L;const i=b("table-head"),d=b("table-body"),r=b("router-link");return c(),u("div",null,[s("div",Tg,[s("div",Ag,[s("div",Rg,[s("div",Fg,[s("div",jg,[s("div",Ig,[s("h5",Og,p(t.setup.all_page_title),1)]),s("div",Bg,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>o.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",Pg,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[Lg,f("Filter ")])])])]),s("div",qg,[s("div",Ug,[s("table",Hg,[s("thead",null,[w(i)]),(v=(g=t.all)==null?void 0:g.data)!=null&&v.length?(c(),u("tbody",Ng,[w(d,{data:(y=t.all)==null?void 0:y.data},null,8,["data"])])):A("",!0)])])]),s("div",Vg,[s("nav",Mg,[s("ul",zg,[(c(!0),u(S,null,F((j=t.all)==null?void 0:j.links,(_,z)=>{var U,m,D;return c(),u("li",{key:z,class:I(["page-item",{active:_.active}])},[s("a",{class:I(["page-link",((U=t.all)==null?void 0:U.current_page)==((m=t.all)==null?void 0:m.last_page)&&((D=t.all)==null?void 0:D.links.length)-1==z?"disabled":""]),onClick:h(q=>o.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,Wg)],2)}),128))]),s("div",Kg,[Jg,s("span",null,p((E=t.all)==null?void 0:E.from),1),Gg,s("span",null,p((V=t.all)==null?void 0:V.to),1),Xg,s("span",null,p((k=t.all)==null?void 0:k.total),1)]),s("div",Yg,[Qg,Zg,N(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>o.set_per_page_limit&&o.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},ev,544),[[ot,t.paginate]])])])]),s("div",sv,[s("div",av,[s("div",nv,[w(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:O(()=>[ov,f(" Create ")]),_:1},8,["to"])]),s("div",lv,[s("a",{href:"",onClick:e[4]||(e[4]=h(()=>o.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[iv,f(" Export All ")])]),(P=this.selected)!=null&&P.length?(c(),u("div",rv,[s("a",{href:"",onClick:e[5]||(e[5]=h(_=>o.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[dv,f(" Export ("+p((R=this.selected)==null?void 0:R.length)+") ",1)])])):A("",!0),s("div",cv,[s("a",{href:"",onClick:e[6]||(e[6]=h(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[_v,f(" Import ")])]),s("div",uv,[s("a",{href:"",onClick:e[7]||(e[7]=h(_=>o.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[pv,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",fv,[s("a",{href:"",onClick:e[8]||(e[8]=h(_=>o.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[mv,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",hv,[s("a",{href:"",onClick:e[9]||(e[9]=h(_=>o.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[gv,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(L=this.selected)!=null&&L.length?(c(),u("div",vv,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>o.bulkActions&&o.bulkActions(..._))},yv,32)])):A("",!0)])])])])]),$v,s("div",{class:I(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",wv,[s("div",kv,[xv,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},Sv)]),s("div",Dv,[s("div",Ev,[Tv,s("label",Av,[N(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[rt,t.start_date]])])]),s("div",Rv,[Fv,s("label",jv,[N(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[rt,t.end_date]])])]),s("div",Iv,[Ov,s("label",Bv,[N(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(S,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[ot,t.sort_by_col]])])]),s("div",Pv,[Lv,s("label",qv,[N(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(S,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[ot,t.sort_type]])])]),s("div",Uv,[s("button",{onClick:e[16]||(e[16]=h(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),Hv],2),s("div",{class:I(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",Nv,[s("form",{onSubmit:e[20]||(e[20]=h((..._)=>o.FileUploadHandler&&o.FileUploadHandler(..._),["prevent"]))},[s("div",Vv,[s("div",Mv,[s("h5",zv," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},Kv)]),s("div",Jv,[Gv,Xv,s("a",{href:"",onClick:e[18]||(e[18]=h((..._)=>o.export_demo_csv&&o.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",Yv,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[Qv,f(" Close ")]),Zv])])],32)])],2)])}const eb=x(Eg,[["render",tb]]),sb=[{name:"account_category_id",label:"Select account category ",type:"select",value:"",data_list:[]},{name:"title",label:"Enter your title",type:"text",value:""},{name:"amount",label:"Enter your amount",type:"number",value:""},{name:"description",label:"Enter your description",type:"textarea",value:"",row_col_class:"col-md-12"}],ab={data:()=>({setup:K,form_fields:sb,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t),this.get_all_account_categories()},methods:{...H(ct,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(n=>{e.name==n[0]&&(this.form_fields[a].value=n[1]),e.name=="description"&&n[0]=="description"&&$("#description").summernote("code",n[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){this.setSummerEditor();let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{this.setSummerEditor();let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}},setSummerEditor(){var t=$("#description").summernote("code"),e=document.createElement("input");e.setAttribute("name","description"),e.value=t,document.getElementById("description").appendChild(e)},get_all_account_categories:async function(){let t=await axios.get("account-categories?get_all=1&type=income");t.data.status=="success"&&(t=t.data.data,this.form_fields[0].data_list=[],t.forEach(e=>{let a={};a.label=e.title,a.value=e.id,this.form_fields[0].data_list.push(a)}))}},computed:{...B(ct,{item:"item"})}},nb={class:"card"},ob={class:"card-header d-flex justify-content-between"},lb={class:"text-capitalize"},ib={class:"card-body card_body_fixed_height"},rb={class:"row"},db=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function cb(t,e,a,n,l,o){const i=b("router-link"),d=b("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=h((...r)=>o.submitHandler&&o.submitHandler(...r),["prevent"]))},[s("div",nb,[s("div",ob,[s("h5",lb,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),M(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):A("",!0),w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",ib,[s("div",rb,[(c(!0),u(S,null,F(t.form_fields,(r,g)=>(c(),M(d,{key:g,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),db])],32)])}const cs=x(ab,[["render",cb]]);const _b={props:["item"],data:()=>({setup:K}),components:{SelectAll:Re,TableRowAction:Fa,SelectSingle:ja},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},ub=t=>(wt("data-v-f92483d6"),t=t(),kt(),t),pb=ub(()=>s("th",{class:"text-center"},":",-1)),fb={class:"text-trim"};function mb(t,e,a,n,l,o){return c(!0),u(S,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),pb,s("th",fb,p(o.trim_content(a.item[i],i)),1)]))),128)}const hb=x(_b,[["render",mb],["__scopeId","data-v-f92483d6"]]),gb={components:{DataDetialsTableBody:hb},data:()=>({setup:K}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(ct,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...C(ct,{item:"item"})}},vb={class:"card"},bb={class:"card-header d-flex justify-content-between"},yb={class:"text-capitalize"},$b={class:"card-body card_body_fixed_height"},wb={class:"row"},kb={class:"col-lg-8"},xb={class:"table quick_modal_table table-bordered"},Cb={class:"card-footer"},Sb=s("i",{class:"fa fa-angle-left"},null,-1),Db=s("i",{class:"fa fa-angle-right"},null,-1);function Eb(t,e,a,n,l,o){const i=b("router-link"),d=b("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=h((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",vb,[s("div",bb,[s("h5",yb,p(t.setup.details_page_title),1),s("div",null,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",$b,[s("div",wb,[s("div",kb,[s("table",xb,[s("tbody",null,[w(d,{item:t.item},null,8,["item"])])])])])]),s("div",Cb,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(r=>o.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[Sb,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):A("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(r=>o.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),Db])):A("",!0)])])],32)])}const Tb=x(gb,[["render",Eb]]),Ab={};function Rb(t,e,a,n,l,o){const i=b("router-view");return c(),M(i)}const Fb=x(Ab,[["render",Rb]]);let Vt=K.route_prefix,jb=K.route_path;const Ib={path:jb,component:Fb,children:[{path:"all",name:"All"+Vt,component:eb},{path:"create",name:"Create"+Vt,component:cs},{path:"details/:id",name:"Details"+Vt,component:Tb},{path:"edit/:id",name:"Edit"+Vt,component:cs}]},At="SalesOrderCollectionHistory",J={prefix:At,permission:["admin","super_admin"],api_host:$t.api_host,api_version:$t.api_version,api_end_point:"sales-order-collection-histories",module_name:"sales-order-collection-history",store_prefix:"sales_order_collection_history",route_prefix:"SalesOrderCollectionHistory",route_path:"sales-order-collection-history",select_fields:["id","sales_order_id","amount","status","slug","created_at","deleted_at"],sort_by_cols:["id","sales_order_id","amount","status","created_at"],table_header_data:["id","sales_order_id","amount","status","created_at"],table_row_data:["id","sales_order_id","amount","status","created_at"],layout_title:At+" Management",page_title:`${At} Management`,all_page_title:"All "+At,details_page_title:"Details "+At,create_page_title:"Create "+At,edit_page_title:"Edit "+At},Ob={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:J.select_fields,sort_by_cols:J.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function _s(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function us(t,e,a){try{const n=await T.get(t);await e.put(t,new Response(JSON.stringify(n.data)));let o=performance.now()-a;return _s({href:t,duration:o,status:n.status}),n}catch(n){console.error(n.response.data);let o=performance.now()-a;throw _s({href:t,duration:o,status:n.response.status,message:n.response.data.message}),new Error(n.response.statusText)}}function Bb(t){return t/1024}async function ps(t,e){let a={data:{},status:200},n=0,l=0,o=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),g=await r.keys(),v=g.length;if(v>15)for(let E=0;E<v-15;E++)await r.delete(g[E]);const y=await r.match(t);return y&&e===!1?(a.data=await y.json(),us(t,r,i)):a=await us(t,r,i),n=performance.now(),l=n-i,o=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:Bb(o)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:Pb,api_version:Lb,api_end_point:qb}=J;let Ub=async()=>{let t=C(_t,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},n=`${Pb}/${Lb}/${qb}`,l=new URL(n),o=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(n=t.url.get(),a=await ps(n,o)):a=await ps(l.href,o),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function Hb(t){let e=t.target,a=new FormData(e),n=`${J.api_host}/${J.api_version}/${J.api_end_point}/store`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Nb(t){let e=C(_t,["item"]),a=`${J.api_host}/${J.api_version}/${J.api_end_point}/${t}`;try{let n=await T.get(a);e.item.set(n.data.data)}catch(n){return window.s_alert("something is wrong.","error"),n.response}}async function Vb(t){let e=B(_t,["item"]),a=t.target,n=new FormData(a);n.append("id",e.item().id);let l=`${J.api_host}/${J.api_version}/${J.api_end_point}/update/${e.item().slug}`;try{return await T.post(l,n)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function Mb(){let t=B(_t,["item"]),e=`${J.api_host}/${J.api_version}/${J.api_end_point}/soft-delete`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function zb(){let t=B(_t,["item"]),e=`${J.api_host}/${J.api_version}/${J.api_end_point}/update-status`;try{return await T.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function Wb(){let t=B(_t,["item"]),e=`${J.api_host}/${J.api_version}/${J.api_end_point}/restore`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Kb(){let t=B(_t,["item"]),e=`${J.api_host}/${J.api_version}/${J.api_end_point}/destroy/${t.item().slug}`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Jb(t,e){let a=`${J.api_host}/${J.api_version}/${J.api_end_point}/bulk-action`;try{return await T.post(a,{action:t,ids:e})}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function Gb(t){let e=t.target,a=new FormData(e),n=`${J.api_host}/${J.api_version}/${J.api_end_point}/import`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Xb(t={}){let e=_t();e.filter_criteria={...e.filter_criteria,...t}}async function Yb(t={}){C(_t,["item"]).item.set(t)}async function Qb(t=!0){C(_t,["only_latest_data"]).only_latest_data.set(t)}async function Zb(t=1){C(_t,["page"]).page.set(t)}async function ty(t=10){C(_t,["paginate"]).paginate.set(t)}async function ey(t=!0){C(_t,["show_details_canvas"]).show_details_canvas.set(t)}async function sy(t=!0){C(_t,["show_filter_canvas"]).show_filter_canvas.set(t)}async function ay(t="active"){C(_t,["status"]).status.set(t)}async function ny(){C(_t,["selected"]).selected.set([])}const _t=Ct(J.store_prefix,{state:()=>Ob,getters:{},actions:{get_all:Ub,create:Hb,update:Vb,details:Nb,update_status:zb,soft_delete:Mb,restore:Wb,destroy:Kb,bulk_action:Jb,import_data:Gb,set_page:Zb,set_paginate:ty,set_show_details_canvas:ey,set_item:Yb,set_show_filter_canvas:sy,set_filter_criteria:Xb,set_status:ay,set_only_latest_data:Qb,clear_selected:ny}});var oy=function(){function t(){}return t.prototype.exportFile=function(e,a,n){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([n]);window.navigator.msSaveOrOpenBlob(l,a)}else{var o="\uFEFF",i=encodeURIComponent(n),d="data:text/"+e+";charset=utf-8,"+o+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),ly=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var o in l)l.hasOwnProperty(o)&&(n[o]=l[o])},t(e,a)};return function(e,a){t(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();globalThis&&globalThis.__importDefault;var iy=function(t){ly(e,t);function e(a){var n=t.call(this)||this;return n._FileName="",n._Delimeter=",",n._Columns=[],n._RowData=[],n._FileName=a,n}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,n=[];this._Columns&&this._Columns.length>0&&n.push(this.getRowData(this._Columns)),this._RowData.forEach(function(o){n.push(a.getRowData(o))});var l=n.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(oy);const Fe=iy;let ry=J.store_prefix;async function dy(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${J.api_host}/${J.api_version}/${J.api_end_point}`);a.searchParams.set("paginate",10);const n=["deleted_at","created_at","updated_at"];let l,o=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await T.get(a.href);if(i===1){e=d.data.data.last_page;const v=cy(d.data.data.data[0],n);l=new Fe(`${ry}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>_y(v,n));o=o.concat(r),console.log(`Accumulated ${o.length} rows so far`);const g=Math.round(100*i/e);window.update_loader(g)}l.addRows(o),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function cy(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function _y(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let uy=J.store_prefix;function py(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(o=>!e.includes(o)),n=t.map(o=>a.map(i=>o[i]));new Fe(`${uy}_list.csv`).setColumns(a).addRows(n).exportFile(),C(_t,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let fy=J.store_prefix;function my(){const t=J.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const n=[Array(a.length).fill("-")];new Fe(`${fy}_demo_list.csv`).setColumns(a).addRows(n).exportFile()}var hy="Expected a function",fs=0/0,gy="[object Symbol]",vy=/^\s+|\s+$/g,by=/^[-+]0x[0-9a-f]+$/i,yy=/^0b[01]+$/i,$y=/^0o[0-7]+$/i,wy=parseInt,ky=typeof global=="object"&&global&&global.Object===Object&&global,xy=typeof self=="object"&&self&&self.Object===Object&&self,Cy=ky||xy||Function("return this")(),Sy=Object.prototype,Dy=Sy.toString,Ey=Math.max,Ty=Math.min,ne=function(){return Cy.Date.now()};function Ay(t,e,a){var n,l,o,i,d,r,g=0,v=!1,y=!1,j=!0;if(typeof t!="function")throw new TypeError(hy);e=ms(e)||0,ge(a)&&(v=!!a.leading,y="maxWait"in a,o=y?Ey(ms(a.maxWait)||0,e):o,j="trailing"in a?!!a.trailing:j);function E(m){var D=n,q=l;return n=l=void 0,g=m,i=t.apply(q,D),i}function V(m){return g=m,d=setTimeout(R,e),v?E(m):i}function k(m){var D=m-r,q=m-g,it=e-D;return y?Ty(it,o-q):it}function P(m){var D=m-r,q=m-g;return r===void 0||D>=e||D<0||y&&q>=o}function R(){var m=ne();if(P(m))return L(m);d=setTimeout(R,k(m))}function L(m){return d=void 0,j&&n?E(m):(n=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),g=0,n=r=l=d=void 0}function z(){return d===void 0?i:L(ne())}function U(){var m=ne(),D=P(m);if(n=arguments,l=this,r=m,D){if(d===void 0)return V(r);if(y)return d=setTimeout(R,e),E(r)}return d===void 0&&(d=setTimeout(R,e)),i}return U.cancel=_,U.flush=z,U}function ge(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Ry(t){return!!t&&typeof t=="object"}function Fy(t){return typeof t=="symbol"||Ry(t)&&Dy.call(t)==gy}function ms(t){if(typeof t=="number")return t;if(Fy(t))return fs;if(ge(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ge(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(vy,"");var a=yy.test(t);return a||$y.test(t)?wy(t.slice(2),a?2:8):by.test(t)?fs:+t}function jy(t){console.log(t.target.checked);const e=C(_t,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(n=>{a=a.filter(l=>l.id!=n.id),a.push(n)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const Iy={methods:{set_all_item_selectd:jy}};function Oy(t,e,a,n,l,o){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>o.set_all_item_selectd(i)),type:"checkbox"},null,32)}const je=x(Iy,[["render",Oy]]);const By={data:()=>({setup:J}),components:{SelectAll:je}},Py=t=>(wt("data-v-a6b140ba"),t=t(),kt(),t),Ly=Py(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),qy={class:"w-10 text-center"};function Uy(t,e,a,n,l,o){const i=b("select-all");return c(),u("tr",null,[Ly,s("th",qy,[w(i)]),(c(!0),u(S,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:I(r==0?"w-10":"")},p(d),3))),128))])}const Hy=x(By,[["render",Uy],["__scopeId","data-v-a6b140ba"]]);function Ny(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(n=>{n!==e&&n.classList.remove("active")}),e&&e.classList.toggle("active")}}const Vy={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:J})},My=s("i",{class:"fa fa-eye text-secondary"},null,-1);function zy(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[My,f(" Show ")]),_:1},8,["to"])}const Wy=x(Vy,[["render",zy]]),Ky={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:J})},Jy=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function Gy(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[Jy,f(" Edit ")]),_:1},8,["to"])}const Xy=x(Ky,[["render",Gy]]),Yy={props:{item:{slug:""}},methods:{...H(_t,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var n,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}}}},Qy=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),Zy=s("i",{class:"fa fa-eye text-warning"},null,-1);function t$(t,e,a,n,l,o){return c(),u(S,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[Qy,f(" Inactive ")])):A("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[Zy,f(" Active ")])):A("",!0)],64)}const e$=x(Yy,[["render",t$]]),s$={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(_t,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}}}},a$=s("i",{class:"fa fa-ban text-warning"},null,-1),n$=s("i",{class:"fa fa-ban text-warning"},null,-1);function o$(t,e,a,n,l,o){return c(),u(S,null,[a.item.deleted_at?A("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=h(i=>o.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[a$,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=h(i=>o.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[n$,f(" Restore data ")])):A("",!0)],64)}const l$=x(s$,[["render",o$]]),i$={props:{item:{slug:""}},methods:{...H(_t,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},r$=s("i",{class:"fa fa-trash text-danger"},null,-1);function d$(t,e,a,n,l,o){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=h((...i)=>o.destroy_data&&o.destroy_data(...i),["prevent"])),class:"border-danger"},[r$,f(" Destroy ")])}const c$=x(i$,[["render",d$]]),_$={props:{item:{type:Object,default:{}}},components:{DetailsBtn:Wy,Edit:Xy,StatusButton:e$,Destroy:c$,DeleteRestore:l$},methods:{active_row:Ny}},u$={class:"table_action_btns"};function p$(t,e,a,n,l,o){const i=b("details-btn"),d=b("edit"),r=b("status-button"),g=b("delete-restore"),v=b("destroy");return c(),u(S,null,[s("span",{onClick:e[0]||(e[0]=h(y=>o.active_row(y),["prevent"])),class:"icon"}),s("div",u$,[s("ul",null,[s("li",null,[w(i,{item:a.item},null,8,["item"])]),s("li",null,[w(d,{item:a.item},null,8,["item"])]),s("li",null,[w(r,{item:a.item},null,8,["item"])]),s("li",null,[w(g,{item:a.item},null,8,["item"])]),s("li",null,[w(v,{item:a.item},null,8,["item"])]),St(t.$slots,"default")])])],64)}const Ia=x(_$,[["render",p$]]);function f$(t,e){const a=C(_t,["selected"]);let n=a.selected.get();e.target.checked?n.push(t):n=n.filter(i=>i.id!=t.id),a.selected.set(n);let o=document.querySelector(".select_all_checkbox");o&&(o.checked=!1)}const m$={props:["data"],created:function(){},methods:{set_item_selectd:f$},computed:{...B(_t,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},h$=["checked"];function g$(t,e,a,n,l,o){return c(),u("input",{onChange:e[0]||(e[0]=i=>o.set_item_selectd(a.data,i)),checked:o.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,h$)}const Oa=x(m$,[["render",g$]]);const v$={props:["data"],data:()=>({setup:J}),components:{SelectAll:je,TableRowAction:Ia,SelectSingle:Oa},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t:t}}},b$={key:0},y$={key:1,class:"text-wrap max-w-120"};function $$(t,e,a,n,l,o){const i=b("table-row-action"),d=b("select-single");return c(!0),u(S,null,F(a.data,(r,g)=>(c(),u("tr",{key:r.id,class:I(`table_rows table_row_${r.id}`)},[s("td",null,[w(i,{item:r},null,8,["item"])]),s("td",null,[w(d,{data:r},null,8,["data"])]),(c(!0),u(S,null,F(t.setup.table_row_data,(v,y)=>(c(),u(S,{key:y},[v=="id"?(c(),u("td",b$,p(g+1),1)):(c(),u("td",y$,p(o.trim_content(r[v],v)),1))],64))),128))],2))),128)}const w$=x(v$,[["render",$$],["__scopeId","data-v-60021fa6"]]),k$={components:{TableHead:Hy,TableBody:w$},data:()=>({setup:J,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:dy,export_selected_csv:py,export_demo_csv:my,...H(_t,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var n,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}},softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.destroy();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,n=new Set(this.selected);a?n.add(t):n.delete(t),this.selected=[...n]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let n=this.selected;n=n.map(o=>o.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,n);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:Ay(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...C(_t,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(n=>this.selected.some(l=>l.id===n.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},x$={class:"row"},C$={class:"col-sm-12"},S$={class:"card"},D$={class:"card-header"},E$={class:"row align-items-center"},T$={class:"col-12 col-md-3 mb-2 mb-md-0"},A$={class:"text-capitalize mb-0"},R$={class:"col-12 col-md-6 mb-2 mb-md-0"},F$={class:"col-12 col-md-3 text-md-right text-sm-left"},j$=s("i",{class:"fa fa-gear mx-2"},null,-1),I$={class:"card-body"},O$={class:"table-responsive table_responsive card_body_fixed_height"},B$={class:"table table-hover text-center table-bordered"},P$={key:0},L$={class:"mx-3"},q$={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},U$={class:"pagination my-2",style:{"font-size":"11px"}},H$=["onClick","href","innerHTML"],N$={class:"d-flex",style:{gap:"5px"}},V$=s("span",null,null,-1),M$=s("span",null,"-",-1),z$=s("span",null,"of",-1),W$={class:"d-flex",style:{gap:"5px"}},K$=s("span",null,null,-1),J$=s("span",null," Limit ",-1),G$=nt('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),X$=[G$],Y$={class:"card-footer py-2"},Q$={class:"d-flex flex-wrap align-items-center"},Z$={class:"mr-2 mb-2"},tw=s("i",{class:"fa fa-edit mr-2"},null,-1),ew={class:"mr-2 mb-2"},sw=s("i",{class:"fa fa-print mr-2"},null,-1),aw={key:0,class:"mr-2 mb-2"},nw=s("i",{class:"fa fa-sign-out mr-2"},null,-1),ow={class:"mr-2 mb-2"},lw=s("i",{class:"fa fa-download mr-2"},null,-1),iw={class:"mr-2 mb-2"},rw=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),dw={class:"mr-2 mb-2"},cw=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),_w={class:"mr-2 mb-2"},uw=s("i",{class:"fa fa-trash mr-2"},null,-1),pw={key:1,class:"mr-2 mb-2"},fw=nt('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),mw=[fw],hw=nt('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),gw={class:"off_canvas_body"},vw={class:"header"},bw=s("h3",{class:"heading_text"},"Filter",-1),yw=s("span",{class:"fa fa-close border p-2"},null,-1),$w=[yw],ww={class:"data_content"},kw={class:"filter_item"},xw=s("label",{for:"start_date"},"Start Date",-1),Cw={for:"start_date",class:"text-capitalize d-block date_custom_control"},Sw={class:"filter_item"},Dw=s("label",{for:"end_date"},"End Date",-1),Ew={for:"end_date",class:"text-capitalize d-block date_custom_control"},Tw={class:"filter_item"},Aw=s("label",{for:"sort_by_col"},"Sort By Col",-1),Rw={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},Fw={class:"filter_item"},jw=s("label",{for:"sort_by_col"},"Sort Type",-1),Iw={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},Ow={class:"filter_item"},Bw=s("div",{class:"off_canvas_overlay"},null,-1),Pw={class:"modal-dialog modal-dialog-centered"},Lw={class:"modal-content border-primary"},qw={class:"modal-header bg-primary"},Uw={class:"modal-title text-white"},Hw=s("span",{"aria-hidden":"true"},"",-1),Nw=[Hw],Vw={class:"modal-body"},Mw=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),zw=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),Ww={class:"modal-footer"},Kw=s("i",{class:"fa fa-times"},null,-1),Jw=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function Gw(t,e,a,n,l,o){var g,v,y,j,E,V,k,P,R,L;const i=b("table-head"),d=b("table-body"),r=b("router-link");return c(),u("div",null,[s("div",x$,[s("div",C$,[s("div",S$,[s("div",D$,[s("div",E$,[s("div",T$,[s("h5",A$,p(t.setup.all_page_title),1)]),s("div",R$,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>o.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",F$,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[j$,f("Filter ")])])])]),s("div",I$,[s("div",O$,[s("table",B$,[s("thead",null,[w(i)]),(v=(g=t.all)==null?void 0:g.data)!=null&&v.length?(c(),u("tbody",P$,[w(d,{data:(y=t.all)==null?void 0:y.data},null,8,["data"])])):A("",!0)])])]),s("div",L$,[s("nav",q$,[s("ul",U$,[(c(!0),u(S,null,F((j=t.all)==null?void 0:j.links,(_,z)=>{var U,m,D;return c(),u("li",{key:z,class:I(["page-item",{active:_.active}])},[s("a",{class:I(["page-link",((U=t.all)==null?void 0:U.current_page)==((m=t.all)==null?void 0:m.last_page)&&((D=t.all)==null?void 0:D.links.length)-1==z?"disabled":""]),onClick:h(q=>o.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,H$)],2)}),128))]),s("div",N$,[V$,s("span",null,p((E=t.all)==null?void 0:E.from),1),M$,s("span",null,p((V=t.all)==null?void 0:V.to),1),z$,s("span",null,p((k=t.all)==null?void 0:k.total),1)]),s("div",W$,[K$,J$,N(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>o.set_per_page_limit&&o.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},X$,544),[[ot,t.paginate]])])])]),s("div",Y$,[s("div",Q$,[s("div",Z$,[w(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:O(()=>[tw,f(" Create ")]),_:1},8,["to"])]),s("div",ew,[s("a",{href:"",onClick:e[4]||(e[4]=h(()=>o.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[sw,f(" Export All ")])]),(P=this.selected)!=null&&P.length?(c(),u("div",aw,[s("a",{href:"",onClick:e[5]||(e[5]=h(_=>o.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[nw,f(" Export ("+p((R=this.selected)==null?void 0:R.length)+") ",1)])])):A("",!0),s("div",ow,[s("a",{href:"",onClick:e[6]||(e[6]=h(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[lw,f(" Import ")])]),s("div",iw,[s("a",{href:"",onClick:e[7]||(e[7]=h(_=>o.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[rw,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",dw,[s("a",{href:"",onClick:e[8]||(e[8]=h(_=>o.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[cw,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",_w,[s("a",{href:"",onClick:e[9]||(e[9]=h(_=>o.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[uw,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(L=this.selected)!=null&&L.length?(c(),u("div",pw,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>o.bulkActions&&o.bulkActions(..._))},mw,32)])):A("",!0)])])])])]),hw,s("div",{class:I(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",gw,[s("div",vw,[bw,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},$w)]),s("div",ww,[s("div",kw,[xw,s("label",Cw,[N(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[rt,t.start_date]])])]),s("div",Sw,[Dw,s("label",Ew,[N(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[rt,t.end_date]])])]),s("div",Tw,[Aw,s("label",Rw,[N(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(S,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[ot,t.sort_by_col]])])]),s("div",Fw,[jw,s("label",Iw,[N(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(S,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[ot,t.sort_type]])])]),s("div",Ow,[s("button",{onClick:e[16]||(e[16]=h(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),Bw],2),s("div",{class:I(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",Pw,[s("form",{onSubmit:e[20]||(e[20]=h((..._)=>o.FileUploadHandler&&o.FileUploadHandler(..._),["prevent"]))},[s("div",Lw,[s("div",qw,[s("h5",Uw," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},Nw)]),s("div",Vw,[Mw,zw,s("a",{href:"",onClick:e[18]||(e[18]=h((..._)=>o.export_demo_csv&&o.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",Ww,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[Kw,f(" Close ")]),Jw])])],32)])],2)])}const Xw=x(k$,[["render",Gw]]),Yw=[{name:"sales_order_id",label:"Enter your sales order id",type:"number",value:""},{name:"amount",label:"Enter your amount",type:"number",value:""}],Qw={data:()=>({setup:J,form_fields:Yw,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t)},methods:{...H(_t,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(n=>{e.name==n[0]&&(this.form_fields[a].value=n[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}}},computed:{...B(_t,{item:"item"})}},Zw={class:"card"},t1={class:"card-header d-flex justify-content-between"},e1={class:"text-capitalize"},s1={class:"card-body card_body_fixed_height"},a1={class:"row"},n1=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function o1(t,e,a,n,l,o){const i=b("router-link"),d=b("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=h((...r)=>o.submitHandler&&o.submitHandler(...r),["prevent"]))},[s("div",Zw,[s("div",t1,[s("h5",e1,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),M(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):A("",!0),w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",s1,[s("div",a1,[(c(!0),u(S,null,F(t.form_fields,(r,g)=>(c(),M(d,{key:g,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),n1])],32)])}const hs=x(Qw,[["render",o1]]);const l1={props:["item"],data:()=>({setup:J}),components:{SelectAll:je,TableRowAction:Ia,SelectSingle:Oa},methods:{trim_content(t,e=null){return t}}},i1=t=>(wt("data-v-9a3286b3"),t=t(),kt(),t),r1=i1(()=>s("th",{class:"text-center"},":",-1)),d1={class:"text-trim"};function c1(t,e,a,n,l,o){return c(!0),u(S,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),r1,s("th",d1,p(o.trim_content(a.item[i],i)),1)]))),128)}const _1=x(l1,[["render",c1],["__scopeId","data-v-9a3286b3"]]),u1={components:{DataDetialsTableBody:_1},data:()=>({setup:J}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(_t,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...C(_t,{item:"item"})}},p1={class:"card"},f1={class:"card-header d-flex justify-content-between"},m1={class:"text-capitalize"},h1={class:"card-body card_body_fixed_height"},g1={class:"row"},v1={class:"col-lg-8"},b1={class:"table quick_modal_table table-bordered"},y1={class:"card-footer"},$1=s("i",{class:"fa fa-angle-left"},null,-1),w1=s("i",{class:"fa fa-angle-right"},null,-1);function k1(t,e,a,n,l,o){const i=b("router-link"),d=b("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=h((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",p1,[s("div",f1,[s("h5",m1,p(t.setup.details_page_title),1),s("div",null,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",h1,[s("div",g1,[s("div",v1,[s("table",b1,[s("tbody",null,[w(d,{item:t.item},null,8,["item"])])])])])]),s("div",y1,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(r=>o.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[$1,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):A("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(r=>o.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),w1])):A("",!0)])])],32)])}const x1=x(u1,[["render",k1]]),C1={};function S1(t,e,a,n,l,o){const i=b("router-view");return c(),M(i)}const D1=x(C1,[["render",S1]]);let Mt=J.route_prefix,E1=J.route_path;const T1={path:E1,component:D1,children:[{path:"all",name:"All"+Mt,component:Xw},{path:"create",name:"Create"+Mt,component:hs},{path:"details/:id",name:"Details"+Mt,component:x1},{path:"edit/:id",name:"Edit"+Mt,component:hs}]},Rt="SalesOrder",G={prefix:Rt,permission:["admin","super_admin"],api_host:$t.api_host,api_version:$t.api_version,api_end_point:"sales-orders",module_name:"sales-order",store_prefix:"sales_order",route_prefix:"SalesOrder",route_path:"sales-order",select_fields:["id","order_title","reference","customer_id","date","subtotal","due","paid","discount","total","order_status","status","slug","created_at","deleted_at"],sort_by_cols:["id","order_title","reference","customer_id","date","subtotal","due","paid","discount","total","order_status","status","created_at"],table_header_data:["id","order_title","reference","customer_id","date","subtotal","due","paid","discount","total","order_status","status","created_at"],table_row_data:["id","order_title","reference","customer_id","date","subtotal","due","paid","discount","total","order_status","status","created_at"],layout_title:Rt+" Management",page_title:`${Rt} Management`,all_page_title:"All "+Rt,details_page_title:"Details "+Rt,create_page_title:"Create "+Rt,edit_page_title:"Edit "+Rt},A1={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:G.select_fields,sort_by_cols:G.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function gs(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function vs(t,e,a){try{const n=await T.get(t);await e.put(t,new Response(JSON.stringify(n.data)));let o=performance.now()-a;return gs({href:t,duration:o,status:n.status}),n}catch(n){console.error(n.response.data);let o=performance.now()-a;throw gs({href:t,duration:o,status:n.response.status,message:n.response.data.message}),new Error(n.response.statusText)}}function R1(t){return t/1024}async function bs(t,e){let a={data:{},status:200},n=0,l=0,o=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),g=await r.keys(),v=g.length;if(v>15)for(let E=0;E<v-15;E++)await r.delete(g[E]);const y=await r.match(t);return y&&e===!1?(a.data=await y.json(),vs(t,r,i)):a=await vs(t,r,i),n=performance.now(),l=n-i,o=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:R1(o)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:F1,api_version:j1,api_end_point:I1}=G;let O1=async()=>{let t=C(ut,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},n=`${F1}/${j1}/${I1}`,l=new URL(n),o=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(n=t.url.get(),a=await bs(n,o)):a=await bs(l.href,o),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function B1(t){let e=t.target,a=new FormData(e),n=`${G.api_host}/${G.api_version}/${G.api_end_point}/store`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function P1(t){let e=C(ut,["item"]),a=`${G.api_host}/${G.api_version}/${G.api_end_point}/${t}`;try{let n=await T.get(a);e.item.set(n.data.data)}catch(n){return window.s_alert("something is wrong.","error"),n.response}}async function L1(t){let e=B(ut,["item"]),a=t.target,n=new FormData(a);n.append("id",e.item().id);let l=`${G.api_host}/${G.api_version}/${G.api_end_point}/update/${e.item().slug}`;try{return await T.post(l,n)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function q1(){let t=B(ut,["item"]),e=`${G.api_host}/${G.api_version}/${G.api_end_point}/soft-delete`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function U1(){let t=B(ut,["item"]),e=`${G.api_host}/${G.api_version}/${G.api_end_point}/update-status`;try{return await T.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function H1(){let t=B(ut,["item"]),e=`${G.api_host}/${G.api_version}/${G.api_end_point}/restore`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function N1(){let t=B(ut,["item"]),e=`${G.api_host}/${G.api_version}/${G.api_end_point}/destroy/${t.item().slug}`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function V1(t,e){let a=`${G.api_host}/${G.api_version}/${G.api_end_point}/bulk-action`;try{return await T.post(a,{action:t,ids:e})}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function M1(t){let e=t.target,a=new FormData(e),n=`${G.api_host}/${G.api_version}/${G.api_end_point}/import`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function z1(t={}){let e=ut();e.filter_criteria={...e.filter_criteria,...t}}async function W1(t={}){C(ut,["item"]).item.set(t)}async function K1(t=!0){C(ut,["only_latest_data"]).only_latest_data.set(t)}async function J1(t=1){C(ut,["page"]).page.set(t)}async function G1(t=10){C(ut,["paginate"]).paginate.set(t)}async function X1(t=!0){C(ut,["show_details_canvas"]).show_details_canvas.set(t)}async function Y1(t=!0){C(ut,["show_filter_canvas"]).show_filter_canvas.set(t)}async function Q1(t="active"){C(ut,["status"]).status.set(t)}async function Z1(){C(ut,["selected"]).selected.set([])}const ut=Ct(G.store_prefix,{state:()=>A1,getters:{},actions:{get_all:O1,create:B1,update:L1,details:P1,update_status:U1,soft_delete:q1,restore:H1,destroy:N1,bulk_action:V1,import_data:M1,set_page:J1,set_paginate:G1,set_show_details_canvas:X1,set_item:W1,set_show_filter_canvas:Y1,set_filter_criteria:z1,set_status:Q1,set_only_latest_data:K1,clear_selected:Z1}});var t2=function(){function t(){}return t.prototype.exportFile=function(e,a,n){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([n]);window.navigator.msSaveOrOpenBlob(l,a)}else{var o="\uFEFF",i=encodeURIComponent(n),d="data:text/"+e+";charset=utf-8,"+o+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),e2=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var o in l)l.hasOwnProperty(o)&&(n[o]=l[o])},t(e,a)};return function(e,a){t(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();globalThis&&globalThis.__importDefault;var s2=function(t){e2(e,t);function e(a){var n=t.call(this)||this;return n._FileName="",n._Delimeter=",",n._Columns=[],n._RowData=[],n._FileName=a,n}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,n=[];this._Columns&&this._Columns.length>0&&n.push(this.getRowData(this._Columns)),this._RowData.forEach(function(o){n.push(a.getRowData(o))});var l=n.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(t2);const Ie=s2;let a2=G.store_prefix;async function n2(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${G.api_host}/${G.api_version}/${G.api_end_point}`);a.searchParams.set("paginate",10);const n=["deleted_at","created_at","updated_at"];let l,o=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await T.get(a.href);if(i===1){e=d.data.data.last_page;const v=o2(d.data.data.data[0],n);l=new Ie(`${a2}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>l2(v,n));o=o.concat(r),console.log(`Accumulated ${o.length} rows so far`);const g=Math.round(100*i/e);window.update_loader(g)}l.addRows(o),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function o2(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function l2(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let i2=G.store_prefix;function r2(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(o=>!e.includes(o)),n=t.map(o=>a.map(i=>o[i]));new Ie(`${i2}_list.csv`).setColumns(a).addRows(n).exportFile(),C(ut,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let d2=G.store_prefix;function c2(){const t=G.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const n=[Array(a.length).fill("-")];new Ie(`${d2}_demo_list.csv`).setColumns(a).addRows(n).exportFile()}var _2="Expected a function",ys=0/0,u2="[object Symbol]",p2=/^\s+|\s+$/g,f2=/^[-+]0x[0-9a-f]+$/i,m2=/^0b[01]+$/i,h2=/^0o[0-7]+$/i,g2=parseInt,v2=typeof global=="object"&&global&&global.Object===Object&&global,b2=typeof self=="object"&&self&&self.Object===Object&&self,y2=v2||b2||Function("return this")(),$2=Object.prototype,w2=$2.toString,k2=Math.max,x2=Math.min,oe=function(){return y2.Date.now()};function C2(t,e,a){var n,l,o,i,d,r,g=0,v=!1,y=!1,j=!0;if(typeof t!="function")throw new TypeError(_2);e=$s(e)||0,ve(a)&&(v=!!a.leading,y="maxWait"in a,o=y?k2($s(a.maxWait)||0,e):o,j="trailing"in a?!!a.trailing:j);function E(m){var D=n,q=l;return n=l=void 0,g=m,i=t.apply(q,D),i}function V(m){return g=m,d=setTimeout(R,e),v?E(m):i}function k(m){var D=m-r,q=m-g,it=e-D;return y?x2(it,o-q):it}function P(m){var D=m-r,q=m-g;return r===void 0||D>=e||D<0||y&&q>=o}function R(){var m=oe();if(P(m))return L(m);d=setTimeout(R,k(m))}function L(m){return d=void 0,j&&n?E(m):(n=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),g=0,n=r=l=d=void 0}function z(){return d===void 0?i:L(oe())}function U(){var m=oe(),D=P(m);if(n=arguments,l=this,r=m,D){if(d===void 0)return V(r);if(y)return d=setTimeout(R,e),E(r)}return d===void 0&&(d=setTimeout(R,e)),i}return U.cancel=_,U.flush=z,U}function ve(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function S2(t){return!!t&&typeof t=="object"}function D2(t){return typeof t=="symbol"||S2(t)&&w2.call(t)==u2}function $s(t){if(typeof t=="number")return t;if(D2(t))return ys;if(ve(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ve(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(p2,"");var a=m2.test(t);return a||h2.test(t)?g2(t.slice(2),a?2:8):f2.test(t)?ys:+t}function E2(t){console.log(t.target.checked);const e=C(ut,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(n=>{a=a.filter(l=>l.id!=n.id),a.push(n)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const T2={methods:{set_all_item_selectd:E2}};function A2(t,e,a,n,l,o){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>o.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Oe=x(T2,[["render",A2]]);const R2={data:()=>({setup:G}),components:{SelectAll:Oe}},F2=t=>(wt("data-v-faa37a06"),t=t(),kt(),t),j2=F2(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),I2={class:"w-10 text-center"};function O2(t,e,a,n,l,o){const i=b("select-all");return c(),u("tr",null,[j2,s("th",I2,[w(i)]),(c(!0),u(S,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:I(r==0?"w-10":"")},p(d),3))),128))])}const B2=x(R2,[["render",O2],["__scopeId","data-v-faa37a06"]]);function P2(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(n=>{n!==e&&n.classList.remove("active")}),e&&e.classList.toggle("active")}}const L2={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:G})},q2=s("i",{class:"fa fa-eye text-secondary"},null,-1);function U2(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[q2,f(" Show ")]),_:1},8,["to"])}const H2=x(L2,[["render",U2]]),N2={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:G})},V2=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function M2(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[V2,f(" Edit ")]),_:1},8,["to"])}const z2=x(N2,[["render",M2]]),W2={props:{item:{slug:""}},methods:{...H(ut,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var n,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}}}},K2=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),J2=s("i",{class:"fa fa-eye text-warning"},null,-1);function G2(t,e,a,n,l,o){return c(),u(S,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[K2,f(" Inactive ")])):A("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[J2,f(" Active ")])):A("",!0)],64)}const X2=x(W2,[["render",G2]]),Y2={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(ut,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}}}},Q2=s("i",{class:"fa fa-ban text-warning"},null,-1),Z2=s("i",{class:"fa fa-ban text-warning"},null,-1);function t0(t,e,a,n,l,o){return c(),u(S,null,[a.item.deleted_at?A("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=h(i=>o.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[Q2,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=h(i=>o.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[Z2,f(" Restore data ")])):A("",!0)],64)}const e0=x(Y2,[["render",t0]]),s0={props:{item:{slug:""}},methods:{...H(ut,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},a0=s("i",{class:"fa fa-trash text-danger"},null,-1);function n0(t,e,a,n,l,o){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=h((...i)=>o.destroy_data&&o.destroy_data(...i),["prevent"])),class:"border-danger"},[a0,f(" Destroy ")])}const o0=x(s0,[["render",n0]]),l0={props:{item:{type:Object,default:{}}},components:{DetailsBtn:H2,Edit:z2,StatusButton:X2,Destroy:o0,DeleteRestore:e0},methods:{active_row:P2}},i0={class:"table_action_btns"};function r0(t,e,a,n,l,o){const i=b("details-btn"),d=b("edit"),r=b("status-button"),g=b("delete-restore"),v=b("destroy");return c(),u(S,null,[s("span",{onClick:e[0]||(e[0]=h(y=>o.active_row(y),["prevent"])),class:"icon"}),s("div",i0,[s("ul",null,[s("li",null,[w(i,{item:a.item},null,8,["item"])]),s("li",null,[w(d,{item:a.item},null,8,["item"])]),s("li",null,[w(r,{item:a.item},null,8,["item"])]),s("li",null,[w(g,{item:a.item},null,8,["item"])]),s("li",null,[w(v,{item:a.item},null,8,["item"])]),St(t.$slots,"default")])])],64)}const Ba=x(l0,[["render",r0]]);function d0(t,e){const a=C(ut,["selected"]);let n=a.selected.get();e.target.checked?n.push(t):n=n.filter(i=>i.id!=t.id),a.selected.set(n);let o=document.querySelector(".select_all_checkbox");o&&(o.checked=!1)}const c0={props:["data"],created:function(){},methods:{set_item_selectd:d0},computed:{...B(ut,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},_0=["checked"];function u0(t,e,a,n,l,o){return c(),u("input",{onChange:e[0]||(e[0]=i=>o.set_item_selectd(a.data,i)),checked:o.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,_0)}const Pa=x(c0,[["render",u0]]);const p0={props:["data"],data:()=>({setup:G}),components:{SelectAll:Oe,TableRowAction:Ba,SelectSingle:Pa},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t:t}}},f0={key:0},m0={key:1,class:"text-wrap max-w-120"};function h0(t,e,a,n,l,o){const i=b("table-row-action"),d=b("select-single");return c(!0),u(S,null,F(a.data,(r,g)=>(c(),u("tr",{key:r.id,class:I(`table_rows table_row_${r.id}`)},[s("td",null,[w(i,{item:r},null,8,["item"])]),s("td",null,[w(d,{data:r},null,8,["data"])]),(c(!0),u(S,null,F(t.setup.table_row_data,(v,y)=>(c(),u(S,{key:y},[v=="id"?(c(),u("td",f0,p(g+1),1)):(c(),u("td",m0,p(o.trim_content(r[v],v)),1))],64))),128))],2))),128)}const g0=x(p0,[["render",h0],["__scopeId","data-v-65a5d875"]]),v0={components:{TableHead:B2,TableBody:g0},data:()=>({setup:G,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:n2,export_selected_csv:r2,export_demo_csv:c2,...H(ut,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var n,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}},softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.destroy();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,n=new Set(this.selected);a?n.add(t):n.delete(t),this.selected=[...n]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let n=this.selected;n=n.map(o=>o.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,n);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:C2(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...C(ut,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(n=>this.selected.some(l=>l.id===n.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},b0={class:"row"},y0={class:"col-sm-12"},$0={class:"card"},w0={class:"card-header"},k0={class:"row align-items-center"},x0={class:"col-12 col-md-3 mb-2 mb-md-0"},C0={class:"text-capitalize mb-0"},S0={class:"col-12 col-md-6 mb-2 mb-md-0"},D0={class:"col-12 col-md-3 text-md-right text-sm-left"},E0=s("i",{class:"fa fa-gear mx-2"},null,-1),T0={class:"card-body"},A0={class:"table-responsive table_responsive card_body_fixed_height"},R0={class:"table table-hover text-center table-bordered"},F0={key:0},j0={class:"mx-3"},I0={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},O0={class:"pagination my-2",style:{"font-size":"11px"}},B0=["onClick","href","innerHTML"],P0={class:"d-flex",style:{gap:"5px"}},L0=s("span",null,null,-1),q0=s("span",null,"-",-1),U0=s("span",null,"of",-1),H0={class:"d-flex",style:{gap:"5px"}},N0=s("span",null,null,-1),V0=s("span",null," Limit ",-1),M0=nt('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),z0=[M0],W0={class:"card-footer py-2"},K0={class:"d-flex flex-wrap align-items-center"},J0={class:"mr-2 mb-2"},G0=s("i",{class:"fa fa-edit mr-2"},null,-1),X0={class:"mr-2 mb-2"},Y0=s("i",{class:"fa fa-print mr-2"},null,-1),Q0={key:0,class:"mr-2 mb-2"},Z0=s("i",{class:"fa fa-sign-out mr-2"},null,-1),tk={class:"mr-2 mb-2"},ek=s("i",{class:"fa fa-download mr-2"},null,-1),sk={class:"mr-2 mb-2"},ak=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),nk={class:"mr-2 mb-2"},ok=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),lk={class:"mr-2 mb-2"},ik=s("i",{class:"fa fa-trash mr-2"},null,-1),rk={key:1,class:"mr-2 mb-2"},dk=nt('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),ck=[dk],_k=nt('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),uk={class:"off_canvas_body"},pk={class:"header"},fk=s("h3",{class:"heading_text"},"Filter",-1),mk=s("span",{class:"fa fa-close border p-2"},null,-1),hk=[mk],gk={class:"data_content"},vk={class:"filter_item"},bk=s("label",{for:"start_date"},"Start Date",-1),yk={for:"start_date",class:"text-capitalize d-block date_custom_control"},$k={class:"filter_item"},wk=s("label",{for:"end_date"},"End Date",-1),kk={for:"end_date",class:"text-capitalize d-block date_custom_control"},xk={class:"filter_item"},Ck=s("label",{for:"sort_by_col"},"Sort By Col",-1),Sk={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},Dk={class:"filter_item"},Ek=s("label",{for:"sort_by_col"},"Sort Type",-1),Tk={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},Ak={class:"filter_item"},Rk=s("div",{class:"off_canvas_overlay"},null,-1),Fk={class:"modal-dialog modal-dialog-centered"},jk={class:"modal-content border-primary"},Ik={class:"modal-header bg-primary"},Ok={class:"modal-title text-white"},Bk=s("span",{"aria-hidden":"true"},"",-1),Pk=[Bk],Lk={class:"modal-body"},qk=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),Uk=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),Hk={class:"modal-footer"},Nk=s("i",{class:"fa fa-times"},null,-1),Vk=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function Mk(t,e,a,n,l,o){var g,v,y,j,E,V,k,P,R,L;const i=b("table-head"),d=b("table-body"),r=b("router-link");return c(),u("div",null,[s("div",b0,[s("div",y0,[s("div",$0,[s("div",w0,[s("div",k0,[s("div",x0,[s("h5",C0,p(t.setup.all_page_title),1)]),s("div",S0,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>o.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",D0,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[E0,f("Filter ")])])])]),s("div",T0,[s("div",A0,[s("table",R0,[s("thead",null,[w(i)]),(v=(g=t.all)==null?void 0:g.data)!=null&&v.length?(c(),u("tbody",F0,[w(d,{data:(y=t.all)==null?void 0:y.data},null,8,["data"])])):A("",!0)])])]),s("div",j0,[s("nav",I0,[s("ul",O0,[(c(!0),u(S,null,F((j=t.all)==null?void 0:j.links,(_,z)=>{var U,m,D;return c(),u("li",{key:z,class:I(["page-item",{active:_.active}])},[s("a",{class:I(["page-link",((U=t.all)==null?void 0:U.current_page)==((m=t.all)==null?void 0:m.last_page)&&((D=t.all)==null?void 0:D.links.length)-1==z?"disabled":""]),onClick:h(q=>o.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,B0)],2)}),128))]),s("div",P0,[L0,s("span",null,p((E=t.all)==null?void 0:E.from),1),q0,s("span",null,p((V=t.all)==null?void 0:V.to),1),U0,s("span",null,p((k=t.all)==null?void 0:k.total),1)]),s("div",H0,[N0,V0,N(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>o.set_per_page_limit&&o.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},z0,544),[[ot,t.paginate]])])])]),s("div",W0,[s("div",K0,[s("div",J0,[w(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:O(()=>[G0,f(" Create ")]),_:1},8,["to"])]),s("div",X0,[s("a",{href:"",onClick:e[4]||(e[4]=h(()=>o.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[Y0,f(" Export All ")])]),(P=this.selected)!=null&&P.length?(c(),u("div",Q0,[s("a",{href:"",onClick:e[5]||(e[5]=h(_=>o.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[Z0,f(" Export ("+p((R=this.selected)==null?void 0:R.length)+") ",1)])])):A("",!0),s("div",tk,[s("a",{href:"",onClick:e[6]||(e[6]=h(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[ek,f(" Import ")])]),s("div",sk,[s("a",{href:"",onClick:e[7]||(e[7]=h(_=>o.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[ak,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",nk,[s("a",{href:"",onClick:e[8]||(e[8]=h(_=>o.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[ok,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",lk,[s("a",{href:"",onClick:e[9]||(e[9]=h(_=>o.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[ik,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(L=this.selected)!=null&&L.length?(c(),u("div",rk,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>o.bulkActions&&o.bulkActions(..._))},ck,32)])):A("",!0)])])])])]),_k,s("div",{class:I(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",uk,[s("div",pk,[fk,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},hk)]),s("div",gk,[s("div",vk,[bk,s("label",yk,[N(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[rt,t.start_date]])])]),s("div",$k,[wk,s("label",kk,[N(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[rt,t.end_date]])])]),s("div",xk,[Ck,s("label",Sk,[N(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(S,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[ot,t.sort_by_col]])])]),s("div",Dk,[Ek,s("label",Tk,[N(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(S,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[ot,t.sort_type]])])]),s("div",Ak,[s("button",{onClick:e[16]||(e[16]=h(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),Rk],2),s("div",{class:I(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",Fk,[s("form",{onSubmit:e[20]||(e[20]=h((..._)=>o.FileUploadHandler&&o.FileUploadHandler(..._),["prevent"]))},[s("div",jk,[s("div",Ik,[s("h5",Ok," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},Pk)]),s("div",Lk,[qk,Uk,s("a",{href:"",onClick:e[18]||(e[18]=h((..._)=>o.export_demo_csv&&o.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",Hk,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[Nk,f(" Close ")]),Vk])])],32)])],2)])}const zk=x(v0,[["render",Mk]]),Wk=[{name:"order_title",label:"Enter your order title",type:"text",value:""},{name:"reference",label:"Enter your reference",type:"text",value:""},{name:"customer_id",label:"Enter your customer id",type:"number",value:""},{name:"date",label:"Enter your date",type:"datetime",value:""},{name:"subtotal",label:"Enter your subtotal",type:"number",value:""},{name:"due",label:"Enter your due",type:"number",value:""},{name:"paid",label:"Enter your paid",type:"number",value:""},{name:"discount",label:"Enter your discount",type:"number",value:""},{name:"total",label:"Enter your total",type:"number",value:""},{name:"order_status",label:"Enter your order status",type:"select",label:"Select order status",multiple:!1,data_list:[{label:"Pending",value:"pending"},{label:"Due",value:"due"},{label:"Paid",value:"paid"}],value:""}],Kk={data:()=>({setup:G,form_fields:Wk,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t)},methods:{...H(ut,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(n=>{e.name==n[0]&&(this.form_fields[a].value=n[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}}},computed:{...B(ut,{item:"item"})}},Jk={class:"card"},Gk={class:"card-header d-flex justify-content-between"},Xk={class:"text-capitalize"},Yk={class:"card-body card_body_fixed_height"},Qk={class:"row"},Zk=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function tx(t,e,a,n,l,o){const i=b("router-link"),d=b("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=h((...r)=>o.submitHandler&&o.submitHandler(...r),["prevent"]))},[s("div",Jk,[s("div",Gk,[s("h5",Xk,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),M(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):A("",!0),w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",Yk,[s("div",Qk,[(c(!0),u(S,null,F(t.form_fields,(r,g)=>(c(),M(d,{key:g,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),Zk])],32)])}const ws=x(Kk,[["render",tx]]);const ex={props:["item"],data:()=>({setup:G}),components:{SelectAll:Oe,TableRowAction:Ba,SelectSingle:Pa},methods:{trim_content(t,e=null){return t}}},sx=t=>(wt("data-v-7ffff268"),t=t(),kt(),t),ax=sx(()=>s("th",{class:"text-center"},":",-1)),nx={class:"text-trim"};function ox(t,e,a,n,l,o){return c(!0),u(S,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),ax,s("th",nx,p(o.trim_content(a.item[i],i)),1)]))),128)}const lx=x(ex,[["render",ox],["__scopeId","data-v-7ffff268"]]),ix={components:{DataDetialsTableBody:lx},data:()=>({setup:G}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(ut,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...C(ut,{item:"item"})}},rx={class:"card"},dx={class:"card-header d-flex justify-content-between"},cx={class:"text-capitalize"},_x={class:"card-body card_body_fixed_height"},ux={class:"row"},px={class:"col-lg-8"},fx={class:"table quick_modal_table table-bordered"},mx={class:"card-footer"},hx=s("i",{class:"fa fa-angle-left"},null,-1),gx=s("i",{class:"fa fa-angle-right"},null,-1);function vx(t,e,a,n,l,o){const i=b("router-link"),d=b("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=h((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",rx,[s("div",dx,[s("h5",cx,p(t.setup.details_page_title),1),s("div",null,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",_x,[s("div",ux,[s("div",px,[s("table",fx,[s("tbody",null,[w(d,{item:t.item},null,8,["item"])])])])])]),s("div",mx,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(r=>o.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[hx,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):A("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(r=>o.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),gx])):A("",!0)])])],32)])}const bx=x(ix,[["render",vx]]),yx={};function $x(t,e,a,n,l,o){const i=b("router-view");return c(),M(i)}const wx=x(yx,[["render",$x]]);let zt=G.route_prefix,kx=G.route_path;const xx={path:kx,component:wx,children:[{path:"all",name:"All"+zt,component:zk},{path:"create",name:"Create"+zt,component:ws},{path:"details/:id",name:"Details"+zt,component:bx},{path:"edit/:id",name:"Edit"+zt,component:ws}]},Ft="WarehouseProductOut",X={prefix:Ft,permission:["admin","super_admin"],api_host:$t.api_host,api_version:$t.api_version,api_end_point:"warehouse-product-outs",module_name:"warehouse-product-out",store_prefix:"warehouse_product_out",route_prefix:"WarehouseProductOut",route_path:"warehouse-product-out",select_fields:["id","warehouse_id","purchase_order_id","date","status","slug","created_at","deleted_at"],sort_by_cols:["id","warehouse_id","purchase_order_id","date","status","created_at"],table_header_data:["id","warehouse_id","purchase_order_id","date","status","created_at"],table_row_data:["id","warehouse_id","purchase_order_id","date","status","created_at"],layout_title:Ft+" Management",page_title:`${Ft} Management`,all_page_title:"All "+Ft,details_page_title:"Details "+Ft,create_page_title:"Create "+Ft,edit_page_title:"Edit "+Ft},Cx={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:X.select_fields,sort_by_cols:X.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function ks(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function xs(t,e,a){try{const n=await T.get(t);await e.put(t,new Response(JSON.stringify(n.data)));let o=performance.now()-a;return ks({href:t,duration:o,status:n.status}),n}catch(n){console.error(n.response.data);let o=performance.now()-a;throw ks({href:t,duration:o,status:n.response.status,message:n.response.data.message}),new Error(n.response.statusText)}}function Sx(t){return t/1024}async function Cs(t,e){let a={data:{},status:200},n=0,l=0,o=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),g=await r.keys(),v=g.length;if(v>15)for(let E=0;E<v-15;E++)await r.delete(g[E]);const y=await r.match(t);return y&&e===!1?(a.data=await y.json(),xs(t,r,i)):a=await xs(t,r,i),n=performance.now(),l=n-i,o=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:Sx(o)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:Dx,api_version:Ex,api_end_point:Tx}=X;let Ax=async()=>{let t=C(pt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},n=`${Dx}/${Ex}/${Tx}`,l=new URL(n),o=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(n=t.url.get(),a=await Cs(n,o)):a=await Cs(l.href,o),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function Rx(t){let e=t.target,a=new FormData(e),n=`${X.api_host}/${X.api_version}/${X.api_end_point}/store`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Fx(t){let e=C(pt,["item"]),a=`${X.api_host}/${X.api_version}/${X.api_end_point}/${t}`;try{let n=await T.get(a);e.item.set(n.data.data)}catch(n){return window.s_alert("something is wrong.","error"),n.response}}async function jx(t){let e=B(pt,["item"]),a=t.target,n=new FormData(a);n.append("id",e.item().id);let l=`${X.api_host}/${X.api_version}/${X.api_end_point}/update/${e.item().slug}`;try{return await T.post(l,n)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function Ix(){let t=B(pt,["item"]),e=`${X.api_host}/${X.api_version}/${X.api_end_point}/soft-delete`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Ox(){let t=B(pt,["item"]),e=`${X.api_host}/${X.api_version}/${X.api_end_point}/update-status`;try{return await T.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function Bx(){let t=B(pt,["item"]),e=`${X.api_host}/${X.api_version}/${X.api_end_point}/restore`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Px(){let t=B(pt,["item"]),e=`${X.api_host}/${X.api_version}/${X.api_end_point}/destroy/${t.item().slug}`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Lx(t,e){let a=`${X.api_host}/${X.api_version}/${X.api_end_point}/bulk-action`;try{return await T.post(a,{action:t,ids:e})}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function qx(t){let e=t.target,a=new FormData(e),n=`${X.api_host}/${X.api_version}/${X.api_end_point}/import`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Ux(t={}){let e=pt();e.filter_criteria={...e.filter_criteria,...t}}async function Hx(t={}){C(pt,["item"]).item.set(t)}async function Nx(t=!0){C(pt,["only_latest_data"]).only_latest_data.set(t)}async function Vx(t=1){C(pt,["page"]).page.set(t)}async function Mx(t=10){C(pt,["paginate"]).paginate.set(t)}async function zx(t=!0){C(pt,["show_details_canvas"]).show_details_canvas.set(t)}async function Wx(t=!0){C(pt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function Kx(t="active"){C(pt,["status"]).status.set(t)}async function Jx(){C(pt,["selected"]).selected.set([])}const pt=Ct(X.store_prefix,{state:()=>Cx,getters:{},actions:{get_all:Ax,create:Rx,update:jx,details:Fx,update_status:Ox,soft_delete:Ix,restore:Bx,destroy:Px,bulk_action:Lx,import_data:qx,set_page:Vx,set_paginate:Mx,set_show_details_canvas:zx,set_item:Hx,set_show_filter_canvas:Wx,set_filter_criteria:Ux,set_status:Kx,set_only_latest_data:Nx,clear_selected:Jx}});var Gx=function(){function t(){}return t.prototype.exportFile=function(e,a,n){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([n]);window.navigator.msSaveOrOpenBlob(l,a)}else{var o="\uFEFF",i=encodeURIComponent(n),d="data:text/"+e+";charset=utf-8,"+o+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),Xx=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var o in l)l.hasOwnProperty(o)&&(n[o]=l[o])},t(e,a)};return function(e,a){t(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();globalThis&&globalThis.__importDefault;var Yx=function(t){Xx(e,t);function e(a){var n=t.call(this)||this;return n._FileName="",n._Delimeter=",",n._Columns=[],n._RowData=[],n._FileName=a,n}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,n=[];this._Columns&&this._Columns.length>0&&n.push(this.getRowData(this._Columns)),this._RowData.forEach(function(o){n.push(a.getRowData(o))});var l=n.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(Gx);const Be=Yx;let Qx=X.store_prefix;async function Zx(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${X.api_host}/${X.api_version}/${X.api_end_point}`);a.searchParams.set("paginate",10);const n=["deleted_at","created_at","updated_at"];let l,o=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await T.get(a.href);if(i===1){e=d.data.data.last_page;const v=tC(d.data.data.data[0],n);l=new Be(`${Qx}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>eC(v,n));o=o.concat(r),console.log(`Accumulated ${o.length} rows so far`);const g=Math.round(100*i/e);window.update_loader(g)}l.addRows(o),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function tC(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function eC(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let sC=X.store_prefix;function aC(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(o=>!e.includes(o)),n=t.map(o=>a.map(i=>o[i]));new Be(`${sC}_list.csv`).setColumns(a).addRows(n).exportFile(),C(pt,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let nC=X.store_prefix;function oC(){const t=X.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const n=[Array(a.length).fill("-")];new Be(`${nC}_demo_list.csv`).setColumns(a).addRows(n).exportFile()}var lC="Expected a function",Ss=0/0,iC="[object Symbol]",rC=/^\s+|\s+$/g,dC=/^[-+]0x[0-9a-f]+$/i,cC=/^0b[01]+$/i,_C=/^0o[0-7]+$/i,uC=parseInt,pC=typeof global=="object"&&global&&global.Object===Object&&global,fC=typeof self=="object"&&self&&self.Object===Object&&self,mC=pC||fC||Function("return this")(),hC=Object.prototype,gC=hC.toString,vC=Math.max,bC=Math.min,le=function(){return mC.Date.now()};function yC(t,e,a){var n,l,o,i,d,r,g=0,v=!1,y=!1,j=!0;if(typeof t!="function")throw new TypeError(lC);e=Ds(e)||0,be(a)&&(v=!!a.leading,y="maxWait"in a,o=y?vC(Ds(a.maxWait)||0,e):o,j="trailing"in a?!!a.trailing:j);function E(m){var D=n,q=l;return n=l=void 0,g=m,i=t.apply(q,D),i}function V(m){return g=m,d=setTimeout(R,e),v?E(m):i}function k(m){var D=m-r,q=m-g,it=e-D;return y?bC(it,o-q):it}function P(m){var D=m-r,q=m-g;return r===void 0||D>=e||D<0||y&&q>=o}function R(){var m=le();if(P(m))return L(m);d=setTimeout(R,k(m))}function L(m){return d=void 0,j&&n?E(m):(n=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),g=0,n=r=l=d=void 0}function z(){return d===void 0?i:L(le())}function U(){var m=le(),D=P(m);if(n=arguments,l=this,r=m,D){if(d===void 0)return V(r);if(y)return d=setTimeout(R,e),E(r)}return d===void 0&&(d=setTimeout(R,e)),i}return U.cancel=_,U.flush=z,U}function be(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function $C(t){return!!t&&typeof t=="object"}function wC(t){return typeof t=="symbol"||$C(t)&&gC.call(t)==iC}function Ds(t){if(typeof t=="number")return t;if(wC(t))return Ss;if(be(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=be(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(rC,"");var a=cC.test(t);return a||_C.test(t)?uC(t.slice(2),a?2:8):dC.test(t)?Ss:+t}function kC(t){console.log(t.target.checked);const e=C(pt,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(n=>{a=a.filter(l=>l.id!=n.id),a.push(n)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const xC={methods:{set_all_item_selectd:kC}};function CC(t,e,a,n,l,o){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>o.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Pe=x(xC,[["render",CC]]);const SC={data:()=>({setup:X}),components:{SelectAll:Pe}},DC=t=>(wt("data-v-088fb526"),t=t(),kt(),t),EC=DC(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),TC={class:"w-10 text-center"};function AC(t,e,a,n,l,o){const i=b("select-all");return c(),u("tr",null,[EC,s("th",TC,[w(i)]),(c(!0),u(S,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:I(r==0?"w-10":"")},p(d),3))),128))])}const RC=x(SC,[["render",AC],["__scopeId","data-v-088fb526"]]);function FC(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(n=>{n!==e&&n.classList.remove("active")}),e&&e.classList.toggle("active")}}const jC={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:X})},IC=s("i",{class:"fa fa-eye text-secondary"},null,-1);function OC(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[IC,f(" Show ")]),_:1},8,["to"])}const BC=x(jC,[["render",OC]]),PC={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:X})},LC=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function qC(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[LC,f(" Edit ")]),_:1},8,["to"])}const UC=x(PC,[["render",qC]]),HC={props:{item:{slug:""}},methods:{...H(pt,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var n,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}}}},NC=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),VC=s("i",{class:"fa fa-eye text-warning"},null,-1);function MC(t,e,a,n,l,o){return c(),u(S,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[NC,f(" Inactive ")])):A("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[VC,f(" Active ")])):A("",!0)],64)}const zC=x(HC,[["render",MC]]),WC={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(pt,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}}}},KC=s("i",{class:"fa fa-ban text-warning"},null,-1),JC=s("i",{class:"fa fa-ban text-warning"},null,-1);function GC(t,e,a,n,l,o){return c(),u(S,null,[a.item.deleted_at?A("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=h(i=>o.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[KC,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=h(i=>o.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[JC,f(" Restore data ")])):A("",!0)],64)}const XC=x(WC,[["render",GC]]),YC={props:{item:{slug:""}},methods:{...H(pt,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},QC=s("i",{class:"fa fa-trash text-danger"},null,-1);function ZC(t,e,a,n,l,o){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=h((...i)=>o.destroy_data&&o.destroy_data(...i),["prevent"])),class:"border-danger"},[QC,f(" Destroy ")])}const tS=x(YC,[["render",ZC]]),eS={props:{item:{type:Object,default:{}}},components:{DetailsBtn:BC,Edit:UC,StatusButton:zC,Destroy:tS,DeleteRestore:XC},methods:{active_row:FC}},sS={class:"table_action_btns"};function aS(t,e,a,n,l,o){const i=b("details-btn"),d=b("edit"),r=b("status-button"),g=b("delete-restore"),v=b("destroy");return c(),u(S,null,[s("span",{onClick:e[0]||(e[0]=h(y=>o.active_row(y),["prevent"])),class:"icon"}),s("div",sS,[s("ul",null,[s("li",null,[w(i,{item:a.item},null,8,["item"])]),s("li",null,[w(d,{item:a.item},null,8,["item"])]),s("li",null,[w(r,{item:a.item},null,8,["item"])]),s("li",null,[w(g,{item:a.item},null,8,["item"])]),s("li",null,[w(v,{item:a.item},null,8,["item"])]),St(t.$slots,"default")])])],64)}const La=x(eS,[["render",aS]]);function nS(t,e){const a=C(pt,["selected"]);let n=a.selected.get();e.target.checked?n.push(t):n=n.filter(i=>i.id!=t.id),a.selected.set(n);let o=document.querySelector(".select_all_checkbox");o&&(o.checked=!1)}const oS={props:["data"],created:function(){},methods:{set_item_selectd:nS},computed:{...B(pt,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},lS=["checked"];function iS(t,e,a,n,l,o){return c(),u("input",{onChange:e[0]||(e[0]=i=>o.set_item_selectd(a.data,i)),checked:o.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,lS)}const qa=x(oS,[["render",iS]]);const rS={props:["data"],data:()=>({setup:X}),components:{SelectAll:Pe,TableRowAction:La,SelectSingle:qa},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t:t}}},dS={key:0},cS={key:1,class:"text-wrap max-w-120"};function _S(t,e,a,n,l,o){const i=b("table-row-action"),d=b("select-single");return c(!0),u(S,null,F(a.data,(r,g)=>(c(),u("tr",{key:r.id,class:I(`table_rows table_row_${r.id}`)},[s("td",null,[w(i,{item:r},null,8,["item"])]),s("td",null,[w(d,{data:r},null,8,["data"])]),(c(!0),u(S,null,F(t.setup.table_row_data,(v,y)=>(c(),u(S,{key:y},[v=="id"?(c(),u("td",dS,p(g+1),1)):(c(),u("td",cS,p(o.trim_content(r[v],v)),1))],64))),128))],2))),128)}const uS=x(rS,[["render",_S],["__scopeId","data-v-64aae3f2"]]),pS={components:{TableHead:RC,TableBody:uS},data:()=>({setup:X,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:Zx,export_selected_csv:aC,export_demo_csv:oC,...H(pt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var n,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}},softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.destroy();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,n=new Set(this.selected);a?n.add(t):n.delete(t),this.selected=[...n]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let n=this.selected;n=n.map(o=>o.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,n);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:yC(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...C(pt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(n=>this.selected.some(l=>l.id===n.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},fS={class:"row"},mS={class:"col-sm-12"},hS={class:"card"},gS={class:"card-header"},vS={class:"row align-items-center"},bS={class:"col-12 col-md-3 mb-2 mb-md-0"},yS={class:"text-capitalize mb-0"},$S={class:"col-12 col-md-6 mb-2 mb-md-0"},wS={class:"col-12 col-md-3 text-md-right text-sm-left"},kS=s("i",{class:"fa fa-gear mx-2"},null,-1),xS={class:"card-body"},CS={class:"table-responsive table_responsive card_body_fixed_height"},SS={class:"table table-hover text-center table-bordered"},DS={key:0},ES={class:"mx-3"},TS={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},AS={class:"pagination my-2",style:{"font-size":"11px"}},RS=["onClick","href","innerHTML"],FS={class:"d-flex",style:{gap:"5px"}},jS=s("span",null,null,-1),IS=s("span",null,"-",-1),OS=s("span",null,"of",-1),BS={class:"d-flex",style:{gap:"5px"}},PS=s("span",null,null,-1),LS=s("span",null," Limit ",-1),qS=nt('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),US=[qS],HS={class:"card-footer py-2"},NS={class:"d-flex flex-wrap align-items-center"},VS={class:"mr-2 mb-2"},MS=s("i",{class:"fa fa-edit mr-2"},null,-1),zS={class:"mr-2 mb-2"},WS=s("i",{class:"fa fa-print mr-2"},null,-1),KS={key:0,class:"mr-2 mb-2"},JS=s("i",{class:"fa fa-sign-out mr-2"},null,-1),GS={class:"mr-2 mb-2"},XS=s("i",{class:"fa fa-download mr-2"},null,-1),YS={class:"mr-2 mb-2"},QS=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),ZS={class:"mr-2 mb-2"},t8=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),e8={class:"mr-2 mb-2"},s8=s("i",{class:"fa fa-trash mr-2"},null,-1),a8={key:1,class:"mr-2 mb-2"},n8=nt('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),o8=[n8],l8=nt('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),i8={class:"off_canvas_body"},r8={class:"header"},d8=s("h3",{class:"heading_text"},"Filter",-1),c8=s("span",{class:"fa fa-close border p-2"},null,-1),_8=[c8],u8={class:"data_content"},p8={class:"filter_item"},f8=s("label",{for:"start_date"},"Start Date",-1),m8={for:"start_date",class:"text-capitalize d-block date_custom_control"},h8={class:"filter_item"},g8=s("label",{for:"end_date"},"End Date",-1),v8={for:"end_date",class:"text-capitalize d-block date_custom_control"},b8={class:"filter_item"},y8=s("label",{for:"sort_by_col"},"Sort By Col",-1),$8={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},w8={class:"filter_item"},k8=s("label",{for:"sort_by_col"},"Sort Type",-1),x8={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},C8={class:"filter_item"},S8=s("div",{class:"off_canvas_overlay"},null,-1),D8={class:"modal-dialog modal-dialog-centered"},E8={class:"modal-content border-primary"},T8={class:"modal-header bg-primary"},A8={class:"modal-title text-white"},R8=s("span",{"aria-hidden":"true"},"",-1),F8=[R8],j8={class:"modal-body"},I8=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),O8=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),B8={class:"modal-footer"},P8=s("i",{class:"fa fa-times"},null,-1),L8=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function q8(t,e,a,n,l,o){var g,v,y,j,E,V,k,P,R,L;const i=b("table-head"),d=b("table-body"),r=b("router-link");return c(),u("div",null,[s("div",fS,[s("div",mS,[s("div",hS,[s("div",gS,[s("div",vS,[s("div",bS,[s("h5",yS,p(t.setup.all_page_title),1)]),s("div",$S,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>o.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",wS,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[kS,f("Filter ")])])])]),s("div",xS,[s("div",CS,[s("table",SS,[s("thead",null,[w(i)]),(v=(g=t.all)==null?void 0:g.data)!=null&&v.length?(c(),u("tbody",DS,[w(d,{data:(y=t.all)==null?void 0:y.data},null,8,["data"])])):A("",!0)])])]),s("div",ES,[s("nav",TS,[s("ul",AS,[(c(!0),u(S,null,F((j=t.all)==null?void 0:j.links,(_,z)=>{var U,m,D;return c(),u("li",{key:z,class:I(["page-item",{active:_.active}])},[s("a",{class:I(["page-link",((U=t.all)==null?void 0:U.current_page)==((m=t.all)==null?void 0:m.last_page)&&((D=t.all)==null?void 0:D.links.length)-1==z?"disabled":""]),onClick:h(q=>o.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,RS)],2)}),128))]),s("div",FS,[jS,s("span",null,p((E=t.all)==null?void 0:E.from),1),IS,s("span",null,p((V=t.all)==null?void 0:V.to),1),OS,s("span",null,p((k=t.all)==null?void 0:k.total),1)]),s("div",BS,[PS,LS,N(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>o.set_per_page_limit&&o.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},US,544),[[ot,t.paginate]])])])]),s("div",HS,[s("div",NS,[s("div",VS,[w(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:O(()=>[MS,f(" Create ")]),_:1},8,["to"])]),s("div",zS,[s("a",{href:"",onClick:e[4]||(e[4]=h(()=>o.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[WS,f(" Export All ")])]),(P=this.selected)!=null&&P.length?(c(),u("div",KS,[s("a",{href:"",onClick:e[5]||(e[5]=h(_=>o.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[JS,f(" Export ("+p((R=this.selected)==null?void 0:R.length)+") ",1)])])):A("",!0),s("div",GS,[s("a",{href:"",onClick:e[6]||(e[6]=h(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[XS,f(" Import ")])]),s("div",YS,[s("a",{href:"",onClick:e[7]||(e[7]=h(_=>o.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[QS,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",ZS,[s("a",{href:"",onClick:e[8]||(e[8]=h(_=>o.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[t8,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",e8,[s("a",{href:"",onClick:e[9]||(e[9]=h(_=>o.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[s8,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(L=this.selected)!=null&&L.length?(c(),u("div",a8,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>o.bulkActions&&o.bulkActions(..._))},o8,32)])):A("",!0)])])])])]),l8,s("div",{class:I(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",i8,[s("div",r8,[d8,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},_8)]),s("div",u8,[s("div",p8,[f8,s("label",m8,[N(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[rt,t.start_date]])])]),s("div",h8,[g8,s("label",v8,[N(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[rt,t.end_date]])])]),s("div",b8,[y8,s("label",$8,[N(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(S,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[ot,t.sort_by_col]])])]),s("div",w8,[k8,s("label",x8,[N(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(S,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[ot,t.sort_type]])])]),s("div",C8,[s("button",{onClick:e[16]||(e[16]=h(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),S8],2),s("div",{class:I(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",D8,[s("form",{onSubmit:e[20]||(e[20]=h((..._)=>o.FileUploadHandler&&o.FileUploadHandler(..._),["prevent"]))},[s("div",E8,[s("div",T8,[s("h5",A8," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},F8)]),s("div",j8,[I8,O8,s("a",{href:"",onClick:e[18]||(e[18]=h((..._)=>o.export_demo_csv&&o.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",B8,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[P8,f(" Close ")]),L8])])],32)])],2)])}const U8=x(pS,[["render",q8]]),H8=[{name:"warehouse_id",label:"Enter your warehouse id",type:"number",value:""},{name:"purchase_order_id",label:"Enter your purchase order id",type:"text",value:""},{name:"date",label:"Enter your date",type:"datetime",value:""}],N8={data:()=>({setup:X,form_fields:H8,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t)},methods:{...H(pt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(n=>{e.name==n[0]&&(this.form_fields[a].value=n[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}}},computed:{...B(pt,{item:"item"})}},V8={class:"card"},M8={class:"card-header d-flex justify-content-between"},z8={class:"text-capitalize"},W8={class:"card-body card_body_fixed_height"},K8={class:"row"},J8=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function G8(t,e,a,n,l,o){const i=b("router-link"),d=b("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=h((...r)=>o.submitHandler&&o.submitHandler(...r),["prevent"]))},[s("div",V8,[s("div",M8,[s("h5",z8,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),M(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):A("",!0),w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",W8,[s("div",K8,[(c(!0),u(S,null,F(t.form_fields,(r,g)=>(c(),M(d,{key:g,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),J8])],32)])}const Es=x(N8,[["render",G8]]);const X8={props:["item"],data:()=>({setup:X}),components:{SelectAll:Pe,TableRowAction:La,SelectSingle:qa},methods:{trim_content(t,e=null){return t}}},Y8=t=>(wt("data-v-ebccc49e"),t=t(),kt(),t),Q8=Y8(()=>s("th",{class:"text-center"},":",-1)),Z8={class:"text-trim"};function t5(t,e,a,n,l,o){return c(!0),u(S,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),Q8,s("th",Z8,p(o.trim_content(a.item[i],i)),1)]))),128)}const e5=x(X8,[["render",t5],["__scopeId","data-v-ebccc49e"]]),s5={components:{DataDetialsTableBody:e5},data:()=>({setup:X}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(pt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...C(pt,{item:"item"})}},a5={class:"card"},n5={class:"card-header d-flex justify-content-between"},o5={class:"text-capitalize"},l5={class:"card-body card_body_fixed_height"},i5={class:"row"},r5={class:"col-lg-8"},d5={class:"table quick_modal_table table-bordered"},c5={class:"card-footer"},_5=s("i",{class:"fa fa-angle-left"},null,-1),u5=s("i",{class:"fa fa-angle-right"},null,-1);function p5(t,e,a,n,l,o){const i=b("router-link"),d=b("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=h((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",a5,[s("div",n5,[s("h5",o5,p(t.setup.details_page_title),1),s("div",null,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",l5,[s("div",i5,[s("div",r5,[s("table",d5,[s("tbody",null,[w(d,{item:t.item},null,8,["item"])])])])])]),s("div",c5,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(r=>o.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[_5,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):A("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(r=>o.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),u5])):A("",!0)])])],32)])}const f5=x(s5,[["render",p5]]),m5={};function h5(t,e,a,n,l,o){const i=b("router-view");return c(),M(i)}const g5=x(m5,[["render",h5]]);let Wt=X.route_prefix,v5=X.route_path;const b5={path:v5,component:g5,children:[{path:"all",name:"All"+Wt,component:U8},{path:"create",name:"Create"+Wt,component:Es},{path:"details/:id",name:"Details"+Wt,component:f5},{path:"edit/:id",name:"Edit"+Wt,component:Es}]},jt="WareHouseProductStock",Y={prefix:jt,permission:["admin","super_admin"],api_host:$t.api_host,api_version:$t.api_version,api_end_point:"ware-house-product-stocks",module_name:"ware-house-product-stock",store_prefix:"ware_house_product_stock",route_prefix:"WareHouseProductStock",route_path:"ware-house-product-stock",select_fields:["id","warehouse_id","purchase_order_id","date","status","slug","created_at","deleted_at"],sort_by_cols:["id","warehouse_id","purchase_order_id","date","status","created_at"],table_header_data:["id","warehouse_id","purchase_order_id","date","status","created_at"],table_row_data:["id","warehouse_id","purchase_order_id","date","status","created_at"],layout_title:jt+" Management",page_title:`${jt} Management`,all_page_title:"All "+jt,details_page_title:"Details "+jt,create_page_title:"Create "+jt,edit_page_title:"Edit "+jt},y5={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:Y.select_fields,sort_by_cols:Y.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function Ts(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function As(t,e,a){try{const n=await T.get(t);await e.put(t,new Response(JSON.stringify(n.data)));let o=performance.now()-a;return Ts({href:t,duration:o,status:n.status}),n}catch(n){console.error(n.response.data);let o=performance.now()-a;throw Ts({href:t,duration:o,status:n.response.status,message:n.response.data.message}),new Error(n.response.statusText)}}function $5(t){return t/1024}async function Rs(t,e){let a={data:{},status:200},n=0,l=0,o=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),g=await r.keys(),v=g.length;if(v>15)for(let E=0;E<v-15;E++)await r.delete(g[E]);const y=await r.match(t);return y&&e===!1?(a.data=await y.json(),As(t,r,i)):a=await As(t,r,i),n=performance.now(),l=n-i,o=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:$5(o)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:w5,api_version:k5,api_end_point:x5}=Y;let C5=async()=>{let t=C(ft,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},n=`${w5}/${k5}/${x5}`,l=new URL(n),o=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(n=t.url.get(),a=await Rs(n,o)):a=await Rs(l.href,o),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function S5(t){let e=t.target,a=new FormData(e),n=`${Y.api_host}/${Y.api_version}/${Y.api_end_point}/store`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function D5(t){let e=C(ft,["item"]),a=`${Y.api_host}/${Y.api_version}/${Y.api_end_point}/${t}`;try{let n=await T.get(a);e.item.set(n.data.data)}catch(n){return window.s_alert("something is wrong.","error"),n.response}}async function E5(t){let e=B(ft,["item"]),a=t.target,n=new FormData(a);n.append("id",e.item().id);let l=`${Y.api_host}/${Y.api_version}/${Y.api_end_point}/update/${e.item().slug}`;try{return await T.post(l,n)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function T5(){let t=B(ft,["item"]),e=`${Y.api_host}/${Y.api_version}/${Y.api_end_point}/soft-delete`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function A5(){let t=B(ft,["item"]),e=`${Y.api_host}/${Y.api_version}/${Y.api_end_point}/update-status`;try{return await T.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function R5(){let t=B(ft,["item"]),e=`${Y.api_host}/${Y.api_version}/${Y.api_end_point}/restore`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function F5(){let t=B(ft,["item"]),e=`${Y.api_host}/${Y.api_version}/${Y.api_end_point}/destroy/${t.item().slug}`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function j5(t,e){let a=`${Y.api_host}/${Y.api_version}/${Y.api_end_point}/bulk-action`;try{return await T.post(a,{action:t,ids:e})}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function I5(t){let e=t.target,a=new FormData(e),n=`${Y.api_host}/${Y.api_version}/${Y.api_end_point}/import`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function O5(t={}){let e=ft();e.filter_criteria={...e.filter_criteria,...t}}async function B5(t={}){C(ft,["item"]).item.set(t)}async function P5(t=!0){C(ft,["only_latest_data"]).only_latest_data.set(t)}async function L5(t=1){C(ft,["page"]).page.set(t)}async function q5(t=10){C(ft,["paginate"]).paginate.set(t)}async function U5(t=!0){C(ft,["show_details_canvas"]).show_details_canvas.set(t)}async function H5(t=!0){C(ft,["show_filter_canvas"]).show_filter_canvas.set(t)}async function N5(t="active"){C(ft,["status"]).status.set(t)}async function V5(){C(ft,["selected"]).selected.set([])}const ft=Ct(Y.store_prefix,{state:()=>y5,getters:{},actions:{get_all:C5,create:S5,update:E5,details:D5,update_status:A5,soft_delete:T5,restore:R5,destroy:F5,bulk_action:j5,import_data:I5,set_page:L5,set_paginate:q5,set_show_details_canvas:U5,set_item:B5,set_show_filter_canvas:H5,set_filter_criteria:O5,set_status:N5,set_only_latest_data:P5,clear_selected:V5}});var M5=function(){function t(){}return t.prototype.exportFile=function(e,a,n){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([n]);window.navigator.msSaveOrOpenBlob(l,a)}else{var o="\uFEFF",i=encodeURIComponent(n),d="data:text/"+e+";charset=utf-8,"+o+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),z5=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var o in l)l.hasOwnProperty(o)&&(n[o]=l[o])},t(e,a)};return function(e,a){t(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();globalThis&&globalThis.__importDefault;var W5=function(t){z5(e,t);function e(a){var n=t.call(this)||this;return n._FileName="",n._Delimeter=",",n._Columns=[],n._RowData=[],n._FileName=a,n}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,n=[];this._Columns&&this._Columns.length>0&&n.push(this.getRowData(this._Columns)),this._RowData.forEach(function(o){n.push(a.getRowData(o))});var l=n.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(M5);const Le=W5;let K5=Y.store_prefix;async function J5(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${Y.api_host}/${Y.api_version}/${Y.api_end_point}`);a.searchParams.set("paginate",10);const n=["deleted_at","created_at","updated_at"];let l,o=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await T.get(a.href);if(i===1){e=d.data.data.last_page;const v=G5(d.data.data.data[0],n);l=new Le(`${K5}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>X5(v,n));o=o.concat(r),console.log(`Accumulated ${o.length} rows so far`);const g=Math.round(100*i/e);window.update_loader(g)}l.addRows(o),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function G5(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function X5(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let Y5=Y.store_prefix;function Q5(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(o=>!e.includes(o)),n=t.map(o=>a.map(i=>o[i]));new Le(`${Y5}_list.csv`).setColumns(a).addRows(n).exportFile(),C(ft,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let Z5=Y.store_prefix;function t3(){const t=Y.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const n=[Array(a.length).fill("-")];new Le(`${Z5}_demo_list.csv`).setColumns(a).addRows(n).exportFile()}var e3="Expected a function",Fs=0/0,s3="[object Symbol]",a3=/^\s+|\s+$/g,n3=/^[-+]0x[0-9a-f]+$/i,o3=/^0b[01]+$/i,l3=/^0o[0-7]+$/i,i3=parseInt,r3=typeof global=="object"&&global&&global.Object===Object&&global,d3=typeof self=="object"&&self&&self.Object===Object&&self,c3=r3||d3||Function("return this")(),_3=Object.prototype,u3=_3.toString,p3=Math.max,f3=Math.min,ie=function(){return c3.Date.now()};function m3(t,e,a){var n,l,o,i,d,r,g=0,v=!1,y=!1,j=!0;if(typeof t!="function")throw new TypeError(e3);e=js(e)||0,ye(a)&&(v=!!a.leading,y="maxWait"in a,o=y?p3(js(a.maxWait)||0,e):o,j="trailing"in a?!!a.trailing:j);function E(m){var D=n,q=l;return n=l=void 0,g=m,i=t.apply(q,D),i}function V(m){return g=m,d=setTimeout(R,e),v?E(m):i}function k(m){var D=m-r,q=m-g,it=e-D;return y?f3(it,o-q):it}function P(m){var D=m-r,q=m-g;return r===void 0||D>=e||D<0||y&&q>=o}function R(){var m=ie();if(P(m))return L(m);d=setTimeout(R,k(m))}function L(m){return d=void 0,j&&n?E(m):(n=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),g=0,n=r=l=d=void 0}function z(){return d===void 0?i:L(ie())}function U(){var m=ie(),D=P(m);if(n=arguments,l=this,r=m,D){if(d===void 0)return V(r);if(y)return d=setTimeout(R,e),E(r)}return d===void 0&&(d=setTimeout(R,e)),i}return U.cancel=_,U.flush=z,U}function ye(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function h3(t){return!!t&&typeof t=="object"}function g3(t){return typeof t=="symbol"||h3(t)&&u3.call(t)==s3}function js(t){if(typeof t=="number")return t;if(g3(t))return Fs;if(ye(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ye(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(a3,"");var a=o3.test(t);return a||l3.test(t)?i3(t.slice(2),a?2:8):n3.test(t)?Fs:+t}function v3(t){console.log(t.target.checked);const e=C(ft,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(n=>{a=a.filter(l=>l.id!=n.id),a.push(n)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const b3={methods:{set_all_item_selectd:v3}};function y3(t,e,a,n,l,o){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>o.set_all_item_selectd(i)),type:"checkbox"},null,32)}const qe=x(b3,[["render",y3]]);const $3={data:()=>({setup:Y}),components:{SelectAll:qe}},w3=t=>(wt("data-v-c0aa7b47"),t=t(),kt(),t),k3=w3(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),x3={class:"w-10 text-center"};function C3(t,e,a,n,l,o){const i=b("select-all");return c(),u("tr",null,[k3,s("th",x3,[w(i)]),(c(!0),u(S,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:I(r==0?"w-10":"")},p(d),3))),128))])}const S3=x($3,[["render",C3],["__scopeId","data-v-c0aa7b47"]]);function D3(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(n=>{n!==e&&n.classList.remove("active")}),e&&e.classList.toggle("active")}}const E3={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:Y})},T3=s("i",{class:"fa fa-eye text-secondary"},null,-1);function A3(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[T3,f(" Show ")]),_:1},8,["to"])}const R3=x(E3,[["render",A3]]),F3={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:Y})},j3=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function I3(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[j3,f(" Edit ")]),_:1},8,["to"])}const O3=x(F3,[["render",I3]]),B3={props:{item:{slug:""}},methods:{...H(ft,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var n,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}}}},P3=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),L3=s("i",{class:"fa fa-eye text-warning"},null,-1);function q3(t,e,a,n,l,o){return c(),u(S,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[P3,f(" Inactive ")])):A("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[L3,f(" Active ")])):A("",!0)],64)}const U3=x(B3,[["render",q3]]),H3={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(ft,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}}}},N3=s("i",{class:"fa fa-ban text-warning"},null,-1),V3=s("i",{class:"fa fa-ban text-warning"},null,-1);function M3(t,e,a,n,l,o){return c(),u(S,null,[a.item.deleted_at?A("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=h(i=>o.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[N3,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=h(i=>o.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[V3,f(" Restore data ")])):A("",!0)],64)}const z3=x(H3,[["render",M3]]),W3={props:{item:{slug:""}},methods:{...H(ft,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},K3=s("i",{class:"fa fa-trash text-danger"},null,-1);function J3(t,e,a,n,l,o){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=h((...i)=>o.destroy_data&&o.destroy_data(...i),["prevent"])),class:"border-danger"},[K3,f(" Destroy ")])}const G3=x(W3,[["render",J3]]),X3={props:{item:{type:Object,default:{}}},components:{DetailsBtn:R3,Edit:O3,StatusButton:U3,Destroy:G3,DeleteRestore:z3},methods:{active_row:D3}},Y3={class:"table_action_btns"};function Q3(t,e,a,n,l,o){const i=b("details-btn"),d=b("edit"),r=b("status-button"),g=b("delete-restore"),v=b("destroy");return c(),u(S,null,[s("span",{onClick:e[0]||(e[0]=h(y=>o.active_row(y),["prevent"])),class:"icon"}),s("div",Y3,[s("ul",null,[s("li",null,[w(i,{item:a.item},null,8,["item"])]),s("li",null,[w(d,{item:a.item},null,8,["item"])]),s("li",null,[w(r,{item:a.item},null,8,["item"])]),s("li",null,[w(g,{item:a.item},null,8,["item"])]),s("li",null,[w(v,{item:a.item},null,8,["item"])]),St(t.$slots,"default")])])],64)}const Ua=x(X3,[["render",Q3]]);function Z3(t,e){const a=C(ft,["selected"]);let n=a.selected.get();e.target.checked?n.push(t):n=n.filter(i=>i.id!=t.id),a.selected.set(n);let o=document.querySelector(".select_all_checkbox");o&&(o.checked=!1)}const t4={props:["data"],created:function(){},methods:{set_item_selectd:Z3},computed:{...B(ft,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},e4=["checked"];function s4(t,e,a,n,l,o){return c(),u("input",{onChange:e[0]||(e[0]=i=>o.set_item_selectd(a.data,i)),checked:o.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,e4)}const Ha=x(t4,[["render",s4]]);const a4={props:["data"],data:()=>({setup:Y}),components:{SelectAll:qe,TableRowAction:Ua,SelectSingle:Ha},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t:t}}},n4={key:0},o4={key:1,class:"text-wrap max-w-120"};function l4(t,e,a,n,l,o){const i=b("table-row-action"),d=b("select-single");return c(!0),u(S,null,F(a.data,(r,g)=>(c(),u("tr",{key:r.id,class:I(`table_rows table_row_${r.id}`)},[s("td",null,[w(i,{item:r},null,8,["item"])]),s("td",null,[w(d,{data:r},null,8,["data"])]),(c(!0),u(S,null,F(t.setup.table_row_data,(v,y)=>(c(),u(S,{key:y},[v=="id"?(c(),u("td",n4,p(g+1),1)):(c(),u("td",o4,p(o.trim_content(r[v],v)),1))],64))),128))],2))),128)}const i4=x(a4,[["render",l4],["__scopeId","data-v-d7c37e6c"]]),r4={components:{TableHead:S3,TableBody:i4},data:()=>({setup:Y,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:J5,export_selected_csv:Q5,export_demo_csv:t3,...H(ft,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var n,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}},softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.destroy();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,n=new Set(this.selected);a?n.add(t):n.delete(t),this.selected=[...n]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let n=this.selected;n=n.map(o=>o.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,n);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:m3(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...C(ft,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(n=>this.selected.some(l=>l.id===n.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},d4={class:"row"},c4={class:"col-sm-12"},_4={class:"card"},u4={class:"card-header"},p4={class:"row align-items-center"},f4={class:"col-12 col-md-3 mb-2 mb-md-0"},m4={class:"text-capitalize mb-0"},h4={class:"col-12 col-md-6 mb-2 mb-md-0"},g4={class:"col-12 col-md-3 text-md-right text-sm-left"},v4=s("i",{class:"fa fa-gear mx-2"},null,-1),b4={class:"card-body"},y4={class:"table-responsive table_responsive card_body_fixed_height"},$4={class:"table table-hover text-center table-bordered"},w4={key:0},k4={class:"mx-3"},x4={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},C4={class:"pagination my-2",style:{"font-size":"11px"}},S4=["onClick","href","innerHTML"],D4={class:"d-flex",style:{gap:"5px"}},E4=s("span",null,null,-1),T4=s("span",null,"-",-1),A4=s("span",null,"of",-1),R4={class:"d-flex",style:{gap:"5px"}},F4=s("span",null,null,-1),j4=s("span",null," Limit ",-1),I4=nt('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),O4=[I4],B4={class:"card-footer py-2"},P4={class:"d-flex flex-wrap align-items-center"},L4={class:"mr-2 mb-2"},q4=s("i",{class:"fa fa-edit mr-2"},null,-1),U4={class:"mr-2 mb-2"},H4=s("i",{class:"fa fa-print mr-2"},null,-1),N4={key:0,class:"mr-2 mb-2"},V4=s("i",{class:"fa fa-sign-out mr-2"},null,-1),M4={class:"mr-2 mb-2"},z4=s("i",{class:"fa fa-download mr-2"},null,-1),W4={class:"mr-2 mb-2"},K4=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),J4={class:"mr-2 mb-2"},G4=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),X4={class:"mr-2 mb-2"},Y4=s("i",{class:"fa fa-trash mr-2"},null,-1),Q4={key:1,class:"mr-2 mb-2"},Z4=nt('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),tD=[Z4],eD=nt('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),sD={class:"off_canvas_body"},aD={class:"header"},nD=s("h3",{class:"heading_text"},"Filter",-1),oD=s("span",{class:"fa fa-close border p-2"},null,-1),lD=[oD],iD={class:"data_content"},rD={class:"filter_item"},dD=s("label",{for:"start_date"},"Start Date",-1),cD={for:"start_date",class:"text-capitalize d-block date_custom_control"},_D={class:"filter_item"},uD=s("label",{for:"end_date"},"End Date",-1),pD={for:"end_date",class:"text-capitalize d-block date_custom_control"},fD={class:"filter_item"},mD=s("label",{for:"sort_by_col"},"Sort By Col",-1),hD={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},gD={class:"filter_item"},vD=s("label",{for:"sort_by_col"},"Sort Type",-1),bD={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},yD={class:"filter_item"},$D=s("div",{class:"off_canvas_overlay"},null,-1),wD={class:"modal-dialog modal-dialog-centered"},kD={class:"modal-content border-primary"},xD={class:"modal-header bg-primary"},CD={class:"modal-title text-white"},SD=s("span",{"aria-hidden":"true"},"",-1),DD=[SD],ED={class:"modal-body"},TD=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),AD=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),RD={class:"modal-footer"},FD=s("i",{class:"fa fa-times"},null,-1),jD=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function ID(t,e,a,n,l,o){var g,v,y,j,E,V,k,P,R,L;const i=b("table-head"),d=b("table-body"),r=b("router-link");return c(),u("div",null,[s("div",d4,[s("div",c4,[s("div",_4,[s("div",u4,[s("div",p4,[s("div",f4,[s("h5",m4,p(t.setup.all_page_title),1)]),s("div",h4,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>o.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",g4,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[v4,f("Filter ")])])])]),s("div",b4,[s("div",y4,[s("table",$4,[s("thead",null,[w(i)]),(v=(g=t.all)==null?void 0:g.data)!=null&&v.length?(c(),u("tbody",w4,[w(d,{data:(y=t.all)==null?void 0:y.data},null,8,["data"])])):A("",!0)])])]),s("div",k4,[s("nav",x4,[s("ul",C4,[(c(!0),u(S,null,F((j=t.all)==null?void 0:j.links,(_,z)=>{var U,m,D;return c(),u("li",{key:z,class:I(["page-item",{active:_.active}])},[s("a",{class:I(["page-link",((U=t.all)==null?void 0:U.current_page)==((m=t.all)==null?void 0:m.last_page)&&((D=t.all)==null?void 0:D.links.length)-1==z?"disabled":""]),onClick:h(q=>o.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,S4)],2)}),128))]),s("div",D4,[E4,s("span",null,p((E=t.all)==null?void 0:E.from),1),T4,s("span",null,p((V=t.all)==null?void 0:V.to),1),A4,s("span",null,p((k=t.all)==null?void 0:k.total),1)]),s("div",R4,[F4,j4,N(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>o.set_per_page_limit&&o.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},O4,544),[[ot,t.paginate]])])])]),s("div",B4,[s("div",P4,[s("div",L4,[w(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:O(()=>[q4,f(" Create ")]),_:1},8,["to"])]),s("div",U4,[s("a",{href:"",onClick:e[4]||(e[4]=h(()=>o.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[H4,f(" Export All ")])]),(P=this.selected)!=null&&P.length?(c(),u("div",N4,[s("a",{href:"",onClick:e[5]||(e[5]=h(_=>o.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[V4,f(" Export ("+p((R=this.selected)==null?void 0:R.length)+") ",1)])])):A("",!0),s("div",M4,[s("a",{href:"",onClick:e[6]||(e[6]=h(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[z4,f(" Import ")])]),s("div",W4,[s("a",{href:"",onClick:e[7]||(e[7]=h(_=>o.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[K4,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",J4,[s("a",{href:"",onClick:e[8]||(e[8]=h(_=>o.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[G4,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",X4,[s("a",{href:"",onClick:e[9]||(e[9]=h(_=>o.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[Y4,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(L=this.selected)!=null&&L.length?(c(),u("div",Q4,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>o.bulkActions&&o.bulkActions(..._))},tD,32)])):A("",!0)])])])])]),eD,s("div",{class:I(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",sD,[s("div",aD,[nD,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},lD)]),s("div",iD,[s("div",rD,[dD,s("label",cD,[N(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[rt,t.start_date]])])]),s("div",_D,[uD,s("label",pD,[N(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[rt,t.end_date]])])]),s("div",fD,[mD,s("label",hD,[N(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(S,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[ot,t.sort_by_col]])])]),s("div",gD,[vD,s("label",bD,[N(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(S,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[ot,t.sort_type]])])]),s("div",yD,[s("button",{onClick:e[16]||(e[16]=h(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),$D],2),s("div",{class:I(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",wD,[s("form",{onSubmit:e[20]||(e[20]=h((..._)=>o.FileUploadHandler&&o.FileUploadHandler(..._),["prevent"]))},[s("div",kD,[s("div",xD,[s("h5",CD," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},DD)]),s("div",ED,[TD,AD,s("a",{href:"",onClick:e[18]||(e[18]=h((..._)=>o.export_demo_csv&&o.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",RD,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[FD,f(" Close ")]),jD])])],32)])],2)])}const OD=x(r4,[["render",ID]]),BD=[{name:"warehouse_id",label:"Enter your warehouse id",type:"number",value:""},{name:"purchase_order_id",label:"Enter your purchase order id",type:"number",value:""},{name:"date",label:"Enter your date",type:"datetime",value:""}],PD={data:()=>({setup:Y,form_fields:BD,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t)},methods:{...H(ft,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(n=>{e.name==n[0]&&(this.form_fields[a].value=n[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}}},computed:{...B(ft,{item:"item"})}},LD={class:"card"},qD={class:"card-header d-flex justify-content-between"},UD={class:"text-capitalize"},HD={class:"card-body card_body_fixed_height"},ND={class:"row"},VD=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function MD(t,e,a,n,l,o){const i=b("router-link"),d=b("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=h((...r)=>o.submitHandler&&o.submitHandler(...r),["prevent"]))},[s("div",LD,[s("div",qD,[s("h5",UD,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),M(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):A("",!0),w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",HD,[s("div",ND,[(c(!0),u(S,null,F(t.form_fields,(r,g)=>(c(),M(d,{key:g,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),VD])],32)])}const Is=x(PD,[["render",MD]]);const zD={props:["item"],data:()=>({setup:Y}),components:{SelectAll:qe,TableRowAction:Ua,SelectSingle:Ha},methods:{trim_content(t,e=null){return t}}},WD=t=>(wt("data-v-76b2f03c"),t=t(),kt(),t),KD=WD(()=>s("th",{class:"text-center"},":",-1)),JD={class:"text-trim"};function GD(t,e,a,n,l,o){return c(!0),u(S,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),KD,s("th",JD,p(o.trim_content(a.item[i],i)),1)]))),128)}const XD=x(zD,[["render",GD],["__scopeId","data-v-76b2f03c"]]),YD={components:{DataDetialsTableBody:XD},data:()=>({setup:Y}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(ft,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...C(ft,{item:"item"})}},QD={class:"card"},ZD={class:"card-header d-flex justify-content-between"},t6={class:"text-capitalize"},e6={class:"card-body card_body_fixed_height"},s6={class:"row"},a6={class:"col-lg-8"},n6={class:"table quick_modal_table table-bordered"},o6={class:"card-footer"},l6=s("i",{class:"fa fa-angle-left"},null,-1),i6=s("i",{class:"fa fa-angle-right"},null,-1);function r6(t,e,a,n,l,o){const i=b("router-link"),d=b("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=h((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",QD,[s("div",ZD,[s("h5",t6,p(t.setup.details_page_title),1),s("div",null,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",e6,[s("div",s6,[s("div",a6,[s("table",n6,[s("tbody",null,[w(d,{item:t.item},null,8,["item"])])])])])]),s("div",o6,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(r=>o.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[l6,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):A("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(r=>o.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),i6])):A("",!0)])])],32)])}const d6=x(YD,[["render",r6]]),c6={};function _6(t,e,a,n,l,o){const i=b("router-view");return c(),M(i)}const u6=x(c6,[["render",_6]]);let Kt=Y.route_prefix,p6=Y.route_path;const f6={path:p6,component:u6,children:[{path:"all",name:"All"+Kt,component:OD},{path:"create",name:"Create"+Kt,component:Is},{path:"details/:id",name:"Details"+Kt,component:d6},{path:"edit/:id",name:"Edit"+Kt,component:Is}]},It="WareHouse",Q={prefix:It,permission:["admin","super_admin"],api_host:$t.api_host,api_version:$t.api_version,api_end_point:"ware-houses",module_name:"ware-house",store_prefix:"ware_house",route_prefix:"WareHouse",route_path:"ware-house",select_fields:["id","name","address","status","slug","created_at","deleted_at"],sort_by_cols:["id","name","address","status","created_at"],table_header_data:["id","name","address","status","created_at"],table_row_data:["id","name","address","status","created_at"],layout_title:It+" Management",page_title:`${It} Management`,all_page_title:"All "+It,details_page_title:"Details "+It,create_page_title:"Create "+It,edit_page_title:"Edit "+It},m6={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:Q.select_fields,sort_by_cols:Q.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function Os(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function Bs(t,e,a){try{const n=await T.get(t);await e.put(t,new Response(JSON.stringify(n.data)));let o=performance.now()-a;return Os({href:t,duration:o,status:n.status}),n}catch(n){console.error(n.response.data);let o=performance.now()-a;throw Os({href:t,duration:o,status:n.response.status,message:n.response.data.message}),new Error(n.response.statusText)}}function h6(t){return t/1024}async function Ps(t,e){let a={data:{},status:200},n=0,l=0,o=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),g=await r.keys(),v=g.length;if(v>15)for(let E=0;E<v-15;E++)await r.delete(g[E]);const y=await r.match(t);return y&&e===!1?(a.data=await y.json(),Bs(t,r,i)):a=await Bs(t,r,i),n=performance.now(),l=n-i,o=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:h6(o)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:g6,api_version:v6,api_end_point:b6}=Q;let y6=async()=>{let t=C(mt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},n=`${g6}/${v6}/${b6}`,l=new URL(n),o=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(n=t.url.get(),a=await Ps(n,o)):a=await Ps(l.href,o),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function $6(t){let e=t.target,a=new FormData(e),n=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/store`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function w6(t){let e=C(mt,["item"]),a=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/${t}`;try{let n=await T.get(a);e.item.set(n.data.data)}catch(n){return window.s_alert("something is wrong.","error"),n.response}}async function k6(t){let e=B(mt,["item"]),a=t.target,n=new FormData(a);n.append("id",e.item().id);let l=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/update/${e.item().slug}`;try{return await T.post(l,n)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function x6(){let t=B(mt,["item"]),e=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/soft-delete`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function C6(){let t=B(mt,["item"]),e=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/update-status`;try{return await T.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function S6(){let t=B(mt,["item"]),e=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/restore`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function D6(){let t=B(mt,["item"]),e=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/destroy/${t.item().slug}`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function E6(t,e){let a=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/bulk-action`;try{return await T.post(a,{action:t,ids:e})}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function T6(t){let e=t.target,a=new FormData(e),n=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/import`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function A6(t={}){let e=mt();e.filter_criteria={...e.filter_criteria,...t}}async function R6(t={}){C(mt,["item"]).item.set(t)}async function F6(t=!0){C(mt,["only_latest_data"]).only_latest_data.set(t)}async function j6(t=1){C(mt,["page"]).page.set(t)}async function I6(t=10){C(mt,["paginate"]).paginate.set(t)}async function O6(t=!0){C(mt,["show_details_canvas"]).show_details_canvas.set(t)}async function B6(t=!0){C(mt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function P6(t="active"){C(mt,["status"]).status.set(t)}async function L6(){C(mt,["selected"]).selected.set([])}const mt=Ct(Q.store_prefix,{state:()=>m6,getters:{},actions:{get_all:y6,create:$6,update:k6,details:w6,update_status:C6,soft_delete:x6,restore:S6,destroy:D6,bulk_action:E6,import_data:T6,set_page:j6,set_paginate:I6,set_show_details_canvas:O6,set_item:R6,set_show_filter_canvas:B6,set_filter_criteria:A6,set_status:P6,set_only_latest_data:F6,clear_selected:L6}});var q6=function(){function t(){}return t.prototype.exportFile=function(e,a,n){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([n]);window.navigator.msSaveOrOpenBlob(l,a)}else{var o="\uFEFF",i=encodeURIComponent(n),d="data:text/"+e+";charset=utf-8,"+o+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),U6=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var o in l)l.hasOwnProperty(o)&&(n[o]=l[o])},t(e,a)};return function(e,a){t(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();globalThis&&globalThis.__importDefault;var H6=function(t){U6(e,t);function e(a){var n=t.call(this)||this;return n._FileName="",n._Delimeter=",",n._Columns=[],n._RowData=[],n._FileName=a,n}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,n=[];this._Columns&&this._Columns.length>0&&n.push(this.getRowData(this._Columns)),this._RowData.forEach(function(o){n.push(a.getRowData(o))});var l=n.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(q6);const Ue=H6;let N6=Q.store_prefix;async function V6(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${Q.api_host}/${Q.api_version}/${Q.api_end_point}`);a.searchParams.set("paginate",10);const n=["deleted_at","created_at","updated_at"];let l,o=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await T.get(a.href);if(i===1){e=d.data.data.last_page;const v=M6(d.data.data.data[0],n);l=new Ue(`${N6}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>z6(v,n));o=o.concat(r),console.log(`Accumulated ${o.length} rows so far`);const g=Math.round(100*i/e);window.update_loader(g)}l.addRows(o),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function M6(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function z6(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let W6=Q.store_prefix;function K6(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(o=>!e.includes(o)),n=t.map(o=>a.map(i=>o[i]));new Ue(`${W6}_list.csv`).setColumns(a).addRows(n).exportFile(),C(mt,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let J6=Q.store_prefix;function G6(){const t=Q.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const n=[Array(a.length).fill("-")];new Ue(`${J6}_demo_list.csv`).setColumns(a).addRows(n).exportFile()}var X6="Expected a function",Ls=0/0,Y6="[object Symbol]",Q6=/^\s+|\s+$/g,Z6=/^[-+]0x[0-9a-f]+$/i,tE=/^0b[01]+$/i,eE=/^0o[0-7]+$/i,sE=parseInt,aE=typeof global=="object"&&global&&global.Object===Object&&global,nE=typeof self=="object"&&self&&self.Object===Object&&self,oE=aE||nE||Function("return this")(),lE=Object.prototype,iE=lE.toString,rE=Math.max,dE=Math.min,re=function(){return oE.Date.now()};function cE(t,e,a){var n,l,o,i,d,r,g=0,v=!1,y=!1,j=!0;if(typeof t!="function")throw new TypeError(X6);e=qs(e)||0,$e(a)&&(v=!!a.leading,y="maxWait"in a,o=y?rE(qs(a.maxWait)||0,e):o,j="trailing"in a?!!a.trailing:j);function E(m){var D=n,q=l;return n=l=void 0,g=m,i=t.apply(q,D),i}function V(m){return g=m,d=setTimeout(R,e),v?E(m):i}function k(m){var D=m-r,q=m-g,it=e-D;return y?dE(it,o-q):it}function P(m){var D=m-r,q=m-g;return r===void 0||D>=e||D<0||y&&q>=o}function R(){var m=re();if(P(m))return L(m);d=setTimeout(R,k(m))}function L(m){return d=void 0,j&&n?E(m):(n=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),g=0,n=r=l=d=void 0}function z(){return d===void 0?i:L(re())}function U(){var m=re(),D=P(m);if(n=arguments,l=this,r=m,D){if(d===void 0)return V(r);if(y)return d=setTimeout(R,e),E(r)}return d===void 0&&(d=setTimeout(R,e)),i}return U.cancel=_,U.flush=z,U}function $e(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function _E(t){return!!t&&typeof t=="object"}function uE(t){return typeof t=="symbol"||_E(t)&&iE.call(t)==Y6}function qs(t){if(typeof t=="number")return t;if(uE(t))return Ls;if($e(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=$e(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Q6,"");var a=tE.test(t);return a||eE.test(t)?sE(t.slice(2),a?2:8):Z6.test(t)?Ls:+t}function pE(t){console.log(t.target.checked);const e=C(mt,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(n=>{a=a.filter(l=>l.id!=n.id),a.push(n)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const fE={methods:{set_all_item_selectd:pE}};function mE(t,e,a,n,l,o){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>o.set_all_item_selectd(i)),type:"checkbox"},null,32)}const He=x(fE,[["render",mE]]);const hE={data:()=>({setup:Q}),components:{SelectAll:He}},gE=t=>(wt("data-v-3e17b6c2"),t=t(),kt(),t),vE=gE(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),bE={class:"w-10 text-center"};function yE(t,e,a,n,l,o){const i=b("select-all");return c(),u("tr",null,[vE,s("th",bE,[w(i)]),(c(!0),u(S,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:I(r==0?"w-10":"")},p(d),3))),128))])}const $E=x(hE,[["render",yE],["__scopeId","data-v-3e17b6c2"]]);function wE(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(n=>{n!==e&&n.classList.remove("active")}),e&&e.classList.toggle("active")}}const kE={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:Q})},xE=s("i",{class:"fa fa-eye text-secondary"},null,-1);function CE(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[xE,f(" Show ")]),_:1},8,["to"])}const SE=x(kE,[["render",CE]]),DE={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:Q})},EE=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function TE(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[EE,f(" Edit ")]),_:1},8,["to"])}const AE=x(DE,[["render",TE]]),RE={props:{item:{slug:""}},methods:{...H(mt,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var n,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}}}},FE=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),jE=s("i",{class:"fa fa-eye text-warning"},null,-1);function IE(t,e,a,n,l,o){return c(),u(S,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[FE,f(" Inactive ")])):A("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[jE,f(" Active ")])):A("",!0)],64)}const OE=x(RE,[["render",IE]]),BE={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(mt,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}}}},PE=s("i",{class:"fa fa-ban text-warning"},null,-1),LE=s("i",{class:"fa fa-ban text-warning"},null,-1);function qE(t,e,a,n,l,o){return c(),u(S,null,[a.item.deleted_at?A("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=h(i=>o.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[PE,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=h(i=>o.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[LE,f(" Restore data ")])):A("",!0)],64)}const UE=x(BE,[["render",qE]]),HE={props:{item:{slug:""}},methods:{...H(mt,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},NE=s("i",{class:"fa fa-trash text-danger"},null,-1);function VE(t,e,a,n,l,o){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=h((...i)=>o.destroy_data&&o.destroy_data(...i),["prevent"])),class:"border-danger"},[NE,f(" Destroy ")])}const ME=x(HE,[["render",VE]]),zE={props:{item:{type:Object,default:{}}},components:{DetailsBtn:SE,Edit:AE,StatusButton:OE,Destroy:ME,DeleteRestore:UE},methods:{active_row:wE}},WE={class:"table_action_btns"};function KE(t,e,a,n,l,o){const i=b("details-btn"),d=b("edit"),r=b("status-button"),g=b("delete-restore"),v=b("destroy");return c(),u(S,null,[s("span",{onClick:e[0]||(e[0]=h(y=>o.active_row(y),["prevent"])),class:"icon"}),s("div",WE,[s("ul",null,[s("li",null,[w(i,{item:a.item},null,8,["item"])]),s("li",null,[w(d,{item:a.item},null,8,["item"])]),s("li",null,[w(r,{item:a.item},null,8,["item"])]),s("li",null,[w(g,{item:a.item},null,8,["item"])]),s("li",null,[w(v,{item:a.item},null,8,["item"])]),St(t.$slots,"default")])])],64)}const Na=x(zE,[["render",KE]]);function JE(t,e){const a=C(mt,["selected"]);let n=a.selected.get();e.target.checked?n.push(t):n=n.filter(i=>i.id!=t.id),a.selected.set(n);let o=document.querySelector(".select_all_checkbox");o&&(o.checked=!1)}const GE={props:["data"],created:function(){},methods:{set_item_selectd:JE},computed:{...B(mt,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},XE=["checked"];function YE(t,e,a,n,l,o){return c(),u("input",{onChange:e[0]||(e[0]=i=>o.set_item_selectd(a.data,i)),checked:o.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,XE)}const Va=x(GE,[["render",YE]]);const QE={props:["data"],data:()=>({setup:Q}),components:{SelectAll:He,TableRowAction:Na,SelectSingle:Va},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t:t}}},ZE={key:0},tT={key:1,class:"text-wrap max-w-120"};function eT(t,e,a,n,l,o){const i=b("table-row-action"),d=b("select-single");return c(!0),u(S,null,F(a.data,(r,g)=>(c(),u("tr",{key:r.id,class:I(`table_rows table_row_${r.id}`)},[s("td",null,[w(i,{item:r},null,8,["item"])]),s("td",null,[w(d,{data:r},null,8,["data"])]),(c(!0),u(S,null,F(t.setup.table_row_data,(v,y)=>(c(),u(S,{key:y},[v=="id"?(c(),u("td",ZE,p(g+1),1)):(c(),u("td",tT,p(o.trim_content(r[v],v)),1))],64))),128))],2))),128)}const sT=x(QE,[["render",eT],["__scopeId","data-v-4c0ee9cc"]]),aT={components:{TableHead:$E,TableBody:sT},data:()=>({setup:Q,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:V6,export_selected_csv:K6,export_demo_csv:G6,...H(mt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var n,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}},softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.destroy();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,n=new Set(this.selected);a?n.add(t):n.delete(t),this.selected=[...n]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let n=this.selected;n=n.map(o=>o.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,n);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:cE(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...C(mt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(n=>this.selected.some(l=>l.id===n.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},nT={class:"row"},oT={class:"col-sm-12"},lT={class:"card"},iT={class:"card-header"},rT={class:"row align-items-center"},dT={class:"col-12 col-md-3 mb-2 mb-md-0"},cT={class:"text-capitalize mb-0"},_T={class:"col-12 col-md-6 mb-2 mb-md-0"},uT={class:"col-12 col-md-3 text-md-right text-sm-left"},pT=s("i",{class:"fa fa-gear mx-2"},null,-1),fT={class:"card-body"},mT={class:"table-responsive table_responsive card_body_fixed_height"},hT={class:"table table-hover text-center table-bordered"},gT={key:0},vT={class:"mx-3"},bT={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},yT={class:"pagination my-2",style:{"font-size":"11px"}},$T=["onClick","href","innerHTML"],wT={class:"d-flex",style:{gap:"5px"}},kT=s("span",null,null,-1),xT=s("span",null,"-",-1),CT=s("span",null,"of",-1),ST={class:"d-flex",style:{gap:"5px"}},DT=s("span",null,null,-1),ET=s("span",null," Limit ",-1),TT=nt('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),AT=[TT],RT={class:"card-footer py-2"},FT={class:"d-flex flex-wrap align-items-center"},jT={class:"mr-2 mb-2"},IT=s("i",{class:"fa fa-edit mr-2"},null,-1),OT={class:"mr-2 mb-2"},BT=s("i",{class:"fa fa-print mr-2"},null,-1),PT={key:0,class:"mr-2 mb-2"},LT=s("i",{class:"fa fa-sign-out mr-2"},null,-1),qT={class:"mr-2 mb-2"},UT=s("i",{class:"fa fa-download mr-2"},null,-1),HT={class:"mr-2 mb-2"},NT=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),VT={class:"mr-2 mb-2"},MT=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),zT={class:"mr-2 mb-2"},WT=s("i",{class:"fa fa-trash mr-2"},null,-1),KT={key:1,class:"mr-2 mb-2"},JT=nt('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),GT=[JT],XT=nt('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),YT={class:"off_canvas_body"},QT={class:"header"},ZT=s("h3",{class:"heading_text"},"Filter",-1),t7=s("span",{class:"fa fa-close border p-2"},null,-1),e7=[t7],s7={class:"data_content"},a7={class:"filter_item"},n7=s("label",{for:"start_date"},"Start Date",-1),o7={for:"start_date",class:"text-capitalize d-block date_custom_control"},l7={class:"filter_item"},i7=s("label",{for:"end_date"},"End Date",-1),r7={for:"end_date",class:"text-capitalize d-block date_custom_control"},d7={class:"filter_item"},c7=s("label",{for:"sort_by_col"},"Sort By Col",-1),_7={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},u7={class:"filter_item"},p7=s("label",{for:"sort_by_col"},"Sort Type",-1),f7={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},m7={class:"filter_item"},h7=s("div",{class:"off_canvas_overlay"},null,-1),g7={class:"modal-dialog modal-dialog-centered"},v7={class:"modal-content border-primary"},b7={class:"modal-header bg-primary"},y7={class:"modal-title text-white"},$7=s("span",{"aria-hidden":"true"},"",-1),w7=[$7],k7={class:"modal-body"},x7=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),C7=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),S7={class:"modal-footer"},D7=s("i",{class:"fa fa-times"},null,-1),E7=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function T7(t,e,a,n,l,o){var g,v,y,j,E,V,k,P,R,L;const i=b("table-head"),d=b("table-body"),r=b("router-link");return c(),u("div",null,[s("div",nT,[s("div",oT,[s("div",lT,[s("div",iT,[s("div",rT,[s("div",dT,[s("h5",cT,p(t.setup.all_page_title),1)]),s("div",_T,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>o.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",uT,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[pT,f("Filter ")])])])]),s("div",fT,[s("div",mT,[s("table",hT,[s("thead",null,[w(i)]),(v=(g=t.all)==null?void 0:g.data)!=null&&v.length?(c(),u("tbody",gT,[w(d,{data:(y=t.all)==null?void 0:y.data},null,8,["data"])])):A("",!0)])])]),s("div",vT,[s("nav",bT,[s("ul",yT,[(c(!0),u(S,null,F((j=t.all)==null?void 0:j.links,(_,z)=>{var U,m,D;return c(),u("li",{key:z,class:I(["page-item",{active:_.active}])},[s("a",{class:I(["page-link",((U=t.all)==null?void 0:U.current_page)==((m=t.all)==null?void 0:m.last_page)&&((D=t.all)==null?void 0:D.links.length)-1==z?"disabled":""]),onClick:h(q=>o.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,$T)],2)}),128))]),s("div",wT,[kT,s("span",null,p((E=t.all)==null?void 0:E.from),1),xT,s("span",null,p((V=t.all)==null?void 0:V.to),1),CT,s("span",null,p((k=t.all)==null?void 0:k.total),1)]),s("div",ST,[DT,ET,N(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>o.set_per_page_limit&&o.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},AT,544),[[ot,t.paginate]])])])]),s("div",RT,[s("div",FT,[s("div",jT,[w(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:O(()=>[IT,f(" Create ")]),_:1},8,["to"])]),s("div",OT,[s("a",{href:"",onClick:e[4]||(e[4]=h(()=>o.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[BT,f(" Export All ")])]),(P=this.selected)!=null&&P.length?(c(),u("div",PT,[s("a",{href:"",onClick:e[5]||(e[5]=h(_=>o.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[LT,f(" Export ("+p((R=this.selected)==null?void 0:R.length)+") ",1)])])):A("",!0),s("div",qT,[s("a",{href:"",onClick:e[6]||(e[6]=h(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[UT,f(" Import ")])]),s("div",HT,[s("a",{href:"",onClick:e[7]||(e[7]=h(_=>o.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[NT,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",VT,[s("a",{href:"",onClick:e[8]||(e[8]=h(_=>o.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[MT,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",zT,[s("a",{href:"",onClick:e[9]||(e[9]=h(_=>o.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[WT,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(L=this.selected)!=null&&L.length?(c(),u("div",KT,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>o.bulkActions&&o.bulkActions(..._))},GT,32)])):A("",!0)])])])])]),XT,s("div",{class:I(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",YT,[s("div",QT,[ZT,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},e7)]),s("div",s7,[s("div",a7,[n7,s("label",o7,[N(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[rt,t.start_date]])])]),s("div",l7,[i7,s("label",r7,[N(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[rt,t.end_date]])])]),s("div",d7,[c7,s("label",_7,[N(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(S,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[ot,t.sort_by_col]])])]),s("div",u7,[p7,s("label",f7,[N(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(S,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[ot,t.sort_type]])])]),s("div",m7,[s("button",{onClick:e[16]||(e[16]=h(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),h7],2),s("div",{class:I(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",g7,[s("form",{onSubmit:e[20]||(e[20]=h((..._)=>o.FileUploadHandler&&o.FileUploadHandler(..._),["prevent"]))},[s("div",v7,[s("div",b7,[s("h5",y7," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},w7)]),s("div",k7,[x7,C7,s("a",{href:"",onClick:e[18]||(e[18]=h((..._)=>o.export_demo_csv&&o.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",S7,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[D7,f(" Close ")]),E7])])],32)])],2)])}const A7=x(aT,[["render",T7]]),R7=[{name:"name",label:"Enter your name",type:"text",value:""},{name:"address",label:"Enter your address",type:"text",value:""}],F7={data:()=>({setup:Q,form_fields:R7,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t)},methods:{...H(mt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(n=>{e.name==n[0]&&(this.form_fields[a].value=n[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}}},computed:{...B(mt,{item:"item"})}},j7={class:"card"},I7={class:"card-header d-flex justify-content-between"},O7={class:"text-capitalize"},B7={class:"card-body card_body_fixed_height"},P7={class:"row"},L7=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function q7(t,e,a,n,l,o){const i=b("router-link"),d=b("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=h((...r)=>o.submitHandler&&o.submitHandler(...r),["prevent"]))},[s("div",j7,[s("div",I7,[s("h5",O7,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),M(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):A("",!0),w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",B7,[s("div",P7,[(c(!0),u(S,null,F(t.form_fields,(r,g)=>(c(),M(d,{key:g,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),L7])],32)])}const Us=x(F7,[["render",q7]]);const U7={props:["item"],data:()=>({setup:Q}),components:{SelectAll:He,TableRowAction:Na,SelectSingle:Va},methods:{trim_content(t,e=null){return t}}},H7=t=>(wt("data-v-365e0f6b"),t=t(),kt(),t),N7=H7(()=>s("th",{class:"text-center"},":",-1)),V7={class:"text-trim"};function M7(t,e,a,n,l,o){return c(!0),u(S,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),N7,s("th",V7,p(o.trim_content(a.item[i],i)),1)]))),128)}const z7=x(U7,[["render",M7],["__scopeId","data-v-365e0f6b"]]),W7={components:{DataDetialsTableBody:z7},data:()=>({setup:Q}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(mt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...C(mt,{item:"item"})}},K7={class:"card"},J7={class:"card-header d-flex justify-content-between"},G7={class:"text-capitalize"},X7={class:"card-body card_body_fixed_height"},Y7={class:"row"},Q7={class:"col-lg-8"},Z7={class:"table quick_modal_table table-bordered"},tA={class:"card-footer"},eA=s("i",{class:"fa fa-angle-left"},null,-1),sA=s("i",{class:"fa fa-angle-right"},null,-1);function aA(t,e,a,n,l,o){const i=b("router-link"),d=b("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=h((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",K7,[s("div",J7,[s("h5",G7,p(t.setup.details_page_title),1),s("div",null,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",X7,[s("div",Y7,[s("div",Q7,[s("table",Z7,[s("tbody",null,[w(d,{item:t.item},null,8,["item"])])])])])]),s("div",tA,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(r=>o.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[eA,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):A("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(r=>o.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),sA])):A("",!0)])])],32)])}const nA=x(W7,[["render",aA]]),oA={};function lA(t,e,a,n,l,o){const i=b("router-view");return c(),M(i)}const iA=x(oA,[["render",lA]]);let Jt=Q.route_prefix,rA=Q.route_path;const dA={path:rA,component:iA,children:[{path:"all",name:"All"+Jt,component:A7},{path:"create",name:"Create"+Jt,component:Us},{path:"details/:id",name:"Details"+Jt,component:nA},{path:"edit/:id",name:"Edit"+Jt,component:Us}]},Ot="PurchaseOrder",Z={prefix:Ot,permission:["admin","super_admin"],api_host:$t.api_host,api_version:$t.api_version,api_end_point:"purchase-orders",module_name:"purchase-order",store_prefix:"purchase_order",route_prefix:"PurchaseOrder",route_path:"purchase-order",select_fields:["id","title","reference","suppliyer_id","date","currency_id","currency_exchange_rate","expected_time_of_delivery","subtotal","discount","total","total_in_bd","status","slug","created_at","deleted_at"],sort_by_cols:["id","title","reference","suppliyer_id","date","currency_id","currency_exchange_rate","expected_time_of_delivery","subtotal","discount","total","total_in_bd","status","created_at"],table_header_data:["id","title","reference","suppliyer_id","date","currency_id","currency_exchange_rate","expected_time_of_delivery","subtotal","discount","total","total_in_bd","status","created_at"],table_row_data:["id","title","reference","suppliyer_id","date","currency_id","currency_exchange_rate","expected_time_of_delivery","subtotal","discount","total","total_in_bd","status","created_at"],layout_title:Ot+" Management",page_title:`${Ot} Management`,all_page_title:"All "+Ot,details_page_title:"Details "+Ot,create_page_title:"Create "+Ot,edit_page_title:"Edit "+Ot},cA={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:Z.select_fields,sort_by_cols:Z.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function Hs(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function Ns(t,e,a){try{const n=await T.get(t);await e.put(t,new Response(JSON.stringify(n.data)));let o=performance.now()-a;return Hs({href:t,duration:o,status:n.status}),n}catch(n){console.error(n.response.data);let o=performance.now()-a;throw Hs({href:t,duration:o,status:n.response.status,message:n.response.data.message}),new Error(n.response.statusText)}}function _A(t){return t/1024}async function Vs(t,e){let a={data:{},status:200},n=0,l=0,o=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),g=await r.keys(),v=g.length;if(v>15)for(let E=0;E<v-15;E++)await r.delete(g[E]);const y=await r.match(t);return y&&e===!1?(a.data=await y.json(),Ns(t,r,i)):a=await Ns(t,r,i),n=performance.now(),l=n-i,o=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:_A(o)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:uA,api_version:pA,api_end_point:fA}=Z;let mA=async()=>{let t=C(ht,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},n=`${uA}/${pA}/${fA}`,l=new URL(n),o=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(n=t.url.get(),a=await Vs(n,o)):a=await Vs(l.href,o),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function hA(t){let e=t.target,a=new FormData(e),n=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/store`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function gA(t){let e=C(ht,["item"]),a=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/${t}`;try{let n=await T.get(a);e.item.set(n.data.data)}catch(n){return window.s_alert("something is wrong.","error"),n.response}}async function vA(t){let e=B(ht,["item"]),a=t.target,n=new FormData(a);n.append("id",e.item().id);let l=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/update/${e.item().slug}`;try{return await T.post(l,n)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function bA(){let t=B(ht,["item"]),e=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/soft-delete`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function yA(){let t=B(ht,["item"]),e=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/update-status`;try{return await T.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function $A(){let t=B(ht,["item"]),e=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/restore`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function wA(){let t=B(ht,["item"]),e=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/destroy/${t.item().slug}`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function kA(t,e){let a=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/bulk-action`;try{return await T.post(a,{action:t,ids:e})}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function xA(t){let e=t.target,a=new FormData(e),n=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/import`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function CA(t={}){let e=ht();e.filter_criteria={...e.filter_criteria,...t}}async function SA(t={}){C(ht,["item"]).item.set(t)}async function DA(t=!0){C(ht,["only_latest_data"]).only_latest_data.set(t)}async function EA(t=1){C(ht,["page"]).page.set(t)}async function TA(t=10){C(ht,["paginate"]).paginate.set(t)}async function AA(t=!0){C(ht,["show_details_canvas"]).show_details_canvas.set(t)}async function RA(t=!0){C(ht,["show_filter_canvas"]).show_filter_canvas.set(t)}async function FA(t="active"){C(ht,["status"]).status.set(t)}async function jA(){C(ht,["selected"]).selected.set([])}const ht=Ct(Z.store_prefix,{state:()=>cA,getters:{},actions:{get_all:mA,create:hA,update:vA,details:gA,update_status:yA,soft_delete:bA,restore:$A,destroy:wA,bulk_action:kA,import_data:xA,set_page:EA,set_paginate:TA,set_show_details_canvas:AA,set_item:SA,set_show_filter_canvas:RA,set_filter_criteria:CA,set_status:FA,set_only_latest_data:DA,clear_selected:jA}});var IA=function(){function t(){}return t.prototype.exportFile=function(e,a,n){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([n]);window.navigator.msSaveOrOpenBlob(l,a)}else{var o="\uFEFF",i=encodeURIComponent(n),d="data:text/"+e+";charset=utf-8,"+o+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),OA=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var o in l)l.hasOwnProperty(o)&&(n[o]=l[o])},t(e,a)};return function(e,a){t(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();globalThis&&globalThis.__importDefault;var BA=function(t){OA(e,t);function e(a){var n=t.call(this)||this;return n._FileName="",n._Delimeter=",",n._Columns=[],n._RowData=[],n._FileName=a,n}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,n=[];this._Columns&&this._Columns.length>0&&n.push(this.getRowData(this._Columns)),this._RowData.forEach(function(o){n.push(a.getRowData(o))});var l=n.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(IA);const Ne=BA;let PA=Z.store_prefix;async function LA(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${Z.api_host}/${Z.api_version}/${Z.api_end_point}`);a.searchParams.set("paginate",10);const n=["deleted_at","created_at","updated_at"];let l,o=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await T.get(a.href);if(i===1){e=d.data.data.last_page;const v=qA(d.data.data.data[0],n);l=new Ne(`${PA}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>UA(v,n));o=o.concat(r),console.log(`Accumulated ${o.length} rows so far`);const g=Math.round(100*i/e);window.update_loader(g)}l.addRows(o),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function qA(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function UA(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let HA=Z.store_prefix;function NA(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(o=>!e.includes(o)),n=t.map(o=>a.map(i=>o[i]));new Ne(`${HA}_list.csv`).setColumns(a).addRows(n).exportFile(),C(ht,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let VA=Z.store_prefix;function MA(){const t=Z.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const n=[Array(a.length).fill("-")];new Ne(`${VA}_demo_list.csv`).setColumns(a).addRows(n).exportFile()}var zA="Expected a function",Ms=0/0,WA="[object Symbol]",KA=/^\s+|\s+$/g,JA=/^[-+]0x[0-9a-f]+$/i,GA=/^0b[01]+$/i,XA=/^0o[0-7]+$/i,YA=parseInt,QA=typeof global=="object"&&global&&global.Object===Object&&global,ZA=typeof self=="object"&&self&&self.Object===Object&&self,t9=QA||ZA||Function("return this")(),e9=Object.prototype,s9=e9.toString,a9=Math.max,n9=Math.min,de=function(){return t9.Date.now()};function o9(t,e,a){var n,l,o,i,d,r,g=0,v=!1,y=!1,j=!0;if(typeof t!="function")throw new TypeError(zA);e=zs(e)||0,we(a)&&(v=!!a.leading,y="maxWait"in a,o=y?a9(zs(a.maxWait)||0,e):o,j="trailing"in a?!!a.trailing:j);function E(m){var D=n,q=l;return n=l=void 0,g=m,i=t.apply(q,D),i}function V(m){return g=m,d=setTimeout(R,e),v?E(m):i}function k(m){var D=m-r,q=m-g,it=e-D;return y?n9(it,o-q):it}function P(m){var D=m-r,q=m-g;return r===void 0||D>=e||D<0||y&&q>=o}function R(){var m=de();if(P(m))return L(m);d=setTimeout(R,k(m))}function L(m){return d=void 0,j&&n?E(m):(n=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),g=0,n=r=l=d=void 0}function z(){return d===void 0?i:L(de())}function U(){var m=de(),D=P(m);if(n=arguments,l=this,r=m,D){if(d===void 0)return V(r);if(y)return d=setTimeout(R,e),E(r)}return d===void 0&&(d=setTimeout(R,e)),i}return U.cancel=_,U.flush=z,U}function we(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function l9(t){return!!t&&typeof t=="object"}function i9(t){return typeof t=="symbol"||l9(t)&&s9.call(t)==WA}function zs(t){if(typeof t=="number")return t;if(i9(t))return Ms;if(we(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=we(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(KA,"");var a=GA.test(t);return a||XA.test(t)?YA(t.slice(2),a?2:8):JA.test(t)?Ms:+t}function r9(t){console.log(t.target.checked);const e=C(ht,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(n=>{a=a.filter(l=>l.id!=n.id),a.push(n)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const d9={methods:{set_all_item_selectd:r9}};function c9(t,e,a,n,l,o){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>o.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Ve=x(d9,[["render",c9]]);const _9={data:()=>({setup:Z}),components:{SelectAll:Ve}},u9=t=>(wt("data-v-28f4a9e9"),t=t(),kt(),t),p9=u9(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),f9={class:"w-10 text-center"};function m9(t,e,a,n,l,o){const i=b("select-all");return c(),u("tr",null,[p9,s("th",f9,[w(i)]),(c(!0),u(S,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:I(r==0?"w-10":"")},p(d),3))),128))])}const h9=x(_9,[["render",m9],["__scopeId","data-v-28f4a9e9"]]);function g9(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(n=>{n!==e&&n.classList.remove("active")}),e&&e.classList.toggle("active")}}const v9={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:Z})},b9=s("i",{class:"fa fa-eye text-secondary"},null,-1);function y9(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[b9,f(" Show ")]),_:1},8,["to"])}const $9=x(v9,[["render",y9]]),w9={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:Z})},k9=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function x9(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[k9,f(" Edit ")]),_:1},8,["to"])}const C9=x(w9,[["render",x9]]),S9={props:{item:{slug:""}},methods:{...H(ht,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var n,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}}}},D9=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),E9=s("i",{class:"fa fa-eye text-warning"},null,-1);function T9(t,e,a,n,l,o){return c(),u(S,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[D9,f(" Inactive ")])):A("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[E9,f(" Active ")])):A("",!0)],64)}const A9=x(S9,[["render",T9]]),R9={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(ht,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}}}},F9=s("i",{class:"fa fa-ban text-warning"},null,-1),j9=s("i",{class:"fa fa-ban text-warning"},null,-1);function I9(t,e,a,n,l,o){return c(),u(S,null,[a.item.deleted_at?A("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=h(i=>o.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[F9,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=h(i=>o.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[j9,f(" Restore data ")])):A("",!0)],64)}const O9=x(R9,[["render",I9]]),B9={props:{item:{slug:""}},methods:{...H(ht,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},P9=s("i",{class:"fa fa-trash text-danger"},null,-1);function L9(t,e,a,n,l,o){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=h((...i)=>o.destroy_data&&o.destroy_data(...i),["prevent"])),class:"border-danger"},[P9,f(" Destroy ")])}const q9=x(B9,[["render",L9]]),U9={props:{item:{type:Object,default:{}}},components:{DetailsBtn:$9,Edit:C9,StatusButton:A9,Destroy:q9,DeleteRestore:O9},methods:{active_row:g9}},H9={class:"table_action_btns"};function N9(t,e,a,n,l,o){const i=b("details-btn"),d=b("edit"),r=b("status-button"),g=b("delete-restore"),v=b("destroy");return c(),u(S,null,[s("span",{onClick:e[0]||(e[0]=h(y=>o.active_row(y),["prevent"])),class:"icon"}),s("div",H9,[s("ul",null,[s("li",null,[w(i,{item:a.item},null,8,["item"])]),s("li",null,[w(d,{item:a.item},null,8,["item"])]),s("li",null,[w(r,{item:a.item},null,8,["item"])]),s("li",null,[w(g,{item:a.item},null,8,["item"])]),s("li",null,[w(v,{item:a.item},null,8,["item"])]),St(t.$slots,"default")])])],64)}const Ma=x(U9,[["render",N9]]);function V9(t,e){const a=C(ht,["selected"]);let n=a.selected.get();e.target.checked?n.push(t):n=n.filter(i=>i.id!=t.id),a.selected.set(n);let o=document.querySelector(".select_all_checkbox");o&&(o.checked=!1)}const M9={props:["data"],created:function(){},methods:{set_item_selectd:V9},computed:{...B(ht,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},z9=["checked"];function W9(t,e,a,n,l,o){return c(),u("input",{onChange:e[0]||(e[0]=i=>o.set_item_selectd(a.data,i)),checked:o.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,z9)}const za=x(M9,[["render",W9]]);const K9={props:["data"],data:()=>({setup:Z}),components:{SelectAll:Ve,TableRowAction:Ma,SelectSingle:za},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t:t}}},J9={key:0},G9={key:1,class:"text-wrap max-w-120"};function X9(t,e,a,n,l,o){const i=b("table-row-action"),d=b("select-single");return c(!0),u(S,null,F(a.data,(r,g)=>(c(),u("tr",{key:r.id,class:I(`table_rows table_row_${r.id}`)},[s("td",null,[w(i,{item:r},null,8,["item"])]),s("td",null,[w(d,{data:r},null,8,["data"])]),(c(!0),u(S,null,F(t.setup.table_row_data,(v,y)=>(c(),u(S,{key:y},[v=="id"?(c(),u("td",J9,p(g+1),1)):(c(),u("td",G9,p(o.trim_content(r[v],v)),1))],64))),128))],2))),128)}const Y9=x(K9,[["render",X9],["__scopeId","data-v-64e6b6ff"]]),Q9={components:{TableHead:h9,TableBody:Y9},data:()=>({setup:Z,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:LA,export_selected_csv:NA,export_demo_csv:MA,...H(ht,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var n,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}},softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.destroy();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,n=new Set(this.selected);a?n.add(t):n.delete(t),this.selected=[...n]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let n=this.selected;n=n.map(o=>o.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,n);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:o9(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...C(ht,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(n=>this.selected.some(l=>l.id===n.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},Z9={class:"row"},tR={class:"col-sm-12"},eR={class:"card"},sR={class:"card-header"},aR={class:"row align-items-center"},nR={class:"col-12 col-md-3 mb-2 mb-md-0"},oR={class:"text-capitalize mb-0"},lR={class:"col-12 col-md-6 mb-2 mb-md-0"},iR={class:"col-12 col-md-3 text-md-right text-sm-left"},rR=s("i",{class:"fa fa-gear mx-2"},null,-1),dR={class:"card-body"},cR={class:"table-responsive table_responsive card_body_fixed_height"},_R={class:"table table-hover text-center table-bordered"},uR={key:0},pR={class:"mx-3"},fR={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},mR={class:"pagination my-2",style:{"font-size":"11px"}},hR=["onClick","href","innerHTML"],gR={class:"d-flex",style:{gap:"5px"}},vR=s("span",null,null,-1),bR=s("span",null,"-",-1),yR=s("span",null,"of",-1),$R={class:"d-flex",style:{gap:"5px"}},wR=s("span",null,null,-1),kR=s("span",null," Limit ",-1),xR=nt('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),CR=[xR],SR={class:"card-footer py-2"},DR={class:"d-flex flex-wrap align-items-center"},ER={class:"mr-2 mb-2"},TR=s("i",{class:"fa fa-edit mr-2"},null,-1),AR={class:"mr-2 mb-2"},RR=s("i",{class:"fa fa-print mr-2"},null,-1),FR={key:0,class:"mr-2 mb-2"},jR=s("i",{class:"fa fa-sign-out mr-2"},null,-1),IR={class:"mr-2 mb-2"},OR=s("i",{class:"fa fa-download mr-2"},null,-1),BR={class:"mr-2 mb-2"},PR=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),LR={class:"mr-2 mb-2"},qR=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),UR={class:"mr-2 mb-2"},HR=s("i",{class:"fa fa-trash mr-2"},null,-1),NR={key:1,class:"mr-2 mb-2"},VR=nt('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),MR=[VR],zR=nt('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),WR={class:"off_canvas_body"},KR={class:"header"},JR=s("h3",{class:"heading_text"},"Filter",-1),GR=s("span",{class:"fa fa-close border p-2"},null,-1),XR=[GR],YR={class:"data_content"},QR={class:"filter_item"},ZR=s("label",{for:"start_date"},"Start Date",-1),tF={for:"start_date",class:"text-capitalize d-block date_custom_control"},eF={class:"filter_item"},sF=s("label",{for:"end_date"},"End Date",-1),aF={for:"end_date",class:"text-capitalize d-block date_custom_control"},nF={class:"filter_item"},oF=s("label",{for:"sort_by_col"},"Sort By Col",-1),lF={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},iF={class:"filter_item"},rF=s("label",{for:"sort_by_col"},"Sort Type",-1),dF={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},cF={class:"filter_item"},_F=s("div",{class:"off_canvas_overlay"},null,-1),uF={class:"modal-dialog modal-dialog-centered"},pF={class:"modal-content border-primary"},fF={class:"modal-header bg-primary"},mF={class:"modal-title text-white"},hF=s("span",{"aria-hidden":"true"},"",-1),gF=[hF],vF={class:"modal-body"},bF=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),yF=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),$F={class:"modal-footer"},wF=s("i",{class:"fa fa-times"},null,-1),kF=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function xF(t,e,a,n,l,o){var g,v,y,j,E,V,k,P,R,L;const i=b("table-head"),d=b("table-body"),r=b("router-link");return c(),u("div",null,[s("div",Z9,[s("div",tR,[s("div",eR,[s("div",sR,[s("div",aR,[s("div",nR,[s("h5",oR,p(t.setup.all_page_title),1)]),s("div",lR,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>o.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",iR,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[rR,f("Filter ")])])])]),s("div",dR,[s("div",cR,[s("table",_R,[s("thead",null,[w(i)]),(v=(g=t.all)==null?void 0:g.data)!=null&&v.length?(c(),u("tbody",uR,[w(d,{data:(y=t.all)==null?void 0:y.data},null,8,["data"])])):A("",!0)])])]),s("div",pR,[s("nav",fR,[s("ul",mR,[(c(!0),u(S,null,F((j=t.all)==null?void 0:j.links,(_,z)=>{var U,m,D;return c(),u("li",{key:z,class:I(["page-item",{active:_.active}])},[s("a",{class:I(["page-link",((U=t.all)==null?void 0:U.current_page)==((m=t.all)==null?void 0:m.last_page)&&((D=t.all)==null?void 0:D.links.length)-1==z?"disabled":""]),onClick:h(q=>o.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,hR)],2)}),128))]),s("div",gR,[vR,s("span",null,p((E=t.all)==null?void 0:E.from),1),bR,s("span",null,p((V=t.all)==null?void 0:V.to),1),yR,s("span",null,p((k=t.all)==null?void 0:k.total),1)]),s("div",$R,[wR,kR,N(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>o.set_per_page_limit&&o.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},CR,544),[[ot,t.paginate]])])])]),s("div",SR,[s("div",DR,[s("div",ER,[w(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:O(()=>[TR,f(" Create ")]),_:1},8,["to"])]),s("div",AR,[s("a",{href:"",onClick:e[4]||(e[4]=h(()=>o.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[RR,f(" Export All ")])]),(P=this.selected)!=null&&P.length?(c(),u("div",FR,[s("a",{href:"",onClick:e[5]||(e[5]=h(_=>o.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[jR,f(" Export ("+p((R=this.selected)==null?void 0:R.length)+") ",1)])])):A("",!0),s("div",IR,[s("a",{href:"",onClick:e[6]||(e[6]=h(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[OR,f(" Import ")])]),s("div",BR,[s("a",{href:"",onClick:e[7]||(e[7]=h(_=>o.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[PR,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",LR,[s("a",{href:"",onClick:e[8]||(e[8]=h(_=>o.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[qR,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",UR,[s("a",{href:"",onClick:e[9]||(e[9]=h(_=>o.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[HR,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(L=this.selected)!=null&&L.length?(c(),u("div",NR,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>o.bulkActions&&o.bulkActions(..._))},MR,32)])):A("",!0)])])])])]),zR,s("div",{class:I(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",WR,[s("div",KR,[JR,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},XR)]),s("div",YR,[s("div",QR,[ZR,s("label",tF,[N(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[rt,t.start_date]])])]),s("div",eF,[sF,s("label",aF,[N(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[rt,t.end_date]])])]),s("div",nF,[oF,s("label",lF,[N(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(S,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[ot,t.sort_by_col]])])]),s("div",iF,[rF,s("label",dF,[N(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(S,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[ot,t.sort_type]])])]),s("div",cF,[s("button",{onClick:e[16]||(e[16]=h(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),_F],2),s("div",{class:I(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",uF,[s("form",{onSubmit:e[20]||(e[20]=h((..._)=>o.FileUploadHandler&&o.FileUploadHandler(..._),["prevent"]))},[s("div",pF,[s("div",fF,[s("h5",mF," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},gF)]),s("div",vF,[bF,yF,s("a",{href:"",onClick:e[18]||(e[18]=h((..._)=>o.export_demo_csv&&o.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",$F,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[wF,f(" Close ")]),kF])])],32)])],2)])}const CF=x(Q9,[["render",xF]]),SF=[{name:"title",label:"Enter your title",type:"text",value:""},{name:"reference",label:"Enter your reference",type:"text",value:""},{name:"suppliyer_id",label:"Enter your suppliyer id",type:"number",value:""},{name:"date",label:"Enter your date",type:"datetime",value:""},{name:"currency_id",label:"Enter your currency id",type:"number",value:""},{name:"currency_exchange_rate",label:"Enter your currency exchange rate",type:"number",value:""},{name:"expected_time_of_delivery",label:"Enter your expected time of delivery",type:"date",value:""},{name:"subtotal",label:"Enter your subtotal",type:"number",value:""},{name:"discount",label:"Enter your discount",type:"number",value:""},{name:"total",label:"Enter your total",type:"text",value:""},{name:"total_in_bd",label:"Enter your total in bd",type:"number",value:""}],DF={data:()=>({setup:Z,form_fields:SF,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t)},methods:{...H(ht,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(n=>{e.name==n[0]&&(this.form_fields[a].value=n[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}}},computed:{...B(ht,{item:"item"})}},EF={class:"card"},TF={class:"card-header d-flex justify-content-between"},AF={class:"text-capitalize"},RF={class:"card-body card_body_fixed_height"},FF={class:"row"},jF=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function IF(t,e,a,n,l,o){const i=b("router-link"),d=b("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=h((...r)=>o.submitHandler&&o.submitHandler(...r),["prevent"]))},[s("div",EF,[s("div",TF,[s("h5",AF,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),M(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):A("",!0),w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",RF,[s("div",FF,[(c(!0),u(S,null,F(t.form_fields,(r,g)=>(c(),M(d,{key:g,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),jF])],32)])}const Ws=x(DF,[["render",IF]]);const OF={props:["item"],data:()=>({setup:Z}),components:{SelectAll:Ve,TableRowAction:Ma,SelectSingle:za},methods:{trim_content(t,e=null){return t}}},BF=t=>(wt("data-v-030e5c7f"),t=t(),kt(),t),PF=BF(()=>s("th",{class:"text-center"},":",-1)),LF={class:"text-trim"};function qF(t,e,a,n,l,o){return c(!0),u(S,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),PF,s("th",LF,p(o.trim_content(a.item[i],i)),1)]))),128)}const UF=x(OF,[["render",qF],["__scopeId","data-v-030e5c7f"]]),HF={components:{DataDetialsTableBody:UF},data:()=>({setup:Z}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(ht,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...C(ht,{item:"item"})}},NF={class:"card"},VF={class:"card-header d-flex justify-content-between"},MF={class:"text-capitalize"},zF={class:"card-body card_body_fixed_height"},WF={class:"row"},KF={class:"col-lg-8"},JF={class:"table quick_modal_table table-bordered"},GF={class:"card-footer"},XF=s("i",{class:"fa fa-angle-left"},null,-1),YF=s("i",{class:"fa fa-angle-right"},null,-1);function QF(t,e,a,n,l,o){const i=b("router-link"),d=b("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=h((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",NF,[s("div",VF,[s("h5",MF,p(t.setup.details_page_title),1),s("div",null,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",zF,[s("div",WF,[s("div",KF,[s("table",JF,[s("tbody",null,[w(d,{item:t.item},null,8,["item"])])])])])]),s("div",GF,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(r=>o.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[XF,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):A("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(r=>o.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),YF])):A("",!0)])])],32)])}const ZF=x(HF,[["render",QF]]),tj={};function ej(t,e,a,n,l,o){const i=b("router-view");return c(),M(i)}const sj=x(tj,[["render",ej]]);let Gt=Z.route_prefix,aj=Z.route_path;const nj={path:aj,component:sj,children:[{path:"all",name:"All"+Gt,component:CF},{path:"create",name:"Create"+Gt,component:Ws},{path:"details/:id",name:"Details"+Gt,component:ZF},{path:"edit/:id",name:"Edit"+Gt,component:Ws}]},Bt="Suppliyer",tt={prefix:Bt,permission:["admin","super_admin"],api_host:$t.api_host,api_version:$t.api_version,api_end_point:"suppliyers",module_name:"suppliyer",store_prefix:"suppliyer",route_prefix:"Suppliyer",route_path:"suppliyer",select_fields:["id","name","phone","email","address","comment","country","status","slug","created_at","deleted_at"],sort_by_cols:["id","name","phone","email","address","comment","country","status","created_at"],table_header_data:["id","name","phone","email","address","comment","country","status","created_at"],table_row_data:["id","name","phone","email","address","comment","country","status","created_at"],layout_title:Bt+" Management",page_title:`${Bt} Management`,all_page_title:"All "+Bt,details_page_title:"Details "+Bt,create_page_title:"Create "+Bt,edit_page_title:"Edit "+Bt},oj={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:tt.select_fields,sort_by_cols:tt.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function Ks(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function Js(t,e,a){try{const n=await T.get(t);await e.put(t,new Response(JSON.stringify(n.data)));let o=performance.now()-a;return Ks({href:t,duration:o,status:n.status}),n}catch(n){console.error(n.response.data);let o=performance.now()-a;throw Ks({href:t,duration:o,status:n.response.status,message:n.response.data.message}),new Error(n.response.statusText)}}function lj(t){return t/1024}async function Gs(t,e){let a={data:{},status:200},n=0,l=0,o=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),g=await r.keys(),v=g.length;if(v>15)for(let E=0;E<v-15;E++)await r.delete(g[E]);const y=await r.match(t);return y&&e===!1?(a.data=await y.json(),Js(t,r,i)):a=await Js(t,r,i),n=performance.now(),l=n-i,o=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:lj(o)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:ij,api_version:rj,api_end_point:dj}=tt;let cj=async()=>{let t=C(gt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},n=`${ij}/${rj}/${dj}`,l=new URL(n),o=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(n=t.url.get(),a=await Gs(n,o)):a=await Gs(l.href,o),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function _j(t){let e=t.target,a=new FormData(e),n=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/store`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function uj(t){let e=C(gt,["item"]),a=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/${t}`;try{let n=await T.get(a);e.item.set(n.data.data)}catch(n){return window.s_alert("something is wrong.","error"),n.response}}async function pj(t){let e=B(gt,["item"]),a=t.target,n=new FormData(a);n.append("id",e.item().id);let l=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/update/${e.item().slug}`;try{return await T.post(l,n)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function fj(){let t=B(gt,["item"]),e=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/soft-delete`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function mj(){let t=B(gt,["item"]),e=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/update-status`;try{return await T.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function hj(){let t=B(gt,["item"]),e=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/restore`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function gj(){let t=B(gt,["item"]),e=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/destroy/${t.item().slug}`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function vj(t,e){let a=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/bulk-action`;try{return await T.post(a,{action:t,ids:e})}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function bj(t){let e=t.target,a=new FormData(e),n=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/import`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function yj(t={}){let e=gt();e.filter_criteria={...e.filter_criteria,...t}}async function $j(t={}){C(gt,["item"]).item.set(t)}async function wj(t=!0){C(gt,["only_latest_data"]).only_latest_data.set(t)}async function kj(t=1){C(gt,["page"]).page.set(t)}async function xj(t=10){C(gt,["paginate"]).paginate.set(t)}async function Cj(t=!0){C(gt,["show_details_canvas"]).show_details_canvas.set(t)}async function Sj(t=!0){C(gt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function Dj(t="active"){C(gt,["status"]).status.set(t)}async function Ej(){C(gt,["selected"]).selected.set([])}const gt=Ct(tt.store_prefix,{state:()=>oj,getters:{},actions:{get_all:cj,create:_j,update:pj,details:uj,update_status:mj,soft_delete:fj,restore:hj,destroy:gj,bulk_action:vj,import_data:bj,set_page:kj,set_paginate:xj,set_show_details_canvas:Cj,set_item:$j,set_show_filter_canvas:Sj,set_filter_criteria:yj,set_status:Dj,set_only_latest_data:wj,clear_selected:Ej}});var Tj=function(){function t(){}return t.prototype.exportFile=function(e,a,n){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([n]);window.navigator.msSaveOrOpenBlob(l,a)}else{var o="\uFEFF",i=encodeURIComponent(n),d="data:text/"+e+";charset=utf-8,"+o+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),Aj=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var o in l)l.hasOwnProperty(o)&&(n[o]=l[o])},t(e,a)};return function(e,a){t(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();globalThis&&globalThis.__importDefault;var Rj=function(t){Aj(e,t);function e(a){var n=t.call(this)||this;return n._FileName="",n._Delimeter=",",n._Columns=[],n._RowData=[],n._FileName=a,n}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,n=[];this._Columns&&this._Columns.length>0&&n.push(this.getRowData(this._Columns)),this._RowData.forEach(function(o){n.push(a.getRowData(o))});var l=n.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(Tj);const Me=Rj;let Fj=tt.store_prefix;async function jj(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${tt.api_host}/${tt.api_version}/${tt.api_end_point}`);a.searchParams.set("paginate",10);const n=["deleted_at","created_at","updated_at"];let l,o=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await T.get(a.href);if(i===1){e=d.data.data.last_page;const v=Ij(d.data.data.data[0],n);l=new Me(`${Fj}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>Oj(v,n));o=o.concat(r),console.log(`Accumulated ${o.length} rows so far`);const g=Math.round(100*i/e);window.update_loader(g)}l.addRows(o),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function Ij(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function Oj(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let Bj=tt.store_prefix;function Pj(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(o=>!e.includes(o)),n=t.map(o=>a.map(i=>o[i]));new Me(`${Bj}_list.csv`).setColumns(a).addRows(n).exportFile(),C(gt,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let Lj=tt.store_prefix;function qj(){const t=tt.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const n=[Array(a.length).fill("-")];new Me(`${Lj}_demo_list.csv`).setColumns(a).addRows(n).exportFile()}var Uj="Expected a function",Xs=0/0,Hj="[object Symbol]",Nj=/^\s+|\s+$/g,Vj=/^[-+]0x[0-9a-f]+$/i,Mj=/^0b[01]+$/i,zj=/^0o[0-7]+$/i,Wj=parseInt,Kj=typeof global=="object"&&global&&global.Object===Object&&global,Jj=typeof self=="object"&&self&&self.Object===Object&&self,Gj=Kj||Jj||Function("return this")(),Xj=Object.prototype,Yj=Xj.toString,Qj=Math.max,Zj=Math.min,ce=function(){return Gj.Date.now()};function tI(t,e,a){var n,l,o,i,d,r,g=0,v=!1,y=!1,j=!0;if(typeof t!="function")throw new TypeError(Uj);e=Ys(e)||0,ke(a)&&(v=!!a.leading,y="maxWait"in a,o=y?Qj(Ys(a.maxWait)||0,e):o,j="trailing"in a?!!a.trailing:j);function E(m){var D=n,q=l;return n=l=void 0,g=m,i=t.apply(q,D),i}function V(m){return g=m,d=setTimeout(R,e),v?E(m):i}function k(m){var D=m-r,q=m-g,it=e-D;return y?Zj(it,o-q):it}function P(m){var D=m-r,q=m-g;return r===void 0||D>=e||D<0||y&&q>=o}function R(){var m=ce();if(P(m))return L(m);d=setTimeout(R,k(m))}function L(m){return d=void 0,j&&n?E(m):(n=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),g=0,n=r=l=d=void 0}function z(){return d===void 0?i:L(ce())}function U(){var m=ce(),D=P(m);if(n=arguments,l=this,r=m,D){if(d===void 0)return V(r);if(y)return d=setTimeout(R,e),E(r)}return d===void 0&&(d=setTimeout(R,e)),i}return U.cancel=_,U.flush=z,U}function ke(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function eI(t){return!!t&&typeof t=="object"}function sI(t){return typeof t=="symbol"||eI(t)&&Yj.call(t)==Hj}function Ys(t){if(typeof t=="number")return t;if(sI(t))return Xs;if(ke(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ke(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Nj,"");var a=Mj.test(t);return a||zj.test(t)?Wj(t.slice(2),a?2:8):Vj.test(t)?Xs:+t}function aI(t){console.log(t.target.checked);const e=C(gt,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(n=>{a=a.filter(l=>l.id!=n.id),a.push(n)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const nI={methods:{set_all_item_selectd:aI}};function oI(t,e,a,n,l,o){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>o.set_all_item_selectd(i)),type:"checkbox"},null,32)}const ze=x(nI,[["render",oI]]);const lI={data:()=>({setup:tt}),components:{SelectAll:ze}},iI=t=>(wt("data-v-b1bc6e53"),t=t(),kt(),t),rI=iI(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),dI={class:"w-10 text-center"};function cI(t,e,a,n,l,o){const i=b("select-all");return c(),u("tr",null,[rI,s("th",dI,[w(i)]),(c(!0),u(S,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:I(r==0?"w-10":"")},p(d),3))),128))])}const _I=x(lI,[["render",cI],["__scopeId","data-v-b1bc6e53"]]);function uI(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(n=>{n!==e&&n.classList.remove("active")}),e&&e.classList.toggle("active")}}const pI={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:tt})},fI=s("i",{class:"fa fa-eye text-secondary"},null,-1);function mI(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[fI,f(" Show ")]),_:1},8,["to"])}const hI=x(pI,[["render",mI]]),gI={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:tt})},vI=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function bI(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[vI,f(" Edit ")]),_:1},8,["to"])}const yI=x(gI,[["render",bI]]),$I={props:{item:{slug:""}},methods:{...H(gt,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var n,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}}}},wI=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),kI=s("i",{class:"fa fa-eye text-warning"},null,-1);function xI(t,e,a,n,l,o){return c(),u(S,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[wI,f(" Inactive ")])):A("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[kI,f(" Active ")])):A("",!0)],64)}const CI=x($I,[["render",xI]]),SI={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(gt,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}}}},DI=s("i",{class:"fa fa-ban text-warning"},null,-1),EI=s("i",{class:"fa fa-ban text-warning"},null,-1);function TI(t,e,a,n,l,o){return c(),u(S,null,[a.item.deleted_at?A("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=h(i=>o.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[DI,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=h(i=>o.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[EI,f(" Restore data ")])):A("",!0)],64)}const AI=x(SI,[["render",TI]]),RI={props:{item:{slug:""}},methods:{...H(gt,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},FI=s("i",{class:"fa fa-trash text-danger"},null,-1);function jI(t,e,a,n,l,o){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=h((...i)=>o.destroy_data&&o.destroy_data(...i),["prevent"])),class:"border-danger"},[FI,f(" Destroy ")])}const II=x(RI,[["render",jI]]),OI={props:{item:{type:Object,default:{}}},components:{DetailsBtn:hI,Edit:yI,StatusButton:CI,Destroy:II,DeleteRestore:AI},methods:{active_row:uI}},BI={class:"table_action_btns"};function PI(t,e,a,n,l,o){const i=b("details-btn"),d=b("edit"),r=b("status-button"),g=b("delete-restore"),v=b("destroy");return c(),u(S,null,[s("span",{onClick:e[0]||(e[0]=h(y=>o.active_row(y),["prevent"])),class:"icon"}),s("div",BI,[s("ul",null,[s("li",null,[w(i,{item:a.item},null,8,["item"])]),s("li",null,[w(d,{item:a.item},null,8,["item"])]),s("li",null,[w(r,{item:a.item},null,8,["item"])]),s("li",null,[w(g,{item:a.item},null,8,["item"])]),s("li",null,[w(v,{item:a.item},null,8,["item"])]),St(t.$slots,"default")])])],64)}const Wa=x(OI,[["render",PI]]);function LI(t,e){const a=C(gt,["selected"]);let n=a.selected.get();e.target.checked?n.push(t):n=n.filter(i=>i.id!=t.id),a.selected.set(n);let o=document.querySelector(".select_all_checkbox");o&&(o.checked=!1)}const qI={props:["data"],created:function(){},methods:{set_item_selectd:LI},computed:{...B(gt,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},UI=["checked"];function HI(t,e,a,n,l,o){return c(),u("input",{onChange:e[0]||(e[0]=i=>o.set_item_selectd(a.data,i)),checked:o.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,UI)}const Ka=x(qI,[["render",HI]]);const NI={props:["data"],data:()=>({setup:tt}),components:{SelectAll:ze,TableRowAction:Wa,SelectSingle:Ka},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t:t}}},VI={key:0},MI={key:1,class:"text-wrap max-w-120"};function zI(t,e,a,n,l,o){const i=b("table-row-action"),d=b("select-single");return c(!0),u(S,null,F(a.data,(r,g)=>(c(),u("tr",{key:r.id,class:I(`table_rows table_row_${r.id}`)},[s("td",null,[w(i,{item:r},null,8,["item"])]),s("td",null,[w(d,{data:r},null,8,["data"])]),(c(!0),u(S,null,F(t.setup.table_row_data,(v,y)=>(c(),u(S,{key:y},[v=="id"?(c(),u("td",VI,p(g+1),1)):(c(),u("td",MI,p(o.trim_content(r[v],v)),1))],64))),128))],2))),128)}const WI=x(NI,[["render",zI],["__scopeId","data-v-bbf9d376"]]),KI={components:{TableHead:_I,TableBody:WI},data:()=>({setup:tt,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:jj,export_selected_csv:Pj,export_demo_csv:qj,...H(gt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var n,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}},softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.destroy();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,n=new Set(this.selected);a?n.add(t):n.delete(t),this.selected=[...n]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let n=this.selected;n=n.map(o=>o.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,n);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:tI(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...C(gt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(n=>this.selected.some(l=>l.id===n.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},JI={class:"row"},GI={class:"col-sm-12"},XI={class:"card"},YI={class:"card-header"},QI={class:"row align-items-center"},ZI={class:"col-12 col-md-3 mb-2 mb-md-0"},tO={class:"text-capitalize mb-0"},eO={class:"col-12 col-md-6 mb-2 mb-md-0"},sO={class:"col-12 col-md-3 text-md-right text-sm-left"},aO=s("i",{class:"fa fa-gear mx-2"},null,-1),nO={class:"card-body"},oO={class:"table-responsive table_responsive card_body_fixed_height"},lO={class:"table table-hover text-center table-bordered"},iO={key:0},rO={class:"mx-3"},dO={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},cO={class:"pagination my-2",style:{"font-size":"11px"}},_O=["onClick","href","innerHTML"],uO={class:"d-flex",style:{gap:"5px"}},pO=s("span",null,null,-1),fO=s("span",null,"-",-1),mO=s("span",null,"of",-1),hO={class:"d-flex",style:{gap:"5px"}},gO=s("span",null,null,-1),vO=s("span",null," Limit ",-1),bO=nt('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),yO=[bO],$O={class:"card-footer py-2"},wO={class:"d-flex flex-wrap align-items-center"},kO={class:"mr-2 mb-2"},xO=s("i",{class:"fa fa-edit mr-2"},null,-1),CO={class:"mr-2 mb-2"},SO=s("i",{class:"fa fa-print mr-2"},null,-1),DO={key:0,class:"mr-2 mb-2"},EO=s("i",{class:"fa fa-sign-out mr-2"},null,-1),TO={class:"mr-2 mb-2"},AO=s("i",{class:"fa fa-download mr-2"},null,-1),RO={class:"mr-2 mb-2"},FO=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),jO={class:"mr-2 mb-2"},IO=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),OO={class:"mr-2 mb-2"},BO=s("i",{class:"fa fa-trash mr-2"},null,-1),PO={key:1,class:"mr-2 mb-2"},LO=nt('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),qO=[LO],UO=nt('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),HO={class:"off_canvas_body"},NO={class:"header"},VO=s("h3",{class:"heading_text"},"Filter",-1),MO=s("span",{class:"fa fa-close border p-2"},null,-1),zO=[MO],WO={class:"data_content"},KO={class:"filter_item"},JO=s("label",{for:"start_date"},"Start Date",-1),GO={for:"start_date",class:"text-capitalize d-block date_custom_control"},XO={class:"filter_item"},YO=s("label",{for:"end_date"},"End Date",-1),QO={for:"end_date",class:"text-capitalize d-block date_custom_control"},ZO={class:"filter_item"},tB=s("label",{for:"sort_by_col"},"Sort By Col",-1),eB={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},sB={class:"filter_item"},aB=s("label",{for:"sort_by_col"},"Sort Type",-1),nB={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},oB={class:"filter_item"},lB=s("div",{class:"off_canvas_overlay"},null,-1),iB={class:"modal-dialog modal-dialog-centered"},rB={class:"modal-content border-primary"},dB={class:"modal-header bg-primary"},cB={class:"modal-title text-white"},_B=s("span",{"aria-hidden":"true"},"",-1),uB=[_B],pB={class:"modal-body"},fB=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),mB=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),hB={class:"modal-footer"},gB=s("i",{class:"fa fa-times"},null,-1),vB=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function bB(t,e,a,n,l,o){var g,v,y,j,E,V,k,P,R,L;const i=b("table-head"),d=b("table-body"),r=b("router-link");return c(),u("div",null,[s("div",JI,[s("div",GI,[s("div",XI,[s("div",YI,[s("div",QI,[s("div",ZI,[s("h5",tO,p(t.setup.all_page_title),1)]),s("div",eO,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>o.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",sO,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[aO,f("Filter ")])])])]),s("div",nO,[s("div",oO,[s("table",lO,[s("thead",null,[w(i)]),(v=(g=t.all)==null?void 0:g.data)!=null&&v.length?(c(),u("tbody",iO,[w(d,{data:(y=t.all)==null?void 0:y.data},null,8,["data"])])):A("",!0)])])]),s("div",rO,[s("nav",dO,[s("ul",cO,[(c(!0),u(S,null,F((j=t.all)==null?void 0:j.links,(_,z)=>{var U,m,D;return c(),u("li",{key:z,class:I(["page-item",{active:_.active}])},[s("a",{class:I(["page-link",((U=t.all)==null?void 0:U.current_page)==((m=t.all)==null?void 0:m.last_page)&&((D=t.all)==null?void 0:D.links.length)-1==z?"disabled":""]),onClick:h(q=>o.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,_O)],2)}),128))]),s("div",uO,[pO,s("span",null,p((E=t.all)==null?void 0:E.from),1),fO,s("span",null,p((V=t.all)==null?void 0:V.to),1),mO,s("span",null,p((k=t.all)==null?void 0:k.total),1)]),s("div",hO,[gO,vO,N(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>o.set_per_page_limit&&o.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},yO,544),[[ot,t.paginate]])])])]),s("div",$O,[s("div",wO,[s("div",kO,[w(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:O(()=>[xO,f(" Create ")]),_:1},8,["to"])]),s("div",CO,[s("a",{href:"",onClick:e[4]||(e[4]=h(()=>o.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[SO,f(" Export All ")])]),(P=this.selected)!=null&&P.length?(c(),u("div",DO,[s("a",{href:"",onClick:e[5]||(e[5]=h(_=>o.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[EO,f(" Export ("+p((R=this.selected)==null?void 0:R.length)+") ",1)])])):A("",!0),s("div",TO,[s("a",{href:"",onClick:e[6]||(e[6]=h(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[AO,f(" Import ")])]),s("div",RO,[s("a",{href:"",onClick:e[7]||(e[7]=h(_=>o.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[FO,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",jO,[s("a",{href:"",onClick:e[8]||(e[8]=h(_=>o.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[IO,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",OO,[s("a",{href:"",onClick:e[9]||(e[9]=h(_=>o.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[BO,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(L=this.selected)!=null&&L.length?(c(),u("div",PO,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>o.bulkActions&&o.bulkActions(..._))},qO,32)])):A("",!0)])])])])]),UO,s("div",{class:I(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",HO,[s("div",NO,[VO,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},zO)]),s("div",WO,[s("div",KO,[JO,s("label",GO,[N(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[rt,t.start_date]])])]),s("div",XO,[YO,s("label",QO,[N(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[rt,t.end_date]])])]),s("div",ZO,[tB,s("label",eB,[N(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(S,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[ot,t.sort_by_col]])])]),s("div",sB,[aB,s("label",nB,[N(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(S,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[ot,t.sort_type]])])]),s("div",oB,[s("button",{onClick:e[16]||(e[16]=h(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),lB],2),s("div",{class:I(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",iB,[s("form",{onSubmit:e[20]||(e[20]=h((..._)=>o.FileUploadHandler&&o.FileUploadHandler(..._),["prevent"]))},[s("div",rB,[s("div",dB,[s("h5",cB," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},uB)]),s("div",pB,[fB,mB,s("a",{href:"",onClick:e[18]||(e[18]=h((..._)=>o.export_demo_csv&&o.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",hB,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[gB,f(" Close ")]),vB])])],32)])],2)])}const yB=x(KI,[["render",bB]]),$B=[{name:"name",label:"Enter your name",type:"text",value:""},{name:"phone",label:"Enter your phone",type:"text",value:""},{name:"email",label:"Enter your email",type:"text",value:""},{name:"address",label:"Enter your address",type:"text",value:""},{name:"comment",label:"Enter your comment",type:"text",value:""},{name:"country",label:"Enter your country",type:"text",value:""}],wB={data:()=>({setup:tt,form_fields:$B,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t)},methods:{...H(gt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(n=>{e.name==n[0]&&(this.form_fields[a].value=n[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}}},computed:{...B(gt,{item:"item"})}},kB={class:"card"},xB={class:"card-header d-flex justify-content-between"},CB={class:"text-capitalize"},SB={class:"card-body card_body_fixed_height"},DB={class:"row"},EB=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function TB(t,e,a,n,l,o){const i=b("router-link"),d=b("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=h((...r)=>o.submitHandler&&o.submitHandler(...r),["prevent"]))},[s("div",kB,[s("div",xB,[s("h5",CB,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),M(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):A("",!0),w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",SB,[s("div",DB,[(c(!0),u(S,null,F(t.form_fields,(r,g)=>(c(),M(d,{key:g,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),EB])],32)])}const Qs=x(wB,[["render",TB]]);const AB={props:["item"],data:()=>({setup:tt}),components:{SelectAll:ze,TableRowAction:Wa,SelectSingle:Ka},methods:{trim_content(t,e=null){return t}}},RB=t=>(wt("data-v-40c67f77"),t=t(),kt(),t),FB=RB(()=>s("th",{class:"text-center"},":",-1)),jB={class:"text-trim"};function IB(t,e,a,n,l,o){return c(!0),u(S,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),FB,s("th",jB,p(o.trim_content(a.item[i],i)),1)]))),128)}const OB=x(AB,[["render",IB],["__scopeId","data-v-40c67f77"]]),BB={components:{DataDetialsTableBody:OB},data:()=>({setup:tt}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(gt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...C(gt,{item:"item"})}},PB={class:"card"},LB={class:"card-header d-flex justify-content-between"},qB={class:"text-capitalize"},UB={class:"card-body card_body_fixed_height"},HB={class:"row"},NB={class:"col-lg-8"},VB={class:"table quick_modal_table table-bordered"},MB={class:"card-footer"},zB=s("i",{class:"fa fa-angle-left"},null,-1),WB=s("i",{class:"fa fa-angle-right"},null,-1);function KB(t,e,a,n,l,o){const i=b("router-link"),d=b("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=h((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",PB,[s("div",LB,[s("h5",qB,p(t.setup.details_page_title),1),s("div",null,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",UB,[s("div",HB,[s("div",NB,[s("table",VB,[s("tbody",null,[w(d,{item:t.item},null,8,["item"])])])])])]),s("div",MB,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(r=>o.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[zB,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):A("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(r=>o.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),WB])):A("",!0)])])],32)])}const JB=x(BB,[["render",KB]]),GB={};function XB(t,e,a,n,l,o){const i=b("router-view");return c(),M(i)}const YB=x(GB,[["render",XB]]);let Xt=tt.route_prefix,QB=tt.route_path;const ZB={path:QB,component:YB,children:[{path:"all",name:"All"+Xt,component:yB},{path:"create",name:"Create"+Xt,component:Qs},{path:"details/:id",name:"Details"+Xt,component:JB},{path:"edit/:id",name:"Edit"+Xt,component:Qs}]},Pt="Product",et={prefix:Pt,permission:["admin","super_admin"],api_host:$t.api_host,api_version:$t.api_version,api_end_point:"products",module_name:"product",store_prefix:"product",route_prefix:"Product",route_path:"product",select_fields:["id","title","description","suppliyer_id","product_category_id","product_sub_category_id","status","slug","created_at","deleted_at"],sort_by_cols:["id","title","description","suppliyer_id","product_category_id","product_sub_category_id","status","created_at"],table_header_data:["id","title","description","suppliyer_id","product_category_id","product_sub_category_id","status","created_at"],table_row_data:["id","title","description","suppliyer_id","product_category_id","product_sub_category_id","status","created_at"],layout_title:Pt+" Management",page_title:`${Pt} Management`,all_page_title:"All "+Pt,details_page_title:"Details "+Pt,create_page_title:"Create "+Pt,edit_page_title:"Edit "+Pt},tP={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:et.select_fields,sort_by_cols:et.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function Zs(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function ta(t,e,a){try{const n=await T.get(t);await e.put(t,new Response(JSON.stringify(n.data)));let o=performance.now()-a;return Zs({href:t,duration:o,status:n.status}),n}catch(n){console.error(n.response.data);let o=performance.now()-a;throw Zs({href:t,duration:o,status:n.response.status,message:n.response.data.message}),new Error(n.response.statusText)}}function eP(t){return t/1024}async function ea(t,e){let a={data:{},status:200},n=0,l=0,o=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),g=await r.keys(),v=g.length;if(v>15)for(let E=0;E<v-15;E++)await r.delete(g[E]);const y=await r.match(t);return y&&e===!1?(a.data=await y.json(),ta(t,r,i)):a=await ta(t,r,i),n=performance.now(),l=n-i,o=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:eP(o)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:sP,api_version:aP,api_end_point:nP}=et;let oP=async()=>{let t=C(vt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},n=`${sP}/${aP}/${nP}`,l=new URL(n),o=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(n=t.url.get(),a=await ea(n,o)):a=await ea(l.href,o),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function lP(t){let e=t.target,a=new FormData(e),n=`${et.api_host}/${et.api_version}/${et.api_end_point}/store`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function iP(t){let e=C(vt,["item"]),a=`${et.api_host}/${et.api_version}/${et.api_end_point}/${t}`;try{let n=await T.get(a);e.item.set(n.data.data)}catch(n){return window.s_alert("something is wrong.","error"),n.response}}async function rP(t){let e=B(vt,["item"]),a=t.target,n=new FormData(a);n.append("id",e.item().id);let l=`${et.api_host}/${et.api_version}/${et.api_end_point}/update/${e.item().slug}`;try{return await T.post(l,n)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function dP(){let t=B(vt,["item"]),e=`${et.api_host}/${et.api_version}/${et.api_end_point}/soft-delete`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function cP(){let t=B(vt,["item"]),e=`${et.api_host}/${et.api_version}/${et.api_end_point}/update-status`;try{return await T.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function _P(){let t=B(vt,["item"]),e=`${et.api_host}/${et.api_version}/${et.api_end_point}/restore`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function uP(){let t=B(vt,["item"]),e=`${et.api_host}/${et.api_version}/${et.api_end_point}/destroy/${t.item().slug}`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function pP(t,e){let a=`${et.api_host}/${et.api_version}/${et.api_end_point}/bulk-action`;try{return await T.post(a,{action:t,ids:e})}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function fP(t){let e=t.target,a=new FormData(e),n=`${et.api_host}/${et.api_version}/${et.api_end_point}/import`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function mP(t={}){let e=vt();e.filter_criteria={...e.filter_criteria,...t}}async function hP(t={}){C(vt,["item"]).item.set(t)}async function gP(t=!0){C(vt,["only_latest_data"]).only_latest_data.set(t)}async function vP(t=1){C(vt,["page"]).page.set(t)}async function bP(t=10){C(vt,["paginate"]).paginate.set(t)}async function yP(t=!0){C(vt,["show_details_canvas"]).show_details_canvas.set(t)}async function $P(t=!0){C(vt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function wP(t="active"){C(vt,["status"]).status.set(t)}async function kP(){C(vt,["selected"]).selected.set([])}const vt=Ct(et.store_prefix,{state:()=>tP,getters:{},actions:{get_all:oP,create:lP,update:rP,details:iP,update_status:cP,soft_delete:dP,restore:_P,destroy:uP,bulk_action:pP,import_data:fP,set_page:vP,set_paginate:bP,set_show_details_canvas:yP,set_item:hP,set_show_filter_canvas:$P,set_filter_criteria:mP,set_status:wP,set_only_latest_data:gP,clear_selected:kP}});var xP=function(){function t(){}return t.prototype.exportFile=function(e,a,n){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([n]);window.navigator.msSaveOrOpenBlob(l,a)}else{var o="\uFEFF",i=encodeURIComponent(n),d="data:text/"+e+";charset=utf-8,"+o+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),CP=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var o in l)l.hasOwnProperty(o)&&(n[o]=l[o])},t(e,a)};return function(e,a){t(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();globalThis&&globalThis.__importDefault;var SP=function(t){CP(e,t);function e(a){var n=t.call(this)||this;return n._FileName="",n._Delimeter=",",n._Columns=[],n._RowData=[],n._FileName=a,n}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,n=[];this._Columns&&this._Columns.length>0&&n.push(this.getRowData(this._Columns)),this._RowData.forEach(function(o){n.push(a.getRowData(o))});var l=n.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(xP);const We=SP;let DP=et.store_prefix;async function EP(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${et.api_host}/${et.api_version}/${et.api_end_point}`);a.searchParams.set("paginate",10);const n=["deleted_at","created_at","updated_at"];let l,o=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await T.get(a.href);if(i===1){e=d.data.data.last_page;const v=TP(d.data.data.data[0],n);l=new We(`${DP}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>AP(v,n));o=o.concat(r),console.log(`Accumulated ${o.length} rows so far`);const g=Math.round(100*i/e);window.update_loader(g)}l.addRows(o),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function TP(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function AP(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let RP=et.store_prefix;function FP(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(o=>!e.includes(o)),n=t.map(o=>a.map(i=>o[i]));new We(`${RP}_list.csv`).setColumns(a).addRows(n).exportFile(),C(vt,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let jP=et.store_prefix;function IP(){const t=et.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const n=[Array(a.length).fill("-")];new We(`${jP}_demo_list.csv`).setColumns(a).addRows(n).exportFile()}var OP="Expected a function",sa=0/0,BP="[object Symbol]",PP=/^\s+|\s+$/g,LP=/^[-+]0x[0-9a-f]+$/i,qP=/^0b[01]+$/i,UP=/^0o[0-7]+$/i,HP=parseInt,NP=typeof global=="object"&&global&&global.Object===Object&&global,VP=typeof self=="object"&&self&&self.Object===Object&&self,MP=NP||VP||Function("return this")(),zP=Object.prototype,WP=zP.toString,KP=Math.max,JP=Math.min,_e=function(){return MP.Date.now()};function GP(t,e,a){var n,l,o,i,d,r,g=0,v=!1,y=!1,j=!0;if(typeof t!="function")throw new TypeError(OP);e=aa(e)||0,xe(a)&&(v=!!a.leading,y="maxWait"in a,o=y?KP(aa(a.maxWait)||0,e):o,j="trailing"in a?!!a.trailing:j);function E(m){var D=n,q=l;return n=l=void 0,g=m,i=t.apply(q,D),i}function V(m){return g=m,d=setTimeout(R,e),v?E(m):i}function k(m){var D=m-r,q=m-g,it=e-D;return y?JP(it,o-q):it}function P(m){var D=m-r,q=m-g;return r===void 0||D>=e||D<0||y&&q>=o}function R(){var m=_e();if(P(m))return L(m);d=setTimeout(R,k(m))}function L(m){return d=void 0,j&&n?E(m):(n=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),g=0,n=r=l=d=void 0}function z(){return d===void 0?i:L(_e())}function U(){var m=_e(),D=P(m);if(n=arguments,l=this,r=m,D){if(d===void 0)return V(r);if(y)return d=setTimeout(R,e),E(r)}return d===void 0&&(d=setTimeout(R,e)),i}return U.cancel=_,U.flush=z,U}function xe(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function XP(t){return!!t&&typeof t=="object"}function YP(t){return typeof t=="symbol"||XP(t)&&WP.call(t)==BP}function aa(t){if(typeof t=="number")return t;if(YP(t))return sa;if(xe(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=xe(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(PP,"");var a=qP.test(t);return a||UP.test(t)?HP(t.slice(2),a?2:8):LP.test(t)?sa:+t}function QP(t){console.log(t.target.checked);const e=C(vt,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(n=>{a=a.filter(l=>l.id!=n.id),a.push(n)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const ZP={methods:{set_all_item_selectd:QP}};function tL(t,e,a,n,l,o){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>o.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Ke=x(ZP,[["render",tL]]);const eL={data:()=>({setup:et}),components:{SelectAll:Ke}},sL=t=>(wt("data-v-7e2f598b"),t=t(),kt(),t),aL=sL(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),nL={class:"w-10 text-center"};function oL(t,e,a,n,l,o){const i=b("select-all");return c(),u("tr",null,[aL,s("th",nL,[w(i)]),(c(!0),u(S,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:I(r==0?"w-10":"")},p(d),3))),128))])}const lL=x(eL,[["render",oL],["__scopeId","data-v-7e2f598b"]]);function iL(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(n=>{n!==e&&n.classList.remove("active")}),e&&e.classList.toggle("active")}}const rL={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:et})},dL=s("i",{class:"fa fa-eye text-secondary"},null,-1);function cL(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[dL,f(" Show ")]),_:1},8,["to"])}const _L=x(rL,[["render",cL]]),uL={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:et})},pL=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function fL(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[pL,f(" Edit ")]),_:1},8,["to"])}const mL=x(uL,[["render",fL]]),hL={props:{item:{slug:""}},methods:{...H(vt,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var n,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}}}},gL=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),vL=s("i",{class:"fa fa-eye text-warning"},null,-1);function bL(t,e,a,n,l,o){return c(),u(S,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[gL,f(" Inactive ")])):A("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[vL,f(" Active ")])):A("",!0)],64)}const yL=x(hL,[["render",bL]]),$L={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(vt,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}}}},wL=s("i",{class:"fa fa-ban text-warning"},null,-1),kL=s("i",{class:"fa fa-ban text-warning"},null,-1);function xL(t,e,a,n,l,o){return c(),u(S,null,[a.item.deleted_at?A("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=h(i=>o.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[wL,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=h(i=>o.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[kL,f(" Restore data ")])):A("",!0)],64)}const CL=x($L,[["render",xL]]),SL={props:{item:{slug:""}},methods:{...H(vt,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},DL=s("i",{class:"fa fa-trash text-danger"},null,-1);function EL(t,e,a,n,l,o){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=h((...i)=>o.destroy_data&&o.destroy_data(...i),["prevent"])),class:"border-danger"},[DL,f(" Destroy ")])}const TL=x(SL,[["render",EL]]),AL={props:{item:{type:Object,default:{}}},components:{DetailsBtn:_L,Edit:mL,StatusButton:yL,Destroy:TL,DeleteRestore:CL},methods:{active_row:iL}},RL={class:"table_action_btns"};function FL(t,e,a,n,l,o){const i=b("details-btn"),d=b("edit"),r=b("status-button"),g=b("delete-restore"),v=b("destroy");return c(),u(S,null,[s("span",{onClick:e[0]||(e[0]=h(y=>o.active_row(y),["prevent"])),class:"icon"}),s("div",RL,[s("ul",null,[s("li",null,[w(i,{item:a.item},null,8,["item"])]),s("li",null,[w(d,{item:a.item},null,8,["item"])]),s("li",null,[w(r,{item:a.item},null,8,["item"])]),s("li",null,[w(g,{item:a.item},null,8,["item"])]),s("li",null,[w(v,{item:a.item},null,8,["item"])]),St(t.$slots,"default")])])],64)}const Ja=x(AL,[["render",FL]]);function jL(t,e){const a=C(vt,["selected"]);let n=a.selected.get();e.target.checked?n.push(t):n=n.filter(i=>i.id!=t.id),a.selected.set(n);let o=document.querySelector(".select_all_checkbox");o&&(o.checked=!1)}const IL={props:["data"],created:function(){},methods:{set_item_selectd:jL},computed:{...B(vt,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},OL=["checked"];function BL(t,e,a,n,l,o){return c(),u("input",{onChange:e[0]||(e[0]=i=>o.set_item_selectd(a.data,i)),checked:o.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,OL)}const Ga=x(IL,[["render",BL]]);const PL={props:["data"],data:()=>({setup:et}),components:{SelectAll:Ke,TableRowAction:Ja,SelectSingle:Ga},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t:t}}},LL={key:0},qL={key:1,class:"text-wrap max-w-120"};function UL(t,e,a,n,l,o){const i=b("table-row-action"),d=b("select-single");return c(!0),u(S,null,F(a.data,(r,g)=>(c(),u("tr",{key:r.id,class:I(`table_rows table_row_${r.id}`)},[s("td",null,[w(i,{item:r},null,8,["item"])]),s("td",null,[w(d,{data:r},null,8,["data"])]),(c(!0),u(S,null,F(t.setup.table_row_data,(v,y)=>(c(),u(S,{key:y},[v=="id"?(c(),u("td",LL,p(g+1),1)):(c(),u("td",qL,p(o.trim_content(r[v],v)),1))],64))),128))],2))),128)}const HL=x(PL,[["render",UL],["__scopeId","data-v-15777bf5"]]),NL={components:{TableHead:lL,TableBody:HL},data:()=>({setup:et,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:EP,export_selected_csv:FP,export_demo_csv:IP,...H(vt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var n,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}},softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.destroy();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,n=new Set(this.selected);a?n.add(t):n.delete(t),this.selected=[...n]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let n=this.selected;n=n.map(o=>o.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,n);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:GP(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...C(vt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(n=>this.selected.some(l=>l.id===n.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},VL={class:"row"},ML={class:"col-sm-12"},zL={class:"card"},WL={class:"card-header"},KL={class:"row align-items-center"},JL={class:"col-12 col-md-3 mb-2 mb-md-0"},GL={class:"text-capitalize mb-0"},XL={class:"col-12 col-md-6 mb-2 mb-md-0"},YL={class:"col-12 col-md-3 text-md-right text-sm-left"},QL=s("i",{class:"fa fa-gear mx-2"},null,-1),ZL={class:"card-body"},tq={class:"table-responsive table_responsive card_body_fixed_height"},eq={class:"table table-hover text-center table-bordered"},sq={key:0},aq={class:"mx-3"},nq={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},oq={class:"pagination my-2",style:{"font-size":"11px"}},lq=["onClick","href","innerHTML"],iq={class:"d-flex",style:{gap:"5px"}},rq=s("span",null,null,-1),dq=s("span",null,"-",-1),cq=s("span",null,"of",-1),_q={class:"d-flex",style:{gap:"5px"}},uq=s("span",null,null,-1),pq=s("span",null," Limit ",-1),fq=nt('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),mq=[fq],hq={class:"card-footer py-2"},gq={class:"d-flex flex-wrap align-items-center"},vq={class:"mr-2 mb-2"},bq=s("i",{class:"fa fa-edit mr-2"},null,-1),yq={class:"mr-2 mb-2"},$q=s("i",{class:"fa fa-print mr-2"},null,-1),wq={key:0,class:"mr-2 mb-2"},kq=s("i",{class:"fa fa-sign-out mr-2"},null,-1),xq={class:"mr-2 mb-2"},Cq=s("i",{class:"fa fa-download mr-2"},null,-1),Sq={class:"mr-2 mb-2"},Dq=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),Eq={class:"mr-2 mb-2"},Tq=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),Aq={class:"mr-2 mb-2"},Rq=s("i",{class:"fa fa-trash mr-2"},null,-1),Fq={key:1,class:"mr-2 mb-2"},jq=nt('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),Iq=[jq],Oq=nt('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),Bq={class:"off_canvas_body"},Pq={class:"header"},Lq=s("h3",{class:"heading_text"},"Filter",-1),qq=s("span",{class:"fa fa-close border p-2"},null,-1),Uq=[qq],Hq={class:"data_content"},Nq={class:"filter_item"},Vq=s("label",{for:"start_date"},"Start Date",-1),Mq={for:"start_date",class:"text-capitalize d-block date_custom_control"},zq={class:"filter_item"},Wq=s("label",{for:"end_date"},"End Date",-1),Kq={for:"end_date",class:"text-capitalize d-block date_custom_control"},Jq={class:"filter_item"},Gq=s("label",{for:"sort_by_col"},"Sort By Col",-1),Xq={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},Yq={class:"filter_item"},Qq=s("label",{for:"sort_by_col"},"Sort Type",-1),Zq={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},tU={class:"filter_item"},eU=s("div",{class:"off_canvas_overlay"},null,-1),sU={class:"modal-dialog modal-dialog-centered"},aU={class:"modal-content border-primary"},nU={class:"modal-header bg-primary"},oU={class:"modal-title text-white"},lU=s("span",{"aria-hidden":"true"},"",-1),iU=[lU],rU={class:"modal-body"},dU=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),cU=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),_U={class:"modal-footer"},uU=s("i",{class:"fa fa-times"},null,-1),pU=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function fU(t,e,a,n,l,o){var g,v,y,j,E,V,k,P,R,L;const i=b("table-head"),d=b("table-body"),r=b("router-link");return c(),u("div",null,[s("div",VL,[s("div",ML,[s("div",zL,[s("div",WL,[s("div",KL,[s("div",JL,[s("h5",GL,p(t.setup.all_page_title),1)]),s("div",XL,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>o.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",YL,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[QL,f("Filter ")])])])]),s("div",ZL,[s("div",tq,[s("table",eq,[s("thead",null,[w(i)]),(v=(g=t.all)==null?void 0:g.data)!=null&&v.length?(c(),u("tbody",sq,[w(d,{data:(y=t.all)==null?void 0:y.data},null,8,["data"])])):A("",!0)])])]),s("div",aq,[s("nav",nq,[s("ul",oq,[(c(!0),u(S,null,F((j=t.all)==null?void 0:j.links,(_,z)=>{var U,m,D;return c(),u("li",{key:z,class:I(["page-item",{active:_.active}])},[s("a",{class:I(["page-link",((U=t.all)==null?void 0:U.current_page)==((m=t.all)==null?void 0:m.last_page)&&((D=t.all)==null?void 0:D.links.length)-1==z?"disabled":""]),onClick:h(q=>o.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,lq)],2)}),128))]),s("div",iq,[rq,s("span",null,p((E=t.all)==null?void 0:E.from),1),dq,s("span",null,p((V=t.all)==null?void 0:V.to),1),cq,s("span",null,p((k=t.all)==null?void 0:k.total),1)]),s("div",_q,[uq,pq,N(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>o.set_per_page_limit&&o.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},mq,544),[[ot,t.paginate]])])])]),s("div",hq,[s("div",gq,[s("div",vq,[w(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:O(()=>[bq,f(" Create ")]),_:1},8,["to"])]),s("div",yq,[s("a",{href:"",onClick:e[4]||(e[4]=h(()=>o.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[$q,f(" Export All ")])]),(P=this.selected)!=null&&P.length?(c(),u("div",wq,[s("a",{href:"",onClick:e[5]||(e[5]=h(_=>o.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[kq,f(" Export ("+p((R=this.selected)==null?void 0:R.length)+") ",1)])])):A("",!0),s("div",xq,[s("a",{href:"",onClick:e[6]||(e[6]=h(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[Cq,f(" Import ")])]),s("div",Sq,[s("a",{href:"",onClick:e[7]||(e[7]=h(_=>o.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[Dq,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",Eq,[s("a",{href:"",onClick:e[8]||(e[8]=h(_=>o.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[Tq,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",Aq,[s("a",{href:"",onClick:e[9]||(e[9]=h(_=>o.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[Rq,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(L=this.selected)!=null&&L.length?(c(),u("div",Fq,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>o.bulkActions&&o.bulkActions(..._))},Iq,32)])):A("",!0)])])])])]),Oq,s("div",{class:I(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",Bq,[s("div",Pq,[Lq,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},Uq)]),s("div",Hq,[s("div",Nq,[Vq,s("label",Mq,[N(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[rt,t.start_date]])])]),s("div",zq,[Wq,s("label",Kq,[N(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[rt,t.end_date]])])]),s("div",Jq,[Gq,s("label",Xq,[N(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(S,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[ot,t.sort_by_col]])])]),s("div",Yq,[Qq,s("label",Zq,[N(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(S,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[ot,t.sort_type]])])]),s("div",tU,[s("button",{onClick:e[16]||(e[16]=h(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),eU],2),s("div",{class:I(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",sU,[s("form",{onSubmit:e[20]||(e[20]=h((..._)=>o.FileUploadHandler&&o.FileUploadHandler(..._),["prevent"]))},[s("div",aU,[s("div",nU,[s("h5",oU," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},iU)]),s("div",rU,[dU,cU,s("a",{href:"",onClick:e[18]||(e[18]=h((..._)=>o.export_demo_csv&&o.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",_U,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[uU,f(" Close ")]),pU])])],32)])],2)])}const mU=x(NL,[["render",fU]]),hU=[{name:"title",label:"Enter your title",type:"text",value:""},{name:"description",label:"Enter your description",type:"text",value:""},{name:"suppliyer_id",label:"Enter your suppliyer id",type:"number",value:""},{name:"product_category_id",label:"Enter your product category id",type:"number",value:""},{name:"product_sub_category_id",label:"Enter your product sub category id",type:"number",value:""}],gU={data:()=>({setup:et,form_fields:hU,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t)},methods:{...H(vt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(n=>{e.name==n[0]&&(this.form_fields[a].value=n[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}}},computed:{...B(vt,{item:"item"})}},vU={class:"card"},bU={class:"card-header d-flex justify-content-between"},yU={class:"text-capitalize"},$U={class:"card-body card_body_fixed_height"},wU={class:"row"},kU=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function xU(t,e,a,n,l,o){const i=b("router-link"),d=b("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=h((...r)=>o.submitHandler&&o.submitHandler(...r),["prevent"]))},[s("div",vU,[s("div",bU,[s("h5",yU,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),M(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):A("",!0),w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",$U,[s("div",wU,[(c(!0),u(S,null,F(t.form_fields,(r,g)=>(c(),M(d,{key:g,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),kU])],32)])}const na=x(gU,[["render",xU]]);const CU={props:["item"],data:()=>({setup:et}),components:{SelectAll:Ke,TableRowAction:Ja,SelectSingle:Ga},methods:{trim_content(t,e=null){return t}}},SU=t=>(wt("data-v-e1597ef0"),t=t(),kt(),t),DU=SU(()=>s("th",{class:"text-center"},":",-1)),EU={class:"text-trim"};function TU(t,e,a,n,l,o){return c(!0),u(S,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),DU,s("th",EU,p(o.trim_content(a.item[i],i)),1)]))),128)}const AU=x(CU,[["render",TU],["__scopeId","data-v-e1597ef0"]]),RU={components:{DataDetialsTableBody:AU},data:()=>({setup:et}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(vt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...C(vt,{item:"item"})}},FU={class:"card"},jU={class:"card-header d-flex justify-content-between"},IU={class:"text-capitalize"},OU={class:"card-body card_body_fixed_height"},BU={class:"row"},PU={class:"col-lg-8"},LU={class:"table quick_modal_table table-bordered"},qU={class:"card-footer"},UU=s("i",{class:"fa fa-angle-left"},null,-1),HU=s("i",{class:"fa fa-angle-right"},null,-1);function NU(t,e,a,n,l,o){const i=b("router-link"),d=b("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=h((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",FU,[s("div",jU,[s("h5",IU,p(t.setup.details_page_title),1),s("div",null,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",OU,[s("div",BU,[s("div",PU,[s("table",LU,[s("tbody",null,[w(d,{item:t.item},null,8,["item"])])])])])]),s("div",qU,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(r=>o.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[UU,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):A("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(r=>o.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),HU])):A("",!0)])])],32)])}const VU=x(RU,[["render",NU]]),MU={};function zU(t,e,a,n,l,o){const i=b("router-view");return c(),M(i)}const WU=x(MU,[["render",zU]]);let Yt=et.route_prefix,KU=et.route_path;const JU={path:KU,component:WU,children:[{path:"all",name:"All"+Yt,component:mU},{path:"create",name:"Create"+Yt,component:na},{path:"details/:id",name:"Details"+Yt,component:VU},{path:"edit/:id",name:"Edit"+Yt,component:na}]},Lt="ProductSubCategory",st={prefix:Lt,permission:["admin","super_admin"],api_host:$t.api_host,api_version:$t.api_version,api_end_point:"product-sub-categories",module_name:"product-sub-category",store_prefix:"product_sub_category",route_prefix:"ProductSubCategory",route_path:"product-sub-category",select_fields:["id","product_category_id","title","parent_id","status","slug","created_at","deleted_at"],sort_by_cols:["id","product_category_id","title","parent_id","status","created_at"],table_header_data:["id","product_category_id","title","parent_id","status","created_at"],table_row_data:["id","product_category_id","title","parent_id","status","created_at"],layout_title:Lt+" Management",page_title:`${Lt} Management`,all_page_title:"All "+Lt,details_page_title:"Details "+Lt,create_page_title:"Create "+Lt,edit_page_title:"Edit "+Lt},GU={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:st.select_fields,sort_by_cols:st.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function oa(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function la(t,e,a){try{const n=await T.get(t);await e.put(t,new Response(JSON.stringify(n.data)));let o=performance.now()-a;return oa({href:t,duration:o,status:n.status}),n}catch(n){console.error(n.response.data);let o=performance.now()-a;throw oa({href:t,duration:o,status:n.response.status,message:n.response.data.message}),new Error(n.response.statusText)}}function XU(t){return t/1024}async function ia(t,e){let a={data:{},status:200},n=0,l=0,o=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),g=await r.keys(),v=g.length;if(v>15)for(let E=0;E<v-15;E++)await r.delete(g[E]);const y=await r.match(t);return y&&e===!1?(a.data=await y.json(),la(t,r,i)):a=await la(t,r,i),n=performance.now(),l=n-i,o=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:XU(o)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:YU,api_version:QU,api_end_point:ZU}=st;let tH=async()=>{let t=C(bt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},n=`${YU}/${QU}/${ZU}`,l=new URL(n),o=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(n=t.url.get(),a=await ia(n,o)):a=await ia(l.href,o),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function eH(t){let e=t.target,a=new FormData(e),n=`${st.api_host}/${st.api_version}/${st.api_end_point}/store`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function sH(t){let e=C(bt,["item"]),a=`${st.api_host}/${st.api_version}/${st.api_end_point}/${t}`;try{let n=await T.get(a);e.item.set(n.data.data)}catch(n){return window.s_alert("something is wrong.","error"),n.response}}async function aH(t){let e=B(bt,["item"]),a=t.target,n=new FormData(a);n.append("id",e.item().id);let l=`${st.api_host}/${st.api_version}/${st.api_end_point}/update/${e.item().slug}`;try{return await T.post(l,n)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function nH(){let t=B(bt,["item"]),e=`${st.api_host}/${st.api_version}/${st.api_end_point}/soft-delete`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function oH(){let t=B(bt,["item"]),e=`${st.api_host}/${st.api_version}/${st.api_end_point}/update-status`;try{return await T.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function lH(){let t=B(bt,["item"]),e=`${st.api_host}/${st.api_version}/${st.api_end_point}/restore`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function iH(){let t=B(bt,["item"]),e=`${st.api_host}/${st.api_version}/${st.api_end_point}/destroy/${t.item().slug}`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function rH(t,e){let a=`${st.api_host}/${st.api_version}/${st.api_end_point}/bulk-action`;try{return await T.post(a,{action:t,ids:e})}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function dH(t){let e=t.target,a=new FormData(e),n=`${st.api_host}/${st.api_version}/${st.api_end_point}/import`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function cH(t={}){let e=bt();e.filter_criteria={...e.filter_criteria,...t}}async function _H(t={}){C(bt,["item"]).item.set(t)}async function uH(t=!0){C(bt,["only_latest_data"]).only_latest_data.set(t)}async function pH(t=1){C(bt,["page"]).page.set(t)}async function fH(t=10){C(bt,["paginate"]).paginate.set(t)}async function mH(t=!0){C(bt,["show_details_canvas"]).show_details_canvas.set(t)}async function hH(t=!0){C(bt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function gH(t="active"){C(bt,["status"]).status.set(t)}async function vH(){C(bt,["selected"]).selected.set([])}const bt=Ct(st.store_prefix,{state:()=>GU,getters:{},actions:{get_all:tH,create:eH,update:aH,details:sH,update_status:oH,soft_delete:nH,restore:lH,destroy:iH,bulk_action:rH,import_data:dH,set_page:pH,set_paginate:fH,set_show_details_canvas:mH,set_item:_H,set_show_filter_canvas:hH,set_filter_criteria:cH,set_status:gH,set_only_latest_data:uH,clear_selected:vH}});var bH=function(){function t(){}return t.prototype.exportFile=function(e,a,n){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([n]);window.navigator.msSaveOrOpenBlob(l,a)}else{var o="\uFEFF",i=encodeURIComponent(n),d="data:text/"+e+";charset=utf-8,"+o+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),yH=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var o in l)l.hasOwnProperty(o)&&(n[o]=l[o])},t(e,a)};return function(e,a){t(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();globalThis&&globalThis.__importDefault;var $H=function(t){yH(e,t);function e(a){var n=t.call(this)||this;return n._FileName="",n._Delimeter=",",n._Columns=[],n._RowData=[],n._FileName=a,n}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,n=[];this._Columns&&this._Columns.length>0&&n.push(this.getRowData(this._Columns)),this._RowData.forEach(function(o){n.push(a.getRowData(o))});var l=n.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(bH);const Je=$H;let wH=st.store_prefix;async function kH(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${st.api_host}/${st.api_version}/${st.api_end_point}`);a.searchParams.set("paginate",10);const n=["deleted_at","created_at","updated_at"];let l,o=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await T.get(a.href);if(i===1){e=d.data.data.last_page;const v=xH(d.data.data.data[0],n);l=new Je(`${wH}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>CH(v,n));o=o.concat(r),console.log(`Accumulated ${o.length} rows so far`);const g=Math.round(100*i/e);window.update_loader(g)}l.addRows(o),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function xH(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function CH(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let SH=st.store_prefix;function DH(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(o=>!e.includes(o)),n=t.map(o=>a.map(i=>o[i]));new Je(`${SH}_list.csv`).setColumns(a).addRows(n).exportFile(),C(bt,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let EH=st.store_prefix;function TH(){const t=st.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const n=[Array(a.length).fill("-")];new Je(`${EH}_demo_list.csv`).setColumns(a).addRows(n).exportFile()}var AH="Expected a function",ra=0/0,RH="[object Symbol]",FH=/^\s+|\s+$/g,jH=/^[-+]0x[0-9a-f]+$/i,IH=/^0b[01]+$/i,OH=/^0o[0-7]+$/i,BH=parseInt,PH=typeof global=="object"&&global&&global.Object===Object&&global,LH=typeof self=="object"&&self&&self.Object===Object&&self,qH=PH||LH||Function("return this")(),UH=Object.prototype,HH=UH.toString,NH=Math.max,VH=Math.min,ue=function(){return qH.Date.now()};function MH(t,e,a){var n,l,o,i,d,r,g=0,v=!1,y=!1,j=!0;if(typeof t!="function")throw new TypeError(AH);e=da(e)||0,Ce(a)&&(v=!!a.leading,y="maxWait"in a,o=y?NH(da(a.maxWait)||0,e):o,j="trailing"in a?!!a.trailing:j);function E(m){var D=n,q=l;return n=l=void 0,g=m,i=t.apply(q,D),i}function V(m){return g=m,d=setTimeout(R,e),v?E(m):i}function k(m){var D=m-r,q=m-g,it=e-D;return y?VH(it,o-q):it}function P(m){var D=m-r,q=m-g;return r===void 0||D>=e||D<0||y&&q>=o}function R(){var m=ue();if(P(m))return L(m);d=setTimeout(R,k(m))}function L(m){return d=void 0,j&&n?E(m):(n=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),g=0,n=r=l=d=void 0}function z(){return d===void 0?i:L(ue())}function U(){var m=ue(),D=P(m);if(n=arguments,l=this,r=m,D){if(d===void 0)return V(r);if(y)return d=setTimeout(R,e),E(r)}return d===void 0&&(d=setTimeout(R,e)),i}return U.cancel=_,U.flush=z,U}function Ce(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function zH(t){return!!t&&typeof t=="object"}function WH(t){return typeof t=="symbol"||zH(t)&&HH.call(t)==RH}function da(t){if(typeof t=="number")return t;if(WH(t))return ra;if(Ce(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ce(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(FH,"");var a=IH.test(t);return a||OH.test(t)?BH(t.slice(2),a?2:8):jH.test(t)?ra:+t}function KH(t){console.log(t.target.checked);const e=C(bt,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(n=>{a=a.filter(l=>l.id!=n.id),a.push(n)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const JH={methods:{set_all_item_selectd:KH}};function GH(t,e,a,n,l,o){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>o.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Ge=x(JH,[["render",GH]]);const XH={data:()=>({setup:st}),components:{SelectAll:Ge}},YH=t=>(wt("data-v-c4a66ef4"),t=t(),kt(),t),QH=YH(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),ZH={class:"w-10 text-center"};function tN(t,e,a,n,l,o){const i=b("select-all");return c(),u("tr",null,[QH,s("th",ZH,[w(i)]),(c(!0),u(S,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:I(r==0?"w-10":"")},p(d),3))),128))])}const eN=x(XH,[["render",tN],["__scopeId","data-v-c4a66ef4"]]);function sN(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(n=>{n!==e&&n.classList.remove("active")}),e&&e.classList.toggle("active")}}const aN={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:st})},nN=s("i",{class:"fa fa-eye text-secondary"},null,-1);function oN(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[nN,f(" Show ")]),_:1},8,["to"])}const lN=x(aN,[["render",oN]]),iN={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:st})},rN=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function dN(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[rN,f(" Edit ")]),_:1},8,["to"])}const cN=x(iN,[["render",dN]]),_N={props:{item:{slug:""}},methods:{...H(bt,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var n,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}}}},uN=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),pN=s("i",{class:"fa fa-eye text-warning"},null,-1);function fN(t,e,a,n,l,o){return c(),u(S,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[uN,f(" Inactive ")])):A("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[pN,f(" Active ")])):A("",!0)],64)}const mN=x(_N,[["render",fN]]),hN={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(bt,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}}}},gN=s("i",{class:"fa fa-ban text-warning"},null,-1),vN=s("i",{class:"fa fa-ban text-warning"},null,-1);function bN(t,e,a,n,l,o){return c(),u(S,null,[a.item.deleted_at?A("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=h(i=>o.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[gN,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=h(i=>o.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[vN,f(" Restore data ")])):A("",!0)],64)}const yN=x(hN,[["render",bN]]),$N={props:{item:{slug:""}},methods:{...H(bt,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},wN=s("i",{class:"fa fa-trash text-danger"},null,-1);function kN(t,e,a,n,l,o){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=h((...i)=>o.destroy_data&&o.destroy_data(...i),["prevent"])),class:"border-danger"},[wN,f(" Destroy ")])}const xN=x($N,[["render",kN]]),CN={props:{item:{type:Object,default:{}}},components:{DetailsBtn:lN,Edit:cN,StatusButton:mN,Destroy:xN,DeleteRestore:yN},methods:{active_row:sN}},SN={class:"table_action_btns"};function DN(t,e,a,n,l,o){const i=b("details-btn"),d=b("edit"),r=b("status-button"),g=b("delete-restore"),v=b("destroy");return c(),u(S,null,[s("span",{onClick:e[0]||(e[0]=h(y=>o.active_row(y),["prevent"])),class:"icon"}),s("div",SN,[s("ul",null,[s("li",null,[w(i,{item:a.item},null,8,["item"])]),s("li",null,[w(d,{item:a.item},null,8,["item"])]),s("li",null,[w(r,{item:a.item},null,8,["item"])]),s("li",null,[w(g,{item:a.item},null,8,["item"])]),s("li",null,[w(v,{item:a.item},null,8,["item"])]),St(t.$slots,"default")])])],64)}const Xa=x(CN,[["render",DN]]);function EN(t,e){const a=C(bt,["selected"]);let n=a.selected.get();e.target.checked?n.push(t):n=n.filter(i=>i.id!=t.id),a.selected.set(n);let o=document.querySelector(".select_all_checkbox");o&&(o.checked=!1)}const TN={props:["data"],created:function(){},methods:{set_item_selectd:EN},computed:{...B(bt,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},AN=["checked"];function RN(t,e,a,n,l,o){return c(),u("input",{onChange:e[0]||(e[0]=i=>o.set_item_selectd(a.data,i)),checked:o.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,AN)}const Ya=x(TN,[["render",RN]]);const FN={props:["data"],data:()=>({setup:st}),components:{SelectAll:Ge,TableRowAction:Xa,SelectSingle:Ya},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t:t}}},jN={key:0},IN={key:1,class:"text-wrap max-w-120"};function ON(t,e,a,n,l,o){const i=b("table-row-action"),d=b("select-single");return c(!0),u(S,null,F(a.data,(r,g)=>(c(),u("tr",{key:r.id,class:I(`table_rows table_row_${r.id}`)},[s("td",null,[w(i,{item:r},null,8,["item"])]),s("td",null,[w(d,{data:r},null,8,["data"])]),(c(!0),u(S,null,F(t.setup.table_row_data,(v,y)=>(c(),u(S,{key:y},[v=="id"?(c(),u("td",jN,p(g+1),1)):(c(),u("td",IN,p(o.trim_content(r[v],v)),1))],64))),128))],2))),128)}const BN=x(FN,[["render",ON],["__scopeId","data-v-e0773293"]]),PN={components:{TableHead:eN,TableBody:BN},data:()=>({setup:st,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:kH,export_selected_csv:DH,export_demo_csv:TH,...H(bt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var n,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}},softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.destroy();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,n=new Set(this.selected);a?n.add(t):n.delete(t),this.selected=[...n]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let n=this.selected;n=n.map(o=>o.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,n);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:MH(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...C(bt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(n=>this.selected.some(l=>l.id===n.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},LN={class:"row"},qN={class:"col-sm-12"},UN={class:"card"},HN={class:"card-header"},NN={class:"row align-items-center"},VN={class:"col-12 col-md-3 mb-2 mb-md-0"},MN={class:"text-capitalize mb-0"},zN={class:"col-12 col-md-6 mb-2 mb-md-0"},WN={class:"col-12 col-md-3 text-md-right text-sm-left"},KN=s("i",{class:"fa fa-gear mx-2"},null,-1),JN={class:"card-body"},GN={class:"table-responsive table_responsive card_body_fixed_height"},XN={class:"table table-hover text-center table-bordered"},YN={key:0},QN={class:"mx-3"},ZN={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},tV={class:"pagination my-2",style:{"font-size":"11px"}},eV=["onClick","href","innerHTML"],sV={class:"d-flex",style:{gap:"5px"}},aV=s("span",null,null,-1),nV=s("span",null,"-",-1),oV=s("span",null,"of",-1),lV={class:"d-flex",style:{gap:"5px"}},iV=s("span",null,null,-1),rV=s("span",null," Limit ",-1),dV=nt('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),cV=[dV],_V={class:"card-footer py-2"},uV={class:"d-flex flex-wrap align-items-center"},pV={class:"mr-2 mb-2"},fV=s("i",{class:"fa fa-edit mr-2"},null,-1),mV={class:"mr-2 mb-2"},hV=s("i",{class:"fa fa-print mr-2"},null,-1),gV={key:0,class:"mr-2 mb-2"},vV=s("i",{class:"fa fa-sign-out mr-2"},null,-1),bV={class:"mr-2 mb-2"},yV=s("i",{class:"fa fa-download mr-2"},null,-1),$V={class:"mr-2 mb-2"},wV=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),kV={class:"mr-2 mb-2"},xV=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),CV={class:"mr-2 mb-2"},SV=s("i",{class:"fa fa-trash mr-2"},null,-1),DV={key:1,class:"mr-2 mb-2"},EV=nt('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),TV=[EV],AV=nt('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),RV={class:"off_canvas_body"},FV={class:"header"},jV=s("h3",{class:"heading_text"},"Filter",-1),IV=s("span",{class:"fa fa-close border p-2"},null,-1),OV=[IV],BV={class:"data_content"},PV={class:"filter_item"},LV=s("label",{for:"start_date"},"Start Date",-1),qV={for:"start_date",class:"text-capitalize d-block date_custom_control"},UV={class:"filter_item"},HV=s("label",{for:"end_date"},"End Date",-1),NV={for:"end_date",class:"text-capitalize d-block date_custom_control"},VV={class:"filter_item"},MV=s("label",{for:"sort_by_col"},"Sort By Col",-1),zV={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},WV={class:"filter_item"},KV=s("label",{for:"sort_by_col"},"Sort Type",-1),JV={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},GV={class:"filter_item"},XV=s("div",{class:"off_canvas_overlay"},null,-1),YV={class:"modal-dialog modal-dialog-centered"},QV={class:"modal-content border-primary"},ZV={class:"modal-header bg-primary"},tM={class:"modal-title text-white"},eM=s("span",{"aria-hidden":"true"},"",-1),sM=[eM],aM={class:"modal-body"},nM=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),oM=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),lM={class:"modal-footer"},iM=s("i",{class:"fa fa-times"},null,-1),rM=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function dM(t,e,a,n,l,o){var g,v,y,j,E,V,k,P,R,L;const i=b("table-head"),d=b("table-body"),r=b("router-link");return c(),u("div",null,[s("div",LN,[s("div",qN,[s("div",UN,[s("div",HN,[s("div",NN,[s("div",VN,[s("h5",MN,p(t.setup.all_page_title),1)]),s("div",zN,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>o.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",WN,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[KN,f("Filter ")])])])]),s("div",JN,[s("div",GN,[s("table",XN,[s("thead",null,[w(i)]),(v=(g=t.all)==null?void 0:g.data)!=null&&v.length?(c(),u("tbody",YN,[w(d,{data:(y=t.all)==null?void 0:y.data},null,8,["data"])])):A("",!0)])])]),s("div",QN,[s("nav",ZN,[s("ul",tV,[(c(!0),u(S,null,F((j=t.all)==null?void 0:j.links,(_,z)=>{var U,m,D;return c(),u("li",{key:z,class:I(["page-item",{active:_.active}])},[s("a",{class:I(["page-link",((U=t.all)==null?void 0:U.current_page)==((m=t.all)==null?void 0:m.last_page)&&((D=t.all)==null?void 0:D.links.length)-1==z?"disabled":""]),onClick:h(q=>o.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,eV)],2)}),128))]),s("div",sV,[aV,s("span",null,p((E=t.all)==null?void 0:E.from),1),nV,s("span",null,p((V=t.all)==null?void 0:V.to),1),oV,s("span",null,p((k=t.all)==null?void 0:k.total),1)]),s("div",lV,[iV,rV,N(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>o.set_per_page_limit&&o.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},cV,544),[[ot,t.paginate]])])])]),s("div",_V,[s("div",uV,[s("div",pV,[w(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:O(()=>[fV,f(" Create ")]),_:1},8,["to"])]),s("div",mV,[s("a",{href:"",onClick:e[4]||(e[4]=h(()=>o.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[hV,f(" Export All ")])]),(P=this.selected)!=null&&P.length?(c(),u("div",gV,[s("a",{href:"",onClick:e[5]||(e[5]=h(_=>o.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[vV,f(" Export ("+p((R=this.selected)==null?void 0:R.length)+") ",1)])])):A("",!0),s("div",bV,[s("a",{href:"",onClick:e[6]||(e[6]=h(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[yV,f(" Import ")])]),s("div",$V,[s("a",{href:"",onClick:e[7]||(e[7]=h(_=>o.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[wV,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",kV,[s("a",{href:"",onClick:e[8]||(e[8]=h(_=>o.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[xV,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",CV,[s("a",{href:"",onClick:e[9]||(e[9]=h(_=>o.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[SV,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(L=this.selected)!=null&&L.length?(c(),u("div",DV,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>o.bulkActions&&o.bulkActions(..._))},TV,32)])):A("",!0)])])])])]),AV,s("div",{class:I(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",RV,[s("div",FV,[jV,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},OV)]),s("div",BV,[s("div",PV,[LV,s("label",qV,[N(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[rt,t.start_date]])])]),s("div",UV,[HV,s("label",NV,[N(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[rt,t.end_date]])])]),s("div",VV,[MV,s("label",zV,[N(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(S,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[ot,t.sort_by_col]])])]),s("div",WV,[KV,s("label",JV,[N(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(S,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[ot,t.sort_type]])])]),s("div",GV,[s("button",{onClick:e[16]||(e[16]=h(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),XV],2),s("div",{class:I(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",YV,[s("form",{onSubmit:e[20]||(e[20]=h((..._)=>o.FileUploadHandler&&o.FileUploadHandler(..._),["prevent"]))},[s("div",QV,[s("div",ZV,[s("h5",tM," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},sM)]),s("div",aM,[nM,oM,s("a",{href:"",onClick:e[18]||(e[18]=h((..._)=>o.export_demo_csv&&o.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",lM,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[iM,f(" Close ")]),rM])])],32)])],2)])}const cM=x(PN,[["render",dM]]),_M=[{name:"product_category_id",label:"Enter your product category id",type:"number",value:""},{name:"title",label:"Enter your title",type:"text",value:""},{name:"parent_id",label:"Enter your parent id",type:"number",value:""}],uM={data:()=>({setup:st,form_fields:_M,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t)},methods:{...H(bt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(n=>{e.name==n[0]&&(this.form_fields[a].value=n[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}}},computed:{...B(bt,{item:"item"})}},pM={class:"card"},fM={class:"card-header d-flex justify-content-between"},mM={class:"text-capitalize"},hM={class:"card-body card_body_fixed_height"},gM={class:"row"},vM=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function bM(t,e,a,n,l,o){const i=b("router-link"),d=b("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=h((...r)=>o.submitHandler&&o.submitHandler(...r),["prevent"]))},[s("div",pM,[s("div",fM,[s("h5",mM,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),M(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):A("",!0),w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",hM,[s("div",gM,[(c(!0),u(S,null,F(t.form_fields,(r,g)=>(c(),M(d,{key:g,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),vM])],32)])}const ca=x(uM,[["render",bM]]);const yM={props:["item"],data:()=>({setup:st}),components:{SelectAll:Ge,TableRowAction:Xa,SelectSingle:Ya},methods:{trim_content(t,e=null){return t}}},$M=t=>(wt("data-v-cb5b58dc"),t=t(),kt(),t),wM=$M(()=>s("th",{class:"text-center"},":",-1)),kM={class:"text-trim"};function xM(t,e,a,n,l,o){return c(!0),u(S,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),wM,s("th",kM,p(o.trim_content(a.item[i],i)),1)]))),128)}const CM=x(yM,[["render",xM],["__scopeId","data-v-cb5b58dc"]]),SM={components:{DataDetialsTableBody:CM},data:()=>({setup:st}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(bt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...C(bt,{item:"item"})}},DM={class:"card"},EM={class:"card-header d-flex justify-content-between"},TM={class:"text-capitalize"},AM={class:"card-body card_body_fixed_height"},RM={class:"row"},FM={class:"col-lg-8"},jM={class:"table quick_modal_table table-bordered"},IM={class:"card-footer"},OM=s("i",{class:"fa fa-angle-left"},null,-1),BM=s("i",{class:"fa fa-angle-right"},null,-1);function PM(t,e,a,n,l,o){const i=b("router-link"),d=b("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=h((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",DM,[s("div",EM,[s("h5",TM,p(t.setup.details_page_title),1),s("div",null,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",AM,[s("div",RM,[s("div",FM,[s("table",jM,[s("tbody",null,[w(d,{item:t.item},null,8,["item"])])])])])]),s("div",IM,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(r=>o.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[OM,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):A("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(r=>o.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),BM])):A("",!0)])])],32)])}const LM=x(SM,[["render",PM]]),qM={};function UM(t,e,a,n,l,o){const i=b("router-view");return c(),M(i)}const HM=x(qM,[["render",UM]]);let Qt=st.route_prefix,NM=st.route_path;const VM={path:NM,component:HM,children:[{path:"all",name:"All"+Qt,component:cM},{path:"create",name:"Create"+Qt,component:ca},{path:"details/:id",name:"Details"+Qt,component:LM},{path:"edit/:id",name:"Edit"+Qt,component:ca}]},qt="ProductCategory",at={prefix:qt,permission:["admin","super_admin"],api_host:$t.api_host,api_version:$t.api_version,api_end_point:"product-categories",module_name:"product-category",store_prefix:"product_category",route_prefix:"ProductCategory",route_path:"product-category",select_fields:["id","title","parent_id","status","slug","created_at","deleted_at"],sort_by_cols:["id","title","parent_id","status","created_at"],table_header_data:["id","title","parent_id","status","created_at"],table_row_data:["id","title","parent_id","status","created_at"],layout_title:qt+" Management",page_title:`${qt} Management`,all_page_title:"All "+qt,details_page_title:"Details "+qt,create_page_title:"Create "+qt,edit_page_title:"Edit "+qt},MM={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:at.select_fields,sort_by_cols:at.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function _a(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function ua(t,e,a){try{const n=await T.get(t);await e.put(t,new Response(JSON.stringify(n.data)));let o=performance.now()-a;return _a({href:t,duration:o,status:n.status}),n}catch(n){console.error(n.response.data);let o=performance.now()-a;throw _a({href:t,duration:o,status:n.response.status,message:n.response.data.message}),new Error(n.response.statusText)}}function zM(t){return t/1024}async function pa(t,e){let a={data:{},status:200},n=0,l=0,o=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),g=await r.keys(),v=g.length;if(v>15)for(let E=0;E<v-15;E++)await r.delete(g[E]);const y=await r.match(t);return y&&e===!1?(a.data=await y.json(),ua(t,r,i)):a=await ua(t,r,i),n=performance.now(),l=n-i,o=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:zM(o)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:WM,api_version:KM,api_end_point:JM}=at;let GM=async()=>{let t=C(yt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},n=`${WM}/${KM}/${JM}`,l=new URL(n),o=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(n=t.url.get(),a=await pa(n,o)):a=await pa(l.href,o),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function XM(t){let e=t.target,a=new FormData(e),n=`${at.api_host}/${at.api_version}/${at.api_end_point}/store`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function YM(t){let e=C(yt,["item"]),a=`${at.api_host}/${at.api_version}/${at.api_end_point}/${t}`;try{let n=await T.get(a);e.item.set(n.data.data)}catch(n){return window.s_alert("something is wrong.","error"),n.response}}async function QM(t){let e=B(yt,["item"]),a=t.target,n=new FormData(a);n.append("id",e.item().id);let l=`${at.api_host}/${at.api_version}/${at.api_end_point}/update/${e.item().slug}`;try{return await T.post(l,n)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function ZM(){let t=B(yt,["item"]),e=`${at.api_host}/${at.api_version}/${at.api_end_point}/soft-delete`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function tz(){let t=B(yt,["item"]),e=`${at.api_host}/${at.api_version}/${at.api_end_point}/update-status`;try{return await T.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function ez(){let t=B(yt,["item"]),e=`${at.api_host}/${at.api_version}/${at.api_end_point}/restore`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function sz(){let t=B(yt,["item"]),e=`${at.api_host}/${at.api_version}/${at.api_end_point}/destroy/${t.item().slug}`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function az(t,e){let a=`${at.api_host}/${at.api_version}/${at.api_end_point}/bulk-action`;try{return await T.post(a,{action:t,ids:e})}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function nz(t){let e=t.target,a=new FormData(e),n=`${at.api_host}/${at.api_version}/${at.api_end_point}/import`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function oz(t={}){let e=yt();e.filter_criteria={...e.filter_criteria,...t}}async function lz(t={}){C(yt,["item"]).item.set(t)}async function iz(t=!0){C(yt,["only_latest_data"]).only_latest_data.set(t)}async function rz(t=1){C(yt,["page"]).page.set(t)}async function dz(t=10){C(yt,["paginate"]).paginate.set(t)}async function cz(t=!0){C(yt,["show_details_canvas"]).show_details_canvas.set(t)}async function _z(t=!0){C(yt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function uz(t="active"){C(yt,["status"]).status.set(t)}async function pz(){C(yt,["selected"]).selected.set([])}const yt=Ct(at.store_prefix,{state:()=>MM,getters:{},actions:{get_all:GM,create:XM,update:QM,details:YM,update_status:tz,soft_delete:ZM,restore:ez,destroy:sz,bulk_action:az,import_data:nz,set_page:rz,set_paginate:dz,set_show_details_canvas:cz,set_item:lz,set_show_filter_canvas:_z,set_filter_criteria:oz,set_status:uz,set_only_latest_data:iz,clear_selected:pz}});var fz=function(){function t(){}return t.prototype.exportFile=function(e,a,n){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([n]);window.navigator.msSaveOrOpenBlob(l,a)}else{var o="\uFEFF",i=encodeURIComponent(n),d="data:text/"+e+";charset=utf-8,"+o+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),mz=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var o in l)l.hasOwnProperty(o)&&(n[o]=l[o])},t(e,a)};return function(e,a){t(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();globalThis&&globalThis.__importDefault;var hz=function(t){mz(e,t);function e(a){var n=t.call(this)||this;return n._FileName="",n._Delimeter=",",n._Columns=[],n._RowData=[],n._FileName=a,n}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,n=[];this._Columns&&this._Columns.length>0&&n.push(this.getRowData(this._Columns)),this._RowData.forEach(function(o){n.push(a.getRowData(o))});var l=n.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(fz);const Xe=hz;let gz=at.store_prefix;async function vz(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${at.api_host}/${at.api_version}/${at.api_end_point}`);a.searchParams.set("paginate",10);const n=["deleted_at","created_at","updated_at"];let l,o=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await T.get(a.href);if(i===1){e=d.data.data.last_page;const v=bz(d.data.data.data[0],n);l=new Xe(`${gz}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>yz(v,n));o=o.concat(r),console.log(`Accumulated ${o.length} rows so far`);const g=Math.round(100*i/e);window.update_loader(g)}l.addRows(o),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function bz(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function yz(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let $z=at.store_prefix;function wz(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(o=>!e.includes(o)),n=t.map(o=>a.map(i=>o[i]));new Xe(`${$z}_list.csv`).setColumns(a).addRows(n).exportFile(),C(yt,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let kz=at.store_prefix;function xz(){const t=at.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const n=[Array(a.length).fill("-")];new Xe(`${kz}_demo_list.csv`).setColumns(a).addRows(n).exportFile()}var Cz="Expected a function",fa=0/0,Sz="[object Symbol]",Dz=/^\s+|\s+$/g,Ez=/^[-+]0x[0-9a-f]+$/i,Tz=/^0b[01]+$/i,Az=/^0o[0-7]+$/i,Rz=parseInt,Fz=typeof global=="object"&&global&&global.Object===Object&&global,jz=typeof self=="object"&&self&&self.Object===Object&&self,Iz=Fz||jz||Function("return this")(),Oz=Object.prototype,Bz=Oz.toString,Pz=Math.max,Lz=Math.min,pe=function(){return Iz.Date.now()};function qz(t,e,a){var n,l,o,i,d,r,g=0,v=!1,y=!1,j=!0;if(typeof t!="function")throw new TypeError(Cz);e=ma(e)||0,Se(a)&&(v=!!a.leading,y="maxWait"in a,o=y?Pz(ma(a.maxWait)||0,e):o,j="trailing"in a?!!a.trailing:j);function E(m){var D=n,q=l;return n=l=void 0,g=m,i=t.apply(q,D),i}function V(m){return g=m,d=setTimeout(R,e),v?E(m):i}function k(m){var D=m-r,q=m-g,it=e-D;return y?Lz(it,o-q):it}function P(m){var D=m-r,q=m-g;return r===void 0||D>=e||D<0||y&&q>=o}function R(){var m=pe();if(P(m))return L(m);d=setTimeout(R,k(m))}function L(m){return d=void 0,j&&n?E(m):(n=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),g=0,n=r=l=d=void 0}function z(){return d===void 0?i:L(pe())}function U(){var m=pe(),D=P(m);if(n=arguments,l=this,r=m,D){if(d===void 0)return V(r);if(y)return d=setTimeout(R,e),E(r)}return d===void 0&&(d=setTimeout(R,e)),i}return U.cancel=_,U.flush=z,U}function Se(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Uz(t){return!!t&&typeof t=="object"}function Hz(t){return typeof t=="symbol"||Uz(t)&&Bz.call(t)==Sz}function ma(t){if(typeof t=="number")return t;if(Hz(t))return fa;if(Se(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Se(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Dz,"");var a=Tz.test(t);return a||Az.test(t)?Rz(t.slice(2),a?2:8):Ez.test(t)?fa:+t}function Nz(t){console.log(t.target.checked);const e=C(yt,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(n=>{a=a.filter(l=>l.id!=n.id),a.push(n)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const Vz={methods:{set_all_item_selectd:Nz}};function Mz(t,e,a,n,l,o){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>o.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Ye=x(Vz,[["render",Mz]]);const zz={data:()=>({setup:at}),components:{SelectAll:Ye}},Wz=t=>(wt("data-v-8df4b667"),t=t(),kt(),t),Kz=Wz(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),Jz={class:"w-10 text-center"};function Gz(t,e,a,n,l,o){const i=b("select-all");return c(),u("tr",null,[Kz,s("th",Jz,[w(i)]),(c(!0),u(S,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:I(r==0?"w-10":"")},p(d),3))),128))])}const Xz=x(zz,[["render",Gz],["__scopeId","data-v-8df4b667"]]);function Yz(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(n=>{n!==e&&n.classList.remove("active")}),e&&e.classList.toggle("active")}}const Qz={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:at})},Zz=s("i",{class:"fa fa-eye text-secondary"},null,-1);function tW(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[Zz,f(" Show ")]),_:1},8,["to"])}const eW=x(Qz,[["render",tW]]),sW={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:at})},aW=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function nW(t,e,a,n,l,o){const i=b("router-link");return c(),M(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:O(()=>[aW,f(" Edit ")]),_:1},8,["to"])}const oW=x(sW,[["render",nW]]),lW={props:{item:{slug:""}},methods:{...H(yt,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var n,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}}}},iW=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),rW=s("i",{class:"fa fa-eye text-warning"},null,-1);function dW(t,e,a,n,l,o){return c(),u(S,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[iW,f(" Inactive ")])):A("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(i=>o.updateStatus(a.item),["prevent"])),class:"border-warning"},[rW,f(" Active ")])):A("",!0)],64)}const cW=x(lW,[["render",dW]]),_W={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(yt,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}}}},uW=s("i",{class:"fa fa-ban text-warning"},null,-1),pW=s("i",{class:"fa fa-ban text-warning"},null,-1);function fW(t,e,a,n,l,o){return c(),u(S,null,[a.item.deleted_at?A("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=h(i=>o.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[uW,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=h(i=>o.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[pW,f(" Restore data ")])):A("",!0)],64)}const mW=x(_W,[["render",fW]]),hW={props:{item:{slug:""}},methods:{...H(yt,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},gW=s("i",{class:"fa fa-trash text-danger"},null,-1);function vW(t,e,a,n,l,o){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=h((...i)=>o.destroy_data&&o.destroy_data(...i),["prevent"])),class:"border-danger"},[gW,f(" Destroy ")])}const bW=x(hW,[["render",vW]]),yW={props:{item:{type:Object,default:{}}},components:{DetailsBtn:eW,Edit:oW,StatusButton:cW,Destroy:bW,DeleteRestore:mW},methods:{active_row:Yz}},$W={class:"table_action_btns"};function wW(t,e,a,n,l,o){const i=b("details-btn"),d=b("edit"),r=b("status-button"),g=b("delete-restore"),v=b("destroy");return c(),u(S,null,[s("span",{onClick:e[0]||(e[0]=h(y=>o.active_row(y),["prevent"])),class:"icon"}),s("div",$W,[s("ul",null,[s("li",null,[w(i,{item:a.item},null,8,["item"])]),s("li",null,[w(d,{item:a.item},null,8,["item"])]),s("li",null,[w(r,{item:a.item},null,8,["item"])]),s("li",null,[w(g,{item:a.item},null,8,["item"])]),s("li",null,[w(v,{item:a.item},null,8,["item"])]),St(t.$slots,"default")])])],64)}const Qa=x(yW,[["render",wW]]);function kW(t,e){const a=C(yt,["selected"]);let n=a.selected.get();e.target.checked?n.push(t):n=n.filter(i=>i.id!=t.id),a.selected.set(n);let o=document.querySelector(".select_all_checkbox");o&&(o.checked=!1)}const xW={props:["data"],created:function(){},methods:{set_item_selectd:kW},computed:{...B(yt,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},CW=["checked"];function SW(t,e,a,n,l,o){return c(),u("input",{onChange:e[0]||(e[0]=i=>o.set_item_selectd(a.data,i)),checked:o.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,CW)}const Za=x(xW,[["render",SW]]);const DW={props:["data"],data:()=>({setup:at}),components:{SelectAll:Ye,TableRowAction:Qa,SelectSingle:Za},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t:t}}},EW={key:0},TW={key:1,class:"text-wrap max-w-120"};function AW(t,e,a,n,l,o){const i=b("table-row-action"),d=b("select-single");return c(!0),u(S,null,F(a.data,(r,g)=>(c(),u("tr",{key:r.id,class:I(`table_rows table_row_${r.id}`)},[s("td",null,[w(i,{item:r},null,8,["item"])]),s("td",null,[w(d,{data:r},null,8,["data"])]),(c(!0),u(S,null,F(t.setup.table_row_data,(v,y)=>(c(),u(S,{key:y},[v=="id"?(c(),u("td",EW,p(g+1),1)):(c(),u("td",TW,p(o.trim_content(r[v],v)),1))],64))),128))],2))),128)}const RW=x(DW,[["render",AW],["__scopeId","data-v-2b9b7fc6"]]),FW={components:{TableHead:Xz,TableBody:RW},data:()=>({setup:at,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:vz,export_selected_csv:wz,export_demo_csv:xz,...H(yt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var n,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}},softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.destroy();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,n=new Set(this.selected);a?n.add(t):n.delete(t),this.selected=[...n]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let n=this.selected;n=n.map(o=>o.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,n);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:qz(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...C(yt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(n=>this.selected.some(l=>l.id===n.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},jW={class:"row"},IW={class:"col-sm-12"},OW={class:"card"},BW={class:"card-header"},PW={class:"row align-items-center"},LW={class:"col-12 col-md-3 mb-2 mb-md-0"},qW={class:"text-capitalize mb-0"},UW={class:"col-12 col-md-6 mb-2 mb-md-0"},HW={class:"col-12 col-md-3 text-md-right text-sm-left"},NW=s("i",{class:"fa fa-gear mx-2"},null,-1),VW={class:"card-body"},MW={class:"table-responsive table_responsive card_body_fixed_height"},zW={class:"table table-hover text-center table-bordered"},WW={key:0},KW={class:"mx-3"},JW={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},GW={class:"pagination my-2",style:{"font-size":"11px"}},XW=["onClick","href","innerHTML"],YW={class:"d-flex",style:{gap:"5px"}},QW=s("span",null,null,-1),ZW=s("span",null,"-",-1),tK=s("span",null,"of",-1),eK={class:"d-flex",style:{gap:"5px"}},sK=s("span",null,null,-1),aK=s("span",null," Limit ",-1),nK=nt('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),oK=[nK],lK={class:"card-footer py-2"},iK={class:"d-flex flex-wrap align-items-center"},rK={class:"mr-2 mb-2"},dK=s("i",{class:"fa fa-edit mr-2"},null,-1),cK={class:"mr-2 mb-2"},_K=s("i",{class:"fa fa-print mr-2"},null,-1),uK={key:0,class:"mr-2 mb-2"},pK=s("i",{class:"fa fa-sign-out mr-2"},null,-1),fK={class:"mr-2 mb-2"},mK=s("i",{class:"fa fa-download mr-2"},null,-1),hK={class:"mr-2 mb-2"},gK=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),vK={class:"mr-2 mb-2"},bK=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),yK={class:"mr-2 mb-2"},$K=s("i",{class:"fa fa-trash mr-2"},null,-1),wK={key:1,class:"mr-2 mb-2"},kK=nt('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),xK=[kK],CK=nt('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),SK={class:"off_canvas_body"},DK={class:"header"},EK=s("h3",{class:"heading_text"},"Filter",-1),TK=s("span",{class:"fa fa-close border p-2"},null,-1),AK=[TK],RK={class:"data_content"},FK={class:"filter_item"},jK=s("label",{for:"start_date"},"Start Date",-1),IK={for:"start_date",class:"text-capitalize d-block date_custom_control"},OK={class:"filter_item"},BK=s("label",{for:"end_date"},"End Date",-1),PK={for:"end_date",class:"text-capitalize d-block date_custom_control"},LK={class:"filter_item"},qK=s("label",{for:"sort_by_col"},"Sort By Col",-1),UK={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},HK={class:"filter_item"},NK=s("label",{for:"sort_by_col"},"Sort Type",-1),VK={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},MK={class:"filter_item"},zK=s("div",{class:"off_canvas_overlay"},null,-1),WK={class:"modal-dialog modal-dialog-centered"},KK={class:"modal-content border-primary"},JK={class:"modal-header bg-primary"},GK={class:"modal-title text-white"},XK=s("span",{"aria-hidden":"true"},"",-1),YK=[XK],QK={class:"modal-body"},ZK=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),tJ=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),eJ={class:"modal-footer"},sJ=s("i",{class:"fa fa-times"},null,-1),aJ=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function nJ(t,e,a,n,l,o){var g,v,y,j,E,V,k,P,R,L;const i=b("table-head"),d=b("table-body"),r=b("router-link");return c(),u("div",null,[s("div",jW,[s("div",IW,[s("div",OW,[s("div",BW,[s("div",PW,[s("div",LW,[s("h5",qW,p(t.setup.all_page_title),1)]),s("div",UW,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>o.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",HW,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[NW,f("Filter ")])])])]),s("div",VW,[s("div",MW,[s("table",zW,[s("thead",null,[w(i)]),(v=(g=t.all)==null?void 0:g.data)!=null&&v.length?(c(),u("tbody",WW,[w(d,{data:(y=t.all)==null?void 0:y.data},null,8,["data"])])):A("",!0)])])]),s("div",KW,[s("nav",JW,[s("ul",GW,[(c(!0),u(S,null,F((j=t.all)==null?void 0:j.links,(_,z)=>{var U,m,D;return c(),u("li",{key:z,class:I(["page-item",{active:_.active}])},[s("a",{class:I(["page-link",((U=t.all)==null?void 0:U.current_page)==((m=t.all)==null?void 0:m.last_page)&&((D=t.all)==null?void 0:D.links.length)-1==z?"disabled":""]),onClick:h(q=>o.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,XW)],2)}),128))]),s("div",YW,[QW,s("span",null,p((E=t.all)==null?void 0:E.from),1),ZW,s("span",null,p((V=t.all)==null?void 0:V.to),1),tK,s("span",null,p((k=t.all)==null?void 0:k.total),1)]),s("div",eK,[sK,aK,N(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>o.set_per_page_limit&&o.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},oK,544),[[ot,t.paginate]])])])]),s("div",lK,[s("div",iK,[s("div",rK,[w(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:O(()=>[dK,f(" Create ")]),_:1},8,["to"])]),s("div",cK,[s("a",{href:"",onClick:e[4]||(e[4]=h(()=>o.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[_K,f(" Export All ")])]),(P=this.selected)!=null&&P.length?(c(),u("div",uK,[s("a",{href:"",onClick:e[5]||(e[5]=h(_=>o.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[pK,f(" Export ("+p((R=this.selected)==null?void 0:R.length)+") ",1)])])):A("",!0),s("div",fK,[s("a",{href:"",onClick:e[6]||(e[6]=h(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[mK,f(" Import ")])]),s("div",hK,[s("a",{href:"",onClick:e[7]||(e[7]=h(_=>o.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[gK,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",vK,[s("a",{href:"",onClick:e[8]||(e[8]=h(_=>o.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[bK,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",yK,[s("a",{href:"",onClick:e[9]||(e[9]=h(_=>o.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[$K,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(L=this.selected)!=null&&L.length?(c(),u("div",wK,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>o.bulkActions&&o.bulkActions(..._))},xK,32)])):A("",!0)])])])])]),CK,s("div",{class:I(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",SK,[s("div",DK,[EK,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},AK)]),s("div",RK,[s("div",FK,[jK,s("label",IK,[N(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[rt,t.start_date]])])]),s("div",OK,[BK,s("label",PK,[N(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[rt,t.end_date]])])]),s("div",LK,[qK,s("label",UK,[N(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(S,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[ot,t.sort_by_col]])])]),s("div",HK,[NK,s("label",VK,[N(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(S,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[ot,t.sort_type]])])]),s("div",MK,[s("button",{onClick:e[16]||(e[16]=h(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),zK],2),s("div",{class:I(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",WK,[s("form",{onSubmit:e[20]||(e[20]=h((..._)=>o.FileUploadHandler&&o.FileUploadHandler(..._),["prevent"]))},[s("div",KK,[s("div",JK,[s("h5",GK," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},YK)]),s("div",QK,[ZK,tJ,s("a",{href:"",onClick:e[18]||(e[18]=h((..._)=>o.export_demo_csv&&o.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",eJ,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[sJ,f(" Close ")]),aJ])])],32)])],2)])}const oJ=x(FW,[["render",nJ]]),lJ=[{name:"title",label:"Enter your title",type:"text",value:""},{name:"parent_id",label:"Enter your parent id",type:"text",value:""}],iJ={data:()=>({setup:at,form_fields:lJ,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t)},methods:{...H(yt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(n=>{e.name==n[0]&&(this.form_fields[a].value=n[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}}},computed:{...B(yt,{item:"item"})}},rJ={class:"card"},dJ={class:"card-header d-flex justify-content-between"},cJ={class:"text-capitalize"},_J={class:"card-body card_body_fixed_height"},uJ={class:"row"},pJ=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function fJ(t,e,a,n,l,o){const i=b("router-link"),d=b("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=h((...r)=>o.submitHandler&&o.submitHandler(...r),["prevent"]))},[s("div",rJ,[s("div",dJ,[s("h5",cJ,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),M(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):A("",!0),w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",_J,[s("div",uJ,[(c(!0),u(S,null,F(t.form_fields,(r,g)=>(c(),M(d,{key:g,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),pJ])],32)])}const ha=x(iJ,[["render",fJ]]);const mJ={props:["item"],data:()=>({setup:at}),components:{SelectAll:Ye,TableRowAction:Qa,SelectSingle:Za},methods:{trim_content(t,e=null){return t}}},hJ=t=>(wt("data-v-651badb2"),t=t(),kt(),t),gJ=hJ(()=>s("th",{class:"text-center"},":",-1)),vJ={class:"text-trim"};function bJ(t,e,a,n,l,o){return c(!0),u(S,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),gJ,s("th",vJ,p(o.trim_content(a.item[i],i)),1)]))),128)}const yJ=x(mJ,[["render",bJ],["__scopeId","data-v-651badb2"]]),$J={components:{DataDetialsTableBody:yJ},data:()=>({setup:at}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(yt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...C(yt,{item:"item"})}},wJ={class:"card"},kJ={class:"card-header d-flex justify-content-between"},xJ={class:"text-capitalize"},CJ={class:"card-body card_body_fixed_height"},SJ={class:"row"},DJ={class:"col-lg-8"},EJ={class:"table quick_modal_table table-bordered"},TJ={class:"card-footer"},AJ=s("i",{class:"fa fa-angle-left"},null,-1),RJ=s("i",{class:"fa fa-angle-right"},null,-1);function FJ(t,e,a,n,l,o){const i=b("router-link"),d=b("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=h((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",wJ,[s("div",kJ,[s("h5",xJ,p(t.setup.details_page_title),1),s("div",null,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",CJ,[s("div",SJ,[s("div",DJ,[s("table",EJ,[s("tbody",null,[w(d,{item:t.item},null,8,["item"])])])])])]),s("div",TJ,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(r=>o.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[AJ,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):A("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(r=>o.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),RJ])):A("",!0)])])],32)])}const jJ=x($J,[["render",FJ]]),IJ={};function OJ(t,e,a,n,l,o){const i=b("router-view");return c(),M(i)}const BJ=x(IJ,[["render",OJ]]);let Zt=at.route_prefix,PJ=at.route_path;const LJ={path:PJ,component:BJ,children:[{path:"all",name:"All"+Zt,component:oJ},{path:"create",name:"Create"+Zt,component:ha},{path:"details/:id",name:"Details"+Zt,component:jJ},{path:"edit/:id",name:"Edit"+Zt,component:ha}]},Ut="User",lt={prefix:Ut,permission:["admin","super_admin"],api_host:$t.api_host,api_version:$t.api_version,api_end_point:"users",module_name:"user",store_prefix:"user",route_prefix:"User",route_path:"user",select_fields:["id","name","email","password","image","role_id","slug","created_at"],sort_by_cols:["id","name","email","password","image","role_id","created_at"],layout_title:Ut+" Management",page_title:`${Ut} Management`,all_page_title:"All "+Ut,details_page_title:"Details "+Ut,create_page_title:"Create "+Ut,edit_page_title:"Edit "+Ut},qJ={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:lt.select_fields,sort_by_cols:lt.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function ga(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function va(t,e,a){try{const n=await T.get(t);await e.put(t,new Response(JSON.stringify(n.data)));let o=performance.now()-a;return ga({href:t,duration:o,status:n.status}),n}catch(n){console.error(n.response.data);let o=performance.now()-a;throw ga({href:t,duration:o,status:n.response.status,message:n.response.data.message}),new Error(n.response.statusText)}}function UJ(t){return t/1024}async function ba(t,e){let a={data:{},status:200},n=0,l=0,o=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),g=await r.keys(),v=g.length;if(v>15)for(let E=0;E<v-15;E++)await r.delete(g[E]);const y=await r.match(t);return y&&e===!1?(a.data=await y.json(),va(t,r,i)):a=await va(t,r,i),n=performance.now(),l=n-i,o=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:UJ(o)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:HJ,api_version:NJ,api_end_point:VJ}=lt;let MJ=async()=>{let t=C(xt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},n=`${HJ}/${NJ}/${VJ}`,l=new URL(n),o=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(n=t.url.get(),a=await ba(n,o)):a=await ba(l.href,o),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function zJ(t){let e=t.target,a=new FormData(e),n=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/store`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function WJ(t){let e=C(xt,["item"]),a=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/${t}`;try{let n=await T.get(a);e.item.set(n.data.data)}catch(n){return window.s_alert("something is wrong.","error"),n.response}}async function KJ(t){let e=B(xt,["item"]),a=t.target,n=new FormData(a);n.append("id",e.item().id);let l=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/update/${e.item().slug}`;try{return await T.post(l,n)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function JJ(){let t=B(xt,["item"]),e=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/soft-delete`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function GJ(){let t=B(xt,["item"]),e=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/update-status`;try{return await T.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function XJ(){let t=B(xt,["item"]),e=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/restore`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function YJ(){let t=B(xt,["item"]),e=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/destroy/${t.item().slug}`;try{return await T.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function QJ(t,e){let a=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/bulk-action`;try{return await T.post(a,{action:t,ids:e})}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function ZJ(t){let e=t.target,a=new FormData(e),n=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/import`;try{return await T.post(n,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function tG(t={}){let e=xt();e.filter_criteria={...e.filter_criteria,...t}}async function eG(t={}){C(xt,["item"]).item.set(t)}async function sG(t=!0){C(xt,["only_latest_data"]).only_latest_data.set(t)}async function aG(t=1){C(xt,["page"]).page.set(t)}async function nG(t=10){C(xt,["paginate"]).paginate.set(t)}async function oG(t=!0){C(xt,["show_details_canvas"]).show_details_canvas.set(t)}async function lG(t=!0){C(xt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function iG(t="active"){C(xt,["status"]).status.set(t)}async function rG(){C(xt,["selected"]).selected.set([])}const xt=Ct(lt.store_prefix,{state:()=>qJ,getters:{},actions:{get_all:MJ,create:zJ,update:KJ,details:WJ,update_status:GJ,soft_delete:JJ,restore:XJ,destroy:YJ,bulk_action:QJ,import_data:ZJ,set_page:aG,set_paginate:nG,set_show_details_canvas:oG,set_item:eG,set_show_filter_canvas:lG,set_filter_criteria:tG,set_status:iG,set_only_latest_data:sG,clear_selected:rG}});var dG=function(){function t(){}return t.prototype.exportFile=function(e,a,n){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([n]);window.navigator.msSaveOrOpenBlob(l,a)}else{var o="\uFEFF",i=encodeURIComponent(n),d="data:text/"+e+";charset=utf-8,"+o+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),cG=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var o in l)l.hasOwnProperty(o)&&(n[o]=l[o])},t(e,a)};return function(e,a){t(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}}();globalThis&&globalThis.__importDefault;var _G=function(t){cG(e,t);function e(a){var n=t.call(this)||this;return n._FileName="",n._Delimeter=",",n._Columns=[],n._RowData=[],n._FileName=a,n}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,n=[];this._Columns&&this._Columns.length>0&&n.push(this.getRowData(this._Columns)),this._RowData.forEach(function(o){n.push(a.getRowData(o))});var l=n.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(dG);const Qe=_G;let uG=lt.store_prefix;async function pG(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${lt.api_host}/${lt.api_version}/${lt.api_end_point}`);a.searchParams.set("paginate",10);const n=["deleted_at","created_at","updated_at"];let l,o=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await T.get(a.href);if(i===1){e=d.data.data.last_page;const v=fG(d.data.data.data[0],n);l=new Qe(`${uG}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>mG(v,n));o=o.concat(r),console.log(`Accumulated ${o.length} rows so far`);const g=Math.round(100*i/e);window.update_loader(g)}l.addRows(o),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function fG(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function mG(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let hG=lt.store_prefix;function gG(t){let e=Object.keys(t[0]),a=t.map(l=>Object.values(l));new Qe(`${hG}_list.csv`).setColumns(e).addRows(a).exportFile(),C(xt,["selected"]).selected.set([])}let vG=lt.store_prefix;function bG(){const t=lt.select_fields,e=["id","created_at","slug"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const n=[Array(a.length).fill("-")];new Qe(`${vG}_demo_list.csv`).setColumns(a).addRows(n).exportFile()}var yG="Expected a function",ya=0/0,$G="[object Symbol]",wG=/^\s+|\s+$/g,kG=/^[-+]0x[0-9a-f]+$/i,xG=/^0b[01]+$/i,CG=/^0o[0-7]+$/i,SG=parseInt,DG=typeof global=="object"&&global&&global.Object===Object&&global,EG=typeof self=="object"&&self&&self.Object===Object&&self,TG=DG||EG||Function("return this")(),AG=Object.prototype,RG=AG.toString,FG=Math.max,jG=Math.min,fe=function(){return TG.Date.now()};function IG(t,e,a){var n,l,o,i,d,r,g=0,v=!1,y=!1,j=!0;if(typeof t!="function")throw new TypeError(yG);e=$a(e)||0,De(a)&&(v=!!a.leading,y="maxWait"in a,o=y?FG($a(a.maxWait)||0,e):o,j="trailing"in a?!!a.trailing:j);function E(m){var D=n,q=l;return n=l=void 0,g=m,i=t.apply(q,D),i}function V(m){return g=m,d=setTimeout(R,e),v?E(m):i}function k(m){var D=m-r,q=m-g,it=e-D;return y?jG(it,o-q):it}function P(m){var D=m-r,q=m-g;return r===void 0||D>=e||D<0||y&&q>=o}function R(){var m=fe();if(P(m))return L(m);d=setTimeout(R,k(m))}function L(m){return d=void 0,j&&n?E(m):(n=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),g=0,n=r=l=d=void 0}function z(){return d===void 0?i:L(fe())}function U(){var m=fe(),D=P(m);if(n=arguments,l=this,r=m,D){if(d===void 0)return V(r);if(y)return d=setTimeout(R,e),E(r)}return d===void 0&&(d=setTimeout(R,e)),i}return U.cancel=_,U.flush=z,U}function De(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function OG(t){return!!t&&typeof t=="object"}function BG(t){return typeof t=="symbol"||OG(t)&&RG.call(t)==$G}function $a(t){if(typeof t=="number")return t;if(BG(t))return ya;if(De(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=De(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(wG,"");var a=xG.test(t);return a||CG.test(t)?SG(t.slice(2),a?2:8):kG.test(t)?ya:+t}const PG={data:()=>({setup:lt,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:pG,export_selected_csv:gG,export_demo_csv:bG,...H(xt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var n,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.update_status();o.data.status==="success"?(await this.get_all(),window.s_alert((n=o.data)==null?void 0:n.message),this.set_only_latest_data(!0)):window.s_warning((l=o.data)==null?void 0:l.message)}},softDelete:async function(t){var a,n;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((n=l.data)==null?void 0:n.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.restore();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.destroy();n.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=n.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,n=new Set(this.selected);a?n.add(t):n.delete(t),this.selected=[...n]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let n=this.selected;n=n.map(o=>o.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,n);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:IG(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...C(xt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(n=>this.selected.some(l=>l.id===n.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},LG={class:"row"},qG={class:"col-sm-12"},UG={class:"card"},HG={class:"card-header"},NG={class:"row align-items-center"},VG={class:"col-12 col-md-3 mb-2 mb-md-0"},MG={class:"text-capitalize mb-0"},zG={class:"col-12 col-md-6 mb-2 mb-md-0"},WG={class:"col-12 col-md-3 text-md-right text-sm-left"},KG=s("i",{class:"fa fa-gear mx-2"},null,-1),JG={class:"card-body"},GG={class:"table-responsive table_responsive card_body_fixed_height"},XG={class:"table table-hover text-center table-bordered"},YG=s("th",null,[s("i",{class:"zmdi zmdi-settings zmdi-hc-2x",title:"Actions"})],-1),QG={class:"w-10 text-center"},ZG=["checked"],tX=s("th",{class:"w-10"},"ID",-1),eX=s("th",null,"name",-1),sX=s("th",null,"email",-1),aX=s("th",null,"password",-1),nX=s("th",null,"image",-1),oX=s("th",null,"role_id",-1),lX={class:"table_action_btns"},iX=s("i",{class:"fa fa-eye text-secondary"},null,-1),rX=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1),dX=["onClick"],cX=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),_X=["onClick"],uX=s("i",{class:"fa fa-eye text-warning"},null,-1),pX={key:0},fX=["onClick"],mX=s("i",{class:"fa fa-ban text-warning"},null,-1),hX={key:1},gX=["onClick"],vX=s("i",{class:"fa fa-refresh text-warning"},null,-1),bX=["onClick"],yX=s("i",{class:"fa fa-trash text-danger"},null,-1),$X=["onChange","checked"],wX={class:"mx-3"},kX={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},xX={class:"pagination my-2",style:{"font-size":"11px"}},CX=["onClick","href","innerHTML"],SX={class:"d-flex",style:{gap:"5px"}},DX=s("span",null,null,-1),EX=s("span",null,"-",-1),TX=s("span",null,"of",-1),AX={class:"d-flex",style:{gap:"5px"}},RX=s("span",null,null,-1),FX=s("span",null," Limit ",-1),jX=nt('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),IX=[jX],OX={class:"card-footer py-2"},BX={class:"d-flex flex-wrap align-items-center"},PX={class:"mr-2 mb-2"},LX=s("i",{class:"fa fa-edit mr-2"},null,-1),qX={class:"mr-2 mb-2"},UX=s("i",{class:"fa fa-print mr-2"},null,-1),HX={key:0,class:"mr-2 mb-2"},NX=s("i",{class:"fa fa-sign-out mr-2"},null,-1),VX={class:"mr-2 mb-2"},MX=s("i",{class:"fa fa-download mr-2"},null,-1),zX={class:"mr-2 mb-2"},WX=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),KX={class:"mr-2 mb-2"},JX=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),GX={class:"mr-2 mb-2"},XX=s("i",{class:"fa fa-trash mr-2"},null,-1),YX={key:1,class:"mr-2 mb-2"},QX=nt('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),ZX=[QX],tY=nt('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),eY={class:"off_canvas_body"},sY={class:"header"},aY=s("h3",{class:"heading_text"},"Filter",-1),nY=s("span",{class:"fa fa-close border p-2"},null,-1),oY=[nY],lY={class:"data_content"},iY={class:"filter_item"},rY=s("label",{for:"start_date"},"Start Date",-1),dY={for:"start_date",class:"text-capitalize d-block date_custom_control"},cY={class:"filter_item"},_Y=s("label",{for:"end_date"},"End Date",-1),uY={for:"end_date",class:"text-capitalize d-block date_custom_control"},pY={class:"filter_item"},fY=s("label",{for:"sort_by_col"},"Sort By Col",-1),mY={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},hY={class:"filter_item"},gY=s("label",{for:"sort_by_col"},"Sort Type",-1),vY={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},bY={class:"filter_item"},yY=s("div",{class:"off_canvas_overlay"},null,-1),$Y={class:"modal-dialog modal-dialog-centered"},wY={class:"modal-content border-primary"},kY={class:"modal-header bg-primary"},xY={class:"modal-title text-white"},CY=s("span",{"aria-hidden":"true"},"",-1),SY=[CY],DY={class:"modal-body"},EY=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),TY=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),AY={class:"modal-footer"},RY=s("i",{class:"fa fa-times"},null,-1),FY=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function jY(t,e,a,n,l,o){var d,r,g,v,y,j,E,V;const i=b("router-link");return c(),u("div",null,[s("div",LG,[s("div",qG,[s("div",UG,[s("div",HG,[s("div",NG,[s("div",VG,[s("h5",MG,p(t.setup.all_page_title),1)]),s("div",zG,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=k=>o.set_search_key(k)),placeholder:"Search"},null,32)]),s("div",WG,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(...k)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(...k))},[KG,f("Filter ")])])])]),s("div",JG,[s("div",GG,[s("table",XG,[s("thead",null,[s("tr",null,[YG,s("th",QG,[s("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[2]||(e[2]=k=>o.set_all_item_selected(k)),type:"checkbox",checked:o.isAllSelected},null,40,ZG)]),tX,eX,sX,aX,nX,oX])]),s("tbody",null,[(c(!0),u(S,null,F((d=t.all)==null?void 0:d.data,k=>(c(),u("tr",{key:k.id,class:I(`table_rows table_row_${k.id}`)},[s("td",null,[s("span",{class:"icon",onClick:e[3]||(e[3]=h(P=>o.active_row(P),["prevent"]))}),s("div",lX,[s("ul",null,[s("li",null,[w(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:k.slug}},class:"border-secondary"},{default:O(()=>[iX,f(" Show ")]),_:2},1032,["to"])]),s("li",null,[w(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:k.slug}},class:"border-secondary"},{default:O(()=>[rX,f(" Edit ")]),_:2},1032,["to"])]),s("li",null,[k.status=="active"?(c(),u("a",{key:0,href:"",onClick:h(P=>o.updateStatus(k),["prevent"]),class:"border-warning"},[cX,f(" Inactive ")],8,dX)):A("",!0),k.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:h(P=>o.updateStatus(k),["prevent"]),class:"border-warning"},[uX,f(" Active ")],8,_X)):A("",!0)]),t.is_trashed_data?A("",!0):(c(),u("li",pX,[s("a",{onClick:h(P=>o.softDelete(k),["prevent"]),href:"",class:"border-danger"},[mX,f(" Soft Delete ")],8,fX)])),t.is_trashed_data?(c(),u("li",hX,[s("a",{onClick:h(P=>o.restore_data(k),["prevent"]),href:"",class:"border-danger"},[vX,f(" Restore data ")],8,gX)])):A("",!0),s("li",null,[s("a",{onClick:h(P=>o.destroy_data(k),["prevent"]),href:"",class:"border-danger"},[yX,f(" Destroy ")],8,bX)])])])]),s("td",null,[s("input",{onChange:P=>o.set_item_selected(k,P),checked:o.isSelected(k),class:"form-check-input ml-0",type:"checkbox"},null,40,$X)]),s("td",null,p(k.id),1),s("td",null,p(k.name),1),s("td",null,p(k.email),1),s("td",null,p(k.password),1),s("td",null,p(k.image),1),s("td",null,p(k.role_id),1)],2))),128))])])])]),s("div",wX,[s("nav",kX,[s("ul",xX,[(c(!0),u(S,null,F((r=t.all)==null?void 0:r.links,(k,P)=>{var R,L,_;return c(),u("li",{key:P,class:I(["page-item",{active:k.active}])},[s("a",{class:I(["page-link",((R=t.all)==null?void 0:R.current_page)==((L=t.all)==null?void 0:L.last_page)&&((_=t.all)==null?void 0:_.links.length)-1==P?"disabled":""]),onClick:h(z=>o.set_page_data(k),["prevent"]),href:k.url,innerHTML:`<span>${k.label}</span>`},null,10,CX)],2)}),128))]),s("div",SX,[DX,s("span",null,p((g=t.all)==null?void 0:g.from),1),EX,s("span",null,p((v=t.all)==null?void 0:v.to),1),TX,s("span",null,p((y=t.all)==null?void 0:y.total),1)]),s("div",AX,[RX,FX,N(s("select",{"onUpdate:modelValue":e[4]||(e[4]=k=>t.paginate=k),onChange:e[5]||(e[5]=(...k)=>o.set_per_page_limit&&o.set_per_page_limit(...k)),class:"bg-transparent text-white rounded-1"},IX,544),[[ot,t.paginate]])])])]),s("div",OX,[s("div",BX,[s("div",PX,[w(i,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:O(()=>[LX,f(" Create ")]),_:1},8,["to"])]),s("div",qX,[s("a",{href:"",onClick:e[6]||(e[6]=h(()=>o.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[UX,f(" Export All ")])]),(j=this.selected)!=null&&j.length?(c(),u("div",HX,[s("a",{href:"",onClick:e[7]||(e[7]=h(k=>o.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[NX,f(" Export ("+p((E=this.selected)==null?void 0:E.length)+") ",1)])])):A("",!0),s("div",VX,[s("a",{href:"",onClick:e[8]||(e[8]=h(k=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[MX,f(" Import ")])]),s("div",zX,[s("a",{href:"",onClick:e[9]||(e[9]=h(k=>o.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[WX,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",KX,[s("a",{href:"",onClick:e[10]||(e[10]=h(k=>o.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[JX,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",GX,[s("a",{href:"",onClick:e[11]||(e[11]=h(k=>o.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[XX,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(V=this.selected)!=null&&V.length?(c(),u("div",YX,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[12]||(e[12]=(...k)=>o.bulkActions&&o.bulkActions(...k))},ZX,32)])):A("",!0)])])])])]),tY,s("div",{class:I(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",eY,[s("div",sY,[aY,s("button",{class:"close_button",onClick:e[13]||(e[13]=k=>t.set_show_filter_canvas(!1))},oY)]),s("div",lY,[s("div",iY,[rY,s("label",dY,[N(s("input",{"onUpdate:modelValue":e[14]||(e[14]=k=>t.start_date=k),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[rt,t.start_date]])])]),s("div",cY,[_Y,s("label",uY,[N(s("input",{"onUpdate:modelValue":e[15]||(e[15]=k=>t.end_date=k),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[rt,t.end_date]])])]),s("div",pY,[fY,s("label",mY,[N(s("select",{"onUpdate:modelValue":e[16]||(e[16]=k=>t.sort_by_col=k),class:"form-control"},[(c(!0),u(S,null,F(t.sort_by_cols,k=>(c(),u("option",{key:k},p(k),1))),128))],512),[[ot,t.sort_by_col]])])]),s("div",hY,[gY,s("label",vY,[N(s("select",{"onUpdate:modelValue":e[17]||(e[17]=k=>t.sort_type=k),class:"form-control"},[(c(),u(S,null,F(["ASC","DESC"],k=>s("option",{key:k},p(k),1)),64))],512),[[ot,t.sort_type]])])]),s("div",bY,[s("button",{onClick:e[18]||(e[18]=h(k=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),yY],2),s("div",{class:I(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",$Y,[s("form",{onSubmit:e[22]||(e[22]=h((...k)=>o.FileUploadHandler&&o.FileUploadHandler(...k),["prevent"]))},[s("div",wY,[s("div",kY,[s("h5",xY," Import "+p(t.setup.prefix),1),s("button",{onClick:e[19]||(e[19]=k=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},SY)]),s("div",DY,[EY,TY,s("a",{href:"",onClick:e[20]||(e[20]=h((...k)=>o.export_demo_csv&&o.export_demo_csv(...k),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",AY,[s("button",{onClick:e[21]||(e[21]=k=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[RY,f(" Close ")]),FY])])],32)])],2)])}const IY=x(PG,[["render",jY]]),OY=[{name:"name",label:"Enter your name",type:"text",value:""},{name:"email",label:"Enter your email",type:"text",value:""},{name:"phone_number",label:"Enter your phone number",type:"text",value:""},{name:"password_in_text",label:"Enter your password",type:"text",value:""},{name:"address",label:"Enter your address",type:"text",value:""},{name:"role_id",label:"Select  role ",type:"select",value:"",data_list:[]},{name:"image",label:"Enter your image",type:"file",multiple:!1,value:""}],BY={data:()=>({setup:lt,form_fields:OY,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t),this.get_all_role()},methods:{...H(xt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(n=>{e.name==n[0]&&(this.form_fields[a].value=n[1])})})},get_all_role:async function(){var e,a;let t=await T.get("roles");if(t.data.status=="success"){const n=((a=(e=t.data)==null?void 0:e.data)==null?void 0:a.data)||[];console.log(n),this.form_fields[5].data_list=n.map(l=>({label:l.name,value:l.id}))}},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}}},computed:{...B(xt,{item:"item"})}},PY={class:"card"},LY={class:"card-header d-flex justify-content-between"},qY={class:"text-capitalize"},UY={class:"card-body card_body_fixed_height"},HY={class:"row"},NY=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function VY(t,e,a,n,l,o){const i=b("router-link"),d=b("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=h((...r)=>o.submitHandler&&o.submitHandler(...r),["prevent"]))},[s("div",PY,[s("div",LY,[s("h5",qY,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),M(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):A("",!0),w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",UY,[s("div",HY,[(c(!0),u(S,null,F(t.form_fields,(r,g)=>(c(),M(d,{key:g,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),NY])],32)])}const wa=x(BY,[["render",VY]]),MY={data:()=>({setup:lt}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(xt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...C(xt,{item:"item"})}},zY={class:"card"},WY={class:"card-header d-flex justify-content-between"},KY={class:"text-capitalize"},JY={class:"card-body card_body_fixed_height"},GY={class:"row"},XY={class:"col-lg-8"},YY={class:"table quick_modal_table table-bordered"},QY=s("th",null,"name",-1),ZY=s("th",{class:"text-center"},":",-1),tQ=s("th",null,"email",-1),eQ=s("th",{class:"text-center"},":",-1),sQ=s("th",null,"password",-1),aQ=s("th",{class:"text-center"},":",-1),nQ=s("th",null,"role",-1),oQ=s("th",{class:"text-center"},":",-1),lQ=s("th",null,"image",-1),iQ=s("th",{class:"text-center"},":",-1),rQ=["src"],dQ={class:"card-footer"},cQ=s("i",{class:"fa fa-angle-left"},null,-1),_Q=s("i",{class:"fa fa-angle-right"},null,-1);function uQ(t,e,a,n,l,o){var d;const i=b("router-link");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=h((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",zY,[s("div",WY,[s("h5",KY,p(t.setup.details_page_title),1),s("div",null,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:O(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",JY,[s("div",GY,[s("div",XY,[s("table",YY,[s("tbody",null,[s("tr",null,[QY,ZY,s("th",null,p(t.item.name),1)]),s("tr",null,[tQ,eQ,s("th",null,p(t.item.email),1)]),s("tr",null,[sQ,aQ,s("th",null,p(t.item.password_in_text),1)]),s("tr",null,[nQ,oQ,s("th",null,p((d=t.item.role)==null?void 0:d.name),1)]),s("tr",null,[lQ,iQ,s("th",null,[s("img",{height:"100px",width:"100px",src:t.item.image,alt:""},null,8,rQ)])])])])])])]),s("div",dQ,[w(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:O(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=h(r=>o.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[cQ,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):A("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=h(r=>o.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),_Q])):A("",!0)])])],32)])}const pQ=x(MY,[["render",uQ]]),fQ={};function mQ(t,e,a,n,l,o){const i=b("router-view");return c(),M(i)}const hQ=x(fQ,[["render",mQ]]);let te=lt.route_prefix,gQ=lt.route_path;const vQ={path:gQ,component:hQ,children:[{path:"all",name:"All"+te,component:IY},{path:"create",name:"Create"+te,component:wa},{path:"details/:id",name:"Details"+te,component:pQ},{path:"edit/:id",name:"Edit"+te,component:wa}]},bQ={path:"",component:Fo,children:[{path:"dashboard",component:Tl,name:"adminDashboard"},qm,Ib,T1,xx,b5,f6,dA,nj,ZB,JU,VM,LJ,vQ,Md]},tn=en({history:sn(),routes:[{path:"/",component:ka,children:[bQ]}]});tn.beforeEach((t,e,a)=>{t.href.length>2&&window.sessionStorage.setItem("prevurl",t.href),a()});const yQ=ln(),Ht=rn({});Ht.component("app",ka);Ht.component("common-input",an);Ht.component("pagination",nn);Ht.use(yQ);Ht.use(tn);Ht.mount("#app");
