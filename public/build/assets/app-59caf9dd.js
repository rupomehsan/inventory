import{a as Jt,s as Be,b as mt,c as dl,d as cl,C as _l,P as ul}from"./app_config-f3a37926.js";import{l as A,E as q,_ as k,b as y,c as u,a as s,e as g,t as p,n as L,F as C,j as F,g as x,w as U,h as f,o as c,G as H,f as j,d as W,H as Vt,k as P,v as M,I as K,J as w,p as ht,i as gt,r as zt,K as J,L as pl,C as fl,D as ml}from"./pinia-3ca5fc80.js";window.axios=A;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var me=[" zero"," one"," two"," three"," four"," five"," six"," seven"," eight"," nine"],hl=[" ten"," eleven"," twelve"," thirteen"," fourteen"," fifteen"," sixteen"," seventeen"," eighteen"," nineteen"],gl=[""," ten"," twenty"," thirty"," forty"," fifty"," sixty"," seventy"," eighty"," ninety"],qt=[],qe,qt,Lt,vt,Ut;function ye(){Lt[vt]==0?qt[Ut]="":Lt[vt]==1?qt[Ut]=hl[Lt[vt-1]]:qt[Ut]=gl[Lt[vt]]}function vl(t=1200){t=t.toString().replace(/[,]/g,""),t=parseFloat(t).toFixed(2);var e=t.toString().split("."),a=e[0],o=e[1],l=os(a)+" Rupees and"+os(o)+" paisa only";return yl(l)}function os(t){if(qt=[],t=="00"||t=="0")return" zero";var e=t.toString();if(qe=e.split(""),Lt=qe.reverse(),Number(t)==0)return document.getElementById("container").value="TOTAL Zero",!1;var a=qe.length,o="";for(Ut=0,vt=0;vt<a;vt++){switch(vt){case 0:Lt[vt]=="0"||Lt[vt+1]=="1"?qt[Ut]="":qt[Ut]=me[Lt[vt]],qt[Ut]=qt[Ut]+"";break;case 1:ye();break;case 2:Lt[vt]=="0"?qt[Ut]="":(Lt[vt-1]!=="0"&&Lt[vt-2],qt[Ut]=me[Lt[vt]]+" hundred");break;case 3:Lt[vt]=="0"||Lt[vt+1]=="1"?qt[Ut]="":qt[Ut]=me[Lt[vt]],(Lt[vt+1]!=="0"||Lt[vt]>"0")&&(qt[Ut]=qt[Ut]+" thousand");break;case 4:ye();break;case 5:Lt[vt]=="0"||Lt[vt+1]=="1"?qt[Ut]="":qt[Ut]=me[Lt[vt]],(Lt[vt+1]!=="0"||Lt[vt]>"0")&&(qt[Ut]=qt[Ut]+" lakh");break;case 6:ye();break;case 7:Lt[vt]=="0"||Lt[vt+1]=="1"?qt[Ut]="":qt[Ut]=me[Lt[vt]],qt[Ut]=qt[Ut]+" crore";break;case 8:ye();break}Ut++}for(qt.reverse(),vt=0;vt<qt.length;vt++)o+=qt[vt];return o}function yl(t=""){var e,a,o,l="";new Array;var n="";t=t.trim();var i=t.match(" Rupees and zero");if(i==" Rupees and zero"){for(var d=t.replace("Rupees and zero paisa only",""),r=d.split(" "),m=0;m<r.length;m++){var D=r[m].charAt(0).toUpperCase();r[m]=D+r[m].substr(1)}r.join(" ")}else{for(var v=t.replace("Rupees and","Point"),b=v.replace(" paisa only"," "),B=b.split(" Point "),S,z=0;z<B.length;z++){var T=B[1];S=B[0]}for(var V=T.split(" "),z=0;z<V.length;z++){var n=V[0],I=V[1];if(n=="one")var O=" zero one ",d=S+" Point"+O+I;else if(n=="two")var O=" zero two ",d=S+" Point"+O+I;else if(n=="three")var O=" zero three ",d=S+" Point"+O+I;else if(n=="four")var O=" zero four ",d=S+" Point"+O+I;else if(n=="five")var O=" zero five ",d=S+" Point"+O+I;else if(n=="six")var O=" zero six ",d=S+" Point"+O+I;else if(n=="seven")var O=" zero seven ",d=S+" Point"+O+I;else if(n=="eight")var O=" zero eight ",d=S+" Point"+O+I;else if(n=="nine")var O=" zero nine ",d=S+" Point"+O+I;else if(n=="twenty")var O=" two ",d=S+" Point"+O+I;else if(n=="thirty")var O=" three ",d=S+" Point"+O+I;else if(n=="forty")var O=" four ",d=S+" Point"+O+I;else if(n=="fifty")var O=" five ",d=S+" Point"+O+I;else if(n=="sixty")var O=" six ",d=S+" Point"+O+I;else if(n=="seventy")var O=" seven ",d=S+" Point"+O+I;else if(n=="eighty")var O=" eight ",d=S+" Point"+O+I;else if(n=="ninety")var O=" nine ",d=S+" Point"+O+I;else if(n=="ten")var O=" one ",d=S+" Point"+O+I;else if(n=="eleven")var O=" one one ",d=S+" Point"+O+I;else if(n=="twelve")var O=" one two ",d=S+" Point"+O+I;else if(n=="thirteen")var O=" one three ",d=S+" Point"+O+I;else if(n=="fourteen")var O=" one four ",d=S+" Point"+O+I;else if(n=="fifteen")var O=" one five ",d=S+" Point"+O+I;else if(n=="sixteen")var O=" one six ",d=S+" Point"+O+I;else if(n=="seventeen")var O=" one seven ",d=S+" Point"+O+I;else if(n=="eighteen")var O=" one eight ",d=S+" Point"+O+I;else if(n=="nineteen")var O=" one nine ",d=S+" Point"+O+I}for(var r=d.split(" "),m=0;m<r.length;m++){var D=r[m].charAt(0).toUpperCase();r[m]=D+r[m].substr(1)}r.join(" ")}for(var _=d.split(" "),R=new Array,D=0,m=0;m<_.length;m++)e=_[m],a=_[m+1],e==="Point"&&(R[D]=" দশমিক"),e===","&&(R[D]=" "),e===""&&(R[D]=" "),e==="hundred"&&(R[D]=" শত"),e==="thousand"&&(R[D]=" হাজার"),e==="lakh"&&(R[D]=" লাখ"),e==="crore"&&(R[D]=" কোটি"),e==="zero"&&(R[D]="  শুন্য"),e==="one"&&(R[D]=" এক"),e==="two"&&(R[D]=" দুই"),e==="three"&&(R[D]=" তিন"),e==="four"&&(R[D]=" চার"),e==="five"&&(R[D]=" পাঁচ"),e==="six"&&(R[D]=" ছয়"),e==="seven"&&(R[D]=" সাত"),e==="eight"&&(R[D]=" আট"),e==="nine"&&(R[D]=" নয়"),e==="ten"&&(R[D]=" দশ"),e==="eleven"&&(R[D]=" এগারো"),e==="twelve"&&(R[D]=" বারো"),e==="thirteen"&&(R[D]=" তেরো"),e==="fourteen"&&(R[D]=" চৌদ্দ"),e==="fifteen"&&(R[D]=" পনেরো"),e==="sixteen"&&(R[D]=" ষোল"),e==="seventeen"&&(R[D]=" সতেরো"),e==="eighteen"&&(R[D]=" আঠারো"),e==="nineteen"&&(R[D]=" ঊনিশ"),e==="twenty"&&(a==="one"?R[D]=" একুশ":a==="two"?R[D]=" বাইশ":a==="three"?R[D]=" তেইশ":a==="four"?R[D]=" চব্বিশ":a==="five"?R[D]=" পঁচিশ":a==="six"?R[D]=" ছাব্বিশ":a==="seven"?R[D]=" সাতাশ":a==="eight"?R[D]=" আঠাশ":a==="nine"?R[D]=" ঊনত্রিশ":(R[D]=" বিশ",m--),m++),e==="thirty"&&(a==="one"?R[D]=" একত্রিশ":a==="two"?R[D]=" বত্রিশ":a==="three"?R[D]=" তেত্রিশ":a==="four"?R[D]=" চৌত্রিশ":a==="five"?R[D]=" পঁয়ত্রিশ":a==="six"?R[D]=" ছত্রিশ":a==="seven"?R[D]=" সাইত্রিশ":a==="eight"?R[D]=" আটত্রিশ":a==="nine"?R[D]=" ঊনচল্লিশ":(R[D]=" ত্রিশ",m--),m++),e==="forty"&&(a==="one"?R[D]=" একচল্লিশ":a==="two"?R[D]=" বিয়াল্লিশ":a==="three"?R[D]=" তেতাল্লিশ":a==="four"?R[D]=" চুয়াল্লিশ":a==="five"?R[D]=" পঁয়তাল্লিশ":a==="six"?R[D]=" ছেচল্লিশ":a==="seven"?R[D]=" সাতচল্লিশ":a==="eight"?R[D]=" আটচল্লিশ":a==="nine"?R[D]=" ঊনপঞ্চাশ":(R[D]=" চল্লিশ",m--),m++),e==="fifty"&&(a==="one"?R[D]=" একান্ন":a==="two"?R[D]=" বায়ান্ন":a==="three"?R[D]=" তিপ্পান্ন":a==="four"?R[D]=" চুয়ান্ন":a==="five"?R[D]=" পঞ্চান্ন":a==="six"?R[D]=" ছাপ্পান্ন":a==="seven"?R[D]=" সাতান্ন":a==="eight"?R[D]=" আটান্ন":a==="nine"?R[D]=" ঊনষাট":(R[D]=" পঞ্চাশ",m--),m++),e==="sixty"&&(a==="one"?R[D]=" একষট্টি":a==="two"?R[D]=" বাষট্টি":a==="three"?R[D]=" তেষট্টি":a==="four"?R[D]=" চৌষট্টি":a==="five"?R[D]=" পঁয়ষট্টি":a==="six"?R[D]=" ছেষট্টি":a==="seven"?R[D]=" সাতষট্টি":a==="eight"?R[D]=" আটষট্টি":a==="nine"?R[D]=" ঊনসত্তর":(R[D]=" ষাট",m--),m++),e==="seventy"&&(a==="one"?R[D]=" একাত্তর":a==="two"?R[D]=" বাহাত্তর":a==="three"?R[D]=" তিয়াত্তর":a==="four"?R[D]=" চুয়াত্তর":a==="five"?R[D]=" পঁচাত্তর":a==="six"?R[D]=" ছিয়াত্তর":a==="seven"?R[D]=" সাতাত্তর":a==="eight"?R[D]=" আটাত্তর":a==="nine"?R[D]=" ঊনঊননব্বই":(R[D]=" সত্তর",m--),m++),e==="eighty"&&(a==="one"?R[D]=" একাশি":a==="two"?R[D]=" বিরাশি":a==="three"?R[D]=" তিরাশি":a==="four"?R[D]=" চুরাশি":a==="five"?R[D]=" পঁচাশি":a==="six"?R[D]=" ছিয়াশি":a==="seven"?R[D]=" সাতাশি":a==="eight"?R[D]="  আটাশি":a==="nine"?R[D]=" ঊননব্বই":(R[D]=" আশি",m--),m++),e==="ninety"&&(a==="one"?R[D]=" একানব্বই":a==="two"?R[D]=" বিরানব্বই":a==="three"?R[D]=" তিরানব্বই":a==="four"?R[D]=" চুরানব্বই":a==="five"?R[D]=" পঁচানব্বই":a==="six"?R[D]=" ছিয়ানব্বই":a==="seven"?R[D]=" সাতানব্বই":a==="eight"?R[D]=" আটানব্বই":a==="nine"?R[D]=" নিরানব্বই":(R[D]="নব্বই",m--),m++),D++;for(o=0;o<R.length;o++)l+=R[o];return l}window.convertAmount=vl;window.convert=os;const $l={data:()=>({show_notification:0,show_message:0,show_profile:0,unseen_vouchers:[]}),created:async function(){await this.get_all_pending_expense()},methods:{toggle_menu:function(){document.getElementById("wrapper").classList.toggle("toggled")},logout:async function(){await window.s_confirm("Are you sure want to logout?")&&(localStorage.removeItem("admin_token"),window.location.href="/")},toggle_notification:function(t){t=="show_notification"?(this.show_notification=this.show_notification?0:1,this.show_message=0,this.show_profile=0):t=="show_message"?(this.show_message=this.show_message?0:1,this.show_notification=0,this.show_profile=0):t=="show_profile"&&(this.show_profile=this.show_profile?0:1,this.show_notification=0,this.show_message=0)},get_all_pending_expense:async function(){let t=await axios.get("account-expenses?is_seen=0&get_all=1");t.status==200&&(this.unseen_vouchers=t.data.data)},mark_as_seen:async function(t){axios.post(`account-expenses/update/${t.slug}?mark_as_seen=1`),this.get_all_pending_expense(),this.$router.push({name:"AllPendingVoucher"})}},mounted(){const t=document.querySelectorAll(".nav-item");t.forEach(e=>{e.addEventListener("click",()=>{t.forEach(a=>{var o,l,n,i;e!==a&&(l=(o=a.childNodes[1])==null?void 0:o.classList)!=null&&l.contains("show")&&((i=(n=a.childNodes[1])==null?void 0:n.classList)==null||i.remove("show"))}),e.childNodes[1].classList.toggle("show")})})},computed:{...q(Jt,{auth_info:"auth_info"})}},bl={class:"topbar-nav"},wl={class:"navbar navbar-expand fixed-top"},kl={class:"toggle-menu"},xl=s("a",{href:"/",target:"_blank",class:"d-flex align-items-center justify-content-center mx-2",style:{background:"rgba(255, 255, 255, 0.12)",width:"30px",height:"30px"}},[s("i",{class:"zmdi zmdi-globe mt-1"})],-1),Cl=s("div",{class:"search-bar flex-grow-1"},null,-1),Sl={class:"navbar-nav align-items-center right-nav-link ml-auto"},Dl={role:"button",class:"btn nav-link dropdown-toggle dropdown-toggle-nocaret position-relative"},Al=s("i",{class:"zmdi zmdi-notifications-active align-middle"},null,-1),Tl={class:"bg-info text-white badge-up"},El={class:"list-group list-group-flush"},jl={class:"list-group-item"},Rl=["onClick"],Ol={class:"media"},Il={class:"media-body"},Fl={class:"mt-0 msg-title"},Pl={class:"msg-info"},Bl={class:"btn nav-link dropdown-toggle dropdown-toggle-nocaret position-relative"},ql={class:"user-profile"},Ll=["src"],Ul={class:"dropdown-item user-details"},Nl={href:"javaScript:void();"},Vl={class:"media"},Hl={class:"avatar"},zl=["src"],Ml={class:"media-body"},Wl={class:"mt-2 user-title"},Jl={class:"user-subtitle"},Kl=s("li",{class:"dropdown-divider"},null,-1),Yl=s("li",{class:"dropdown-divider"},null,-1),Gl=s("li",{class:"dropdown-divider"},null,-1),Ql={class:"dropdown-item"},Xl=s("i",{class:"zmdi zmdi-accounts mr-3"},null,-1),Zl={class:"dropdown-item"},ti=s("i",{class:"zmdi zmdi-settings mr-3"},null,-1),ei=s("li",{class:"dropdown-divider"},null,-1),si=s("i",{class:"zmdi zmdi-power mr-3"},null,-1);function ai(t,e,a,o,l,n){const i=y("router-link");return c(),u("header",bl,[s("nav",wl,[s("div",kl,[s("i",{onClick:e[0]||(e[0]=g((...d)=>n.toggle_menu&&n.toggle_menu(...d),["prevent"])),class:"zmdi zmdi-menu"})]),xl,Cl,s("ul",Sl,[s("li",{class:"nav-item dropdown dropdown-lg",onClick:e[1]||(e[1]=d=>n.toggle_notification("show_message"))},[s("a",Dl,[Al,s("span",Tl,p(t.unseen_vouchers.length),1)]),s("div",{class:L(["dropdown-menu dropdown-menu-right",{show:t.show_message}])},[s("ul",El,[(c(!0),u(C,null,F(t.unseen_vouchers,d=>(c(),u("li",jl,[s("a",{onClick:g(r=>n.mark_as_seen(d),["prevent"]),class:"cursor-pointer"},[s("div",Ol,[s("div",Il,[s("h6",Fl,p(d.title.substring(0,30)),1),s("p",Pl,"Amount : "+p(d.amount),1)])])],8,Rl)]))),256))])],2)]),s("li",{class:"nav-item dropdown",onClick:e[3]||(e[3]=d=>n.toggle_notification("show_profile"))},[s("a",Bl,[s("span",ql,[s("img",{src:`${t.auth_info.image??"avatar.png"}`,class:"img-circle",alt:"user avatar"},null,8,Ll)])]),s("ul",{class:L(["dropdown-menu dropdown-menu-right",{show:t.show_profile}])},[s("li",Ul,[s("a",Nl,[s("div",Vl,[s("div",Hl,[s("img",{class:"align-self-start mr-3",src:`${t.auth_info.image??"avatar.png"}`,alt:"user avatar"},null,8,zl)]),s("div",Ml,[s("h6",Wl,p(t.auth_info.name),1),s("p",Jl,p(t.auth_info.email),1)])])])]),Kl,Yl,Gl,s("li",Ql,[x(i,{to:{name:"AdminProfileSettings"}},{default:U(()=>[Xl,f("Profile ")]),_:1})]),s("li",Zl,[x(i,{to:{name:"AdminSiteSettings"}},{default:U(()=>[ti,f("Settings ")]),_:1})]),ei,s("li",{class:"dropdown-item",onClick:e[2]||(e[2]=d=>n.logout()),role:"button"},[si,f("Logout ")])],2)])])])])}const oi=k($l,[["render",ai]]),ni={data:()=>({rightToggle:!1}),created(){localStorage.getItem("theme_id")&&this.changeTheme(localStorage.getItem("theme_id"))},methods:{changeTheme(t){localStorage.setItem("theme_id",t);const e=Array.from({length:15},(l,n)=>n+1),a="bg-theme"+t,o=document.getElementById("body");e.forEach(l=>{const n="bg-theme"+l;o.classList.contains(n)&&o.classList.remove(n)}),o.classList.add(a)}}},li=s("i",{class:"zmdi zmdi-settings zmdi-hc-spin"},null,-1),ii=[li],ri={class:"right-sidebar-content"},di=s("p",{class:"mb-0"},"Gaussion Texture",-1),ci=s("hr",null,null,-1),_i={class:"switcher"},ui=s("p",{class:"mb-0"},"Gradient Background",-1),pi=s("hr",null,null,-1),fi={class:"switcher"};function mi(t,e,a,o,l,n){return c(),u("div",{class:L(["right-sidebar",t.rightToggle?"right-toggled":""])},[s("div",{class:"switcher-icon",onClick:e[0]||(e[0]=i=>t.rightToggle=!t.rightToggle)},ii),s("div",ri,[di,ci,s("ul",_i,[s("li",{id:"theme1",onClick:e[1]||(e[1]=i=>n.changeTheme("1"))}),s("li",{id:"theme2",onClick:e[2]||(e[2]=i=>n.changeTheme("2"))}),s("li",{id:"theme3",onClick:e[3]||(e[3]=i=>n.changeTheme("3"))}),s("li",{id:"theme4",onClick:e[4]||(e[4]=i=>n.changeTheme("4"))}),s("li",{id:"theme5",onClick:e[5]||(e[5]=i=>n.changeTheme("5"))}),s("li",{id:"theme6",onClick:e[6]||(e[6]=i=>n.changeTheme("6"))})]),ui,pi,s("ul",fi,[s("li",{id:"theme7",onClick:e[7]||(e[7]=i=>n.changeTheme("7"))}),s("li",{id:"theme8",onClick:e[8]||(e[8]=i=>n.changeTheme("8"))}),s("li",{id:"theme9",onClick:e[9]||(e[9]=i=>n.changeTheme("9"))}),s("li",{id:"theme10",onClick:e[10]||(e[10]=i=>n.changeTheme("10"))}),s("li",{id:"theme11",onClick:e[11]||(e[11]=i=>n.changeTheme("11"))}),s("li",{id:"theme12",onClick:e[12]||(e[12]=i=>n.changeTheme("12"))}),s("li",{id:"theme13",onClick:e[13]||(e[13]=i=>n.changeTheme("13"))}),s("li",{id:"theme14",onClick:e[14]||(e[14]=i=>n.changeTheme("14"))}),s("li",{id:"theme15",onClick:e[15]||(e[15]=i=>n.changeTheme("15"))})])])],2)}const hi=k(ni,[["render",mi]]),gi={components:{TopHeader:oi,Footer:hi},data:()=>({rightToggle:!1}),created:async function(){await this.check_is_auth(),await this.get_all_website_settings()},methods:{...H(Jt,{check_is_auth:"check_is_auth"}),...H(Be,{get_all_website_settings:"get_all_website_settings"}),changeTheme(t){const e=Array.from({length:15},(l,n)=>n+1),a="bg-theme"+t,o=document.getElementById("body");e.forEach(l=>{const n="bg-theme"+l;o.classList.contains(n)&&o.classList.remove(n)}),o.classList.add(a)}},computed:{...q(Jt,{auth_info:"auth_info",is_auth:"is_auth"})}},vi={key:0,id:"wrapper"},yi=s("div",{class:"clearfix"},null,-1),$i={class:"content-wrapper"};function bi(t,e,a,o,l,n){const i=y("top-header"),d=y("router-view"),r=y("Footer");return t.is_auth?(c(),u("div",vi,[x(i),yi,s("div",$i,[x(d)]),x(r)])):j("",!0)}const vn=k(gi,[["render",bi]]),wi={props:{menu_title:String,menus:Array,icon_image:{type:String,default:""},icon:{type:String,default:""}},data:()=>({is_show:0})},ki={class:"parent-icon"},xi=["src"],Ci={class:"menu-title"};function Si(t,e,a,o,l,n){const i=y("router-link");return c(),u("li",{class:L(`mm-collapse ${t.is_show&&"mm-active"}`),style:{border:"1px solid rgba(128, 128, 128, 0.267)"}},[s("a",{onClick:e[0]||(e[0]=g(d=>t.is_show=!t.is_show,["prevent"])),class:"has-arrow",href:"#"},[s("div",ki,[a.icon?(c(),u("i",{key:0,class:L(a.icon)},null,2)):a.icon_image?(c(),u("img",{key:1,src:a.icon_image,alt:""},null,8,xi)):j("",!0)]),s("div",Ci,p(a.menu_title),1)]),s("ul",{class:L(`mm-collapse ${t.is_show&&"mm-show"}`)},[(c(!0),u(C,null,F(a.menus,(d,r)=>(c(),u("li",{key:r},[x(i,{to:{name:d.route_name}},{default:U(()=>[s("i",{class:L(d.icon)},null,2),f(" "+p(d.title),1)]),_:2},1032,["to"])]))),128))],2)],2)}const Di=k(wi,[["render",Si]]),Ai={props:{menu_title:String,route_name:String,icon:{type:String,default:()=>"zmdi zmdi-view-dashboard"}}},Ti={class:"parent-icon"},Ei={class:"menu-title"};function ji(t,e,a,o,l,n){const i=y("router-link");return c(),u("li",null,[x(i,{to:{name:a.route_name}},{default:U(()=>[s("div",Ti,[s("i",{class:L(a.icon)},null,2)]),s("div",Ei,p(a.menu_title),1)]),_:1},8,["to"])])}const Ri=k(Ai,[["render",ji]]),Oi={components:{SideBarDropDownMenus:Di,SideBarSingleMenu:Ri},methods:{...H(Be,{get_setting_value:"get_setting_value"}),logout_submit:function(){window.confirm("logout")&&this.log_out()},toggle_menu:function(){document.getElementById("wrapper").classList.toggle("toggled")}},computed:{...q(Jt,{auth_info:"auth_info"})}},Ii={id:"sidebar-wrapper"},Fi={class:"brand-logo"},Pi=["src"],Bi=s("h5",{class:"logo-text"},"Super Admin Panel",-1),qi={class:"close-btn"},Li={class:"text-center mt-3"},Ui=["src"],Ni={class:"mt-2"},Vi=s("hr",null,null,-1),Hi={class:"metismenu",id:"menu"},zi=s("div",{class:"parent-icon"},[s("i",{class:"zmdi zmdi-view-dashboard"})],-1),Mi=s("div",{class:"menu-title"},"Dashboard",-1);function Wi(t,e,a,o,l,n){const i=y("router-link"),d=y("side-bar-drop-down-menus");return c(),u("div",Ii,[s("div",Fi,[x(i,{to:{name:"adminDashboard"},class:"d-flex align-items-center"},{default:U(()=>[s("img",{src:`${t.get_setting_value("image")??"avatar.png"} `,class:"logo-icon",alt:"logo icon"},null,8,Pi),Bi]),_:1}),s("div",qi,[s("i",{class:"zmdi zmdi-close",onClick:e[0]||(e[0]=(...r)=>n.toggle_menu&&n.toggle_menu(...r))})])]),s("div",Li,[s("img",{class:"rounded-circle p-1",height:"70",width:"70",src:`${t.auth_info.image??"avatar.png"}`,alt:""},null,8,Ui),s("p",Ni,"Mr. "+p(t.auth_info.name),1)]),Vi,s("ul",Hi,[s("li",null,[x(i,{to:{name:"adminDashboard"},class:"border",href:"javascript:void();"},{default:U(()=>[zi,Mi]),_:1})]),x(d,{icon:"fa fa-plus",menu_title:"Employee Management",menus:[{route_name:"AllUser",title:"Employee",icon:"zmdi zmdi-dot-circle-alt"}]}),x(d,{icon:"fa fa-plus",menu_title:"Product Management",menus:[{route_name:"AllProductCategory",title:"Product Category",icon:"zmdi zmdi-dot-circle-alt"},{route_name:"AllProductSubCategory",title:"Product SubCategory",icon:"zmdi zmdi-dot-circle-alt"},{route_name:"AllSuppliyer",title:"Suppliyer",icon:"zmdi zmdi-dot-circle-alt"},{route_name:"AllProduct",title:"Product",icon:"zmdi zmdi-dot-circle-alt"}]}),x(d,{icon:"fa fa-plus",menu_title:"Purchase Order Management",menus:[{route_name:"AllPurchaseOrder",title:"Purchase Order",icon:"zmdi zmdi-dot-circle-alt"},{route_name:"AllPurchaseOrderCollection",title:"Purchase Order Providing",icon:"zmdi zmdi-dot-circle-alt"}]}),x(d,{icon:"fa fa-plus",menu_title:"WareHouse Management",menus:[{route_name:"AllWareHouse",title:"WareHouse",icon:"zmdi zmdi-dot-circle-alt"},{route_name:"AllWareHouseProductStock",title:"WareHouse Product Stock",icon:"zmdi zmdi-dot-circle-alt"},{route_name:"AllWarehouseProductOut",title:"Warehouse Product Out",icon:"zmdi zmdi-dot-circle-alt"},{route_name:"AllWarehouseSwapProduct",title:"WarehouseSwapProduct",icon:"zmdi zmdi-dot-circle-alt"}]}),x(d,{icon:"fa fa-plus",menu_title:"Sales Order",menus:[{route_name:"AllCustomer",title:"Customer",icon:"zmdi zmdi-dot-circle-alt"},{route_name:"AllSalesOrder",title:"SalesOrder",icon:"zmdi zmdi-dot-circle-alt"},{route_name:"AllSalesOrderCollectionHistory",title:"SalesOrderCollection",icon:"zmdi zmdi-dot-circle-alt"}]}),x(d,{icon:"fa fa-plus",menu_title:"Account Management",menus:[{route_name:"AllAccountCategory",title:"AccountCategory",icon:"zmdi zmdi-dot-circle-alt"},{route_name:"AllAccountSubCategory",title:"AccountSubCategory",icon:"zmdi zmdi-dot-circle-alt"},{route_name:"AllAccountIncome",title:"AccountIncome",icon:"zmdi zmdi-dot-circle-alt"},{route_name:"AllAccountExpense",title:"AccountExpense",icon:"zmdi zmdi-dot-circle-alt"},{route_name:"AllPendingVoucher",title:"Pending Voucher",icon:"zmdi zmdi-dot-circle-alt"}]}),x(d,{icon:"fa fa-plus",menu_title:"Report Management",menus:[{route_name:"AllIncomeReport",title:"IncomeReport",icon:"zmdi zmdi-dot-circle-alt"},{route_name:"AllExpenseReport",title:"ExpsenseReport",icon:"zmdi zmdi-dot-circle-alt"},{route_name:"AllIncomeExpenseReport",title:"IncomeExpenseReport",icon:"zmdi zmdi-dot-circle-alt"}]})])])}const Ji=k(Oi,[["render",Wi]]),Ki={components:{SideBar:Ji}},Yi={class:"page-body"},Gi={class:"container-fluid"};function Qi(t,e,a,o,l,n){const i=y("side-bar"),d=y("router-view");return c(),u(C,null,[x(i),s("div",Yi,[s("div",Gi,[x(d)])])],64)}const Xi=k(Ki,[["render",Qi]]),Zi={data:()=>({data:{}}),created:async function(){await this.get_all_dashboard_data()},methods:{get_all_dashboard_data:async function(){let t=await axios.get("get-all-dashboard-data");t.status==200&&(this.data=t.data.data)}}},tr={class:"container-fluid"},er={class:"card mt-3"},sr={class:"card-content"},ar={class:"row row-group m-0"},or={class:"col-12 col-lg-6 col-xl-3 border-light"},nr={class:"card-body"},lr={class:"text-white mb-0"},ir=s("div",{class:"progress my-3",style:{height:"3px"}},null,-1),rr=s("p",{class:"mb-0 text-white small-font"},[f(" Total Income "),s("span",{class:"float-right"})],-1),dr={class:"col-12 col-lg-6 col-xl-3 border-light"},cr={class:"card-body"},_r={class:"text-white mb-0"},ur=s("div",{class:"progress my-3",style:{height:"3px"}},null,-1),pr=s("p",{class:"mb-0 text-white small-font"},[f(" Total Expenses "),s("span",{class:"float-right"})],-1),fr={class:"col-12 col-lg-6 col-xl-3 border-light"},mr={class:"card-body"},hr={class:"text-white mb-0"},gr=s("div",{class:"progress my-3",style:{height:"3px"}},null,-1),vr=s("p",{class:"mb-0 text-white small-font"},[f(" Total Products "),s("span",{class:"float-right"})],-1),yr={class:"col-12 col-lg-6 col-xl-3 border-light"},$r={class:"card-body"},br={class:"text-white mb-0"},wr=s("div",{class:"progress my-3",style:{height:"3px"}},null,-1),kr=s("p",{class:"mb-0 text-white small-font"},[f(" Total Purchase Orders "),s("span",{class:"float-right"})],-1),xr={class:"card mt-3"},Cr={class:"card-content"},Sr={class:"row row-group m-0"},Dr={class:"col-12 col-lg-6 col-xl-3 border-light"},Ar={class:"card-body"},Tr={class:"text-white mb-0"},Er=s("div",{class:"progress my-3",style:{height:"3px"}},null,-1),jr=s("p",{class:"mb-0 text-white small-font"},[f(" Total Suppliers "),s("span",{class:"float-right"})],-1),Rr={class:"col-12 col-lg-6 col-xl-3 border-light"},Or={class:"card-body"},Ir={class:"text-white mb-0"},Fr=s("div",{class:"progress my-3",style:{height:"3px"}},null,-1),Pr=s("p",{class:"mb-0 text-white small-font"},[f(" Total Warehouses "),s("span",{class:"float-right"})],-1),Br={class:"col-12 col-lg-6 col-xl-3 border-light"},qr={class:"card-body"},Lr={class:"text-white mb-0"},Ur=s("div",{class:"progress my-3",style:{height:"3px"}},null,-1),Nr=s("p",{class:"mb-0 text-white small-font"},[f(" Total Customers "),s("span",{class:"float-right"})],-1),Vr={class:"col-12 col-lg-6 col-xl-3 border-light"},Hr={class:"card-body"},zr={class:"text-white mb-0"},Mr=s("div",{class:"progress my-3",style:{height:"3px"}},null,-1),Wr=s("p",{class:"mb-0 text-white small-font"},[f(" Total Sales Orders "),s("span",{class:"float-right"})],-1),Jr={class:"row"},Kr={class:"col-12 col-lg-12"},Yr={class:"card"},Gr=s("div",{class:"card-header"},"Latest Purchase Orders",-1),Qr={class:"table table-hover text-center table-bordered table_responsive"},Xr=s("thead",null,[s("tr",null,[s("th",null,"#"),s("th",null,"Order Id"),s("th",null,"reference"),s("th",null,"suppliyer"),s("th",null,"total"),s("th",null,"Date"),s("th",null,"Actions")])],-1),Zr=s("button",{class:"btn btn-info"},"View",-1),td={class:"row"},ed={class:"col-12 col-lg-12"},sd={class:"card"},ad=s("div",{class:"card-header"},"Latest Sales Orders",-1),od={class:"table table-hover text-center table-bordered table_responsive"},nd=s("thead",null,[s("tr",null,[s("th",null,"#"),s("th",null,"Order Id"),s("th",null,"reference"),s("th",null,"costomer"),s("th",null,"total"),s("th",null,"Date"),s("th",null,"Actions")])],-1),ld=s("button",{class:"btn btn-info"},"View",-1),id=s("div",{class:"overlay"},null,-1);function rd(t,e,a,o,l,n){var d,r;const i=y("router-link");return c(),u("div",tr,[s("div",er,[s("div",sr,[s("div",ar,[s("div",or,[s("div",nr,[s("h5",lr,p(t.data.getTotalIncomes)+" ",1),ir,rr])]),s("div",dr,[s("div",cr,[s("h5",_r,p(t.data.getTotalExpenses)+" ",1),ur,pr])]),s("div",fr,[s("div",mr,[s("h5",hr,p(t.data.getTotalProducts)+" ",1),gr,vr])]),s("div",yr,[s("div",$r,[s("h5",br,p(t.data.getTotalPurchaseOrders)+" ",1),wr,kr])])])])]),s("div",xr,[s("div",Cr,[s("div",Sr,[s("div",Dr,[s("div",Ar,[s("h5",Tr,p(t.data.getTotalSuppliers)+" ",1),Er,jr])]),s("div",Rr,[s("div",Or,[s("h5",Ir,p(t.data.getTotalWarehouses)+" ",1),Fr,Pr])]),s("div",Br,[s("div",qr,[s("h5",Lr,p(t.data.getTotalCustomers)+" ",1),Ur,Nr])]),s("div",Vr,[s("div",Hr,[s("h5",zr,p(t.data.getTotalSalesOrders)+" ",1),Mr,Wr])])])])]),s("div",Jr,[s("div",Kr,[s("div",Yr,[Gr,s("table",Qr,[Xr,s("tbody",null,[(c(!0),u(C,null,F((d=t.data)==null?void 0:d.getLatesOrders,(m,v)=>{var b;return c(),u("tr",{key:v},[s("td",null,p(v+1),1),s("td",null,p(m.Order_id??"N/A"),1),s("td",null,p(m.reference??"N/A"),1),s("td",null,p(((b=m.suppliyer)==null?void 0:b.name)??"N/A"),1),s("td",null,p(m.total??"N/A"),1),s("td",null,p(m.date??"N/A"),1),s("td",null,[x(i,{to:{name:"EditPurchaseOrder",params:{id:m.slug}}},{default:U(()=>[Zr]),_:2},1032,["to"])])])}),128))])])])])]),s("div",td,[s("div",ed,[s("div",sd,[ad,s("table",od,[nd,s("tbody",null,[(c(!0),u(C,null,F((r=t.data)==null?void 0:r.getLatesSalesOrders,(m,v)=>{var b;return c(),u("tr",{key:v},[s("td",null,p(v+1),1),s("td",null,p(m.order_id??"N/A"),1),s("td",null,p(m.reference??"N/A"),1),s("td",null,p(((b=m.customer)==null?void 0:b.name.substring(0,10))??"N/A"),1),s("td",null,p(m.total??"N/A"),1),s("td",null,p(m.date??"N/A"),1),s("td",null,[x(i,{to:{name:"EditSalesOrder",params:{id:m.slug}}},{default:U(()=>[ld]),_:2},1032,["to"])])])}),128))])])])])]),id])}const dd=k(Zi,[["render",rd]]),cd={};function _d(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const ud=k(cd,[["render",_d]]);Vt("settings_store",{state:()=>({all_data:{},single_data:{},role_data:{},api:"test-modules/"}),getters:{doubleCount:t=>t.count*2},actions:{all:async function(t){let e;t?e=await axios.get(t):e=await axios.get(this.api),this.all_data=e.data.data},get:async function(t){let e=await axios.get(this.api+t);e=e.data.data,this.single_data=e},store:async function(t){let e=new FormData(t);return await axios.post(this.api,e)},update:async function(t,e){let a=new FormData(t);return await axios.post(`${this.api}${e}?_method=PATCH`,a)},delete:async function(t){var e=await window.s_confirm();if(e){let a=await axios.delete(this.api+t);window.s_alert("Data deleted"),this.all(),console.log(a.data)}},bulk_action:async function(t,e){let a=await axios.post(`${this.api}bulk-action`,{action:t,data:e});a.data.status==="success"&&(window.s_alert(a.data.message),this.all())}}});const pd={data:()=>({tab:"edit"}),methods:{...H(Jt,{check_is_auth:"check_is_auth"}),UpdateProfileHandler:async function(){let t=new FormData(event.target),e=await axios.post("user-profile-update",t);e.data.status=="success"&&(window.s_alert(e.data.message),this.check_is_auth())},ChangePasswordHandler:async function(){let t=new FormData(event.target),e=await axios.post("user-change-password",t);e.data.status=="success"&&(window.s_alert(e.data.message),this.check_is_auth())}},computed:{...q(Jt,{auth_info:"auth_info"})}},fd={class:"container-fluid"},md=s("div",{class:"row pt-2 pb-2"},[s("div",{class:"col-sm-9"},[s("h4",{class:"page-title"}," Profile Settings")])],-1),hd={class:"row"},gd={class:"col-lg-4"},vd={class:"card profile-card-2"},yd=s("div",{class:"card-img-block"},[s("img",{class:"img-fluid bg-dark",src:"avatar.png",alt:"Card image cap"})],-1),$d={class:"card-body pt-5"},bd=["src"],wd={class:"card-title text-capitalize"},kd={class:"card-text"},xd={class:"card-text"},Cd={class:"card-text"},Sd=K('<div class="card-body border-light"><div class="media align-items-center"><div class="icon-block"><a href="javascript:void();"><i class="fa fa-facebook bg-facebook text-white"></i></a><a href="javascript:void();"><i class="fa fa-twitter bg-twitter text-white"></i></a><a href="javascript:void();"><i class="fa fa-google-plus bg-google-plus text-white"></i></a></div></div></div>',1),Dd={class:"col-lg-8"},Ad={class:"card"},Td={class:"card-body"},Ed={class:"nav nav-tabs nav-tabs-primary top-icon nav-justified"},jd=s("i",{class:"icon-note"},null,-1),Rd=s("span",{class:"hidden-xs"},"Edit",-1),Od=s("i",{class:"icon-user"},null,-1),Id=s("span",{class:"hidden-xs"},"Change password",-1),Fd={class:"tab-content p-3"},Pd={class:"form-group row"},Bd=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Name",-1),qd={class:"col-lg-9"},Ld={class:"form-group row"},Ud=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Email",-1),Nd={class:"col-lg-9"},Vd={class:"form-group row"},Hd=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Phone",-1),zd={class:"col-lg-9"},Md={class:"form-group row"},Wd=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Address",-1),Jd={class:"col-lg-9"},Kd={class:"form-group row"},Yd=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Change image",-1),Gd={class:"col-lg-9"},Qd=s("input",{class:"form-control",name:"image",type:"file"},null,-1),Xd=["src"],Zd=s("div",{class:"form-group row"},[s("label",{class:"col-lg-3 col-form-label form-control-label"}),s("div",{class:"col-lg-9"},[s("input",{type:"submit",class:"btn btn-primary",value:"Save Changes"})])],-1),tc=K('<div class="form-group row"><label class="col-lg-3 col-form-label form-control-label">Current password</label><div class="col-lg-9"><input class="form-control" name="current_password" type="password" value=""></div></div><div class="form-group row"><label class="col-lg-3 col-form-label form-control-label">New password</label><div class="col-lg-9"><input class="form-control" name="new_password" type="password" value=""></div></div><div class="form-group row"><label class="col-lg-3 col-form-label form-control-label">Confirm New password</label><div class="col-lg-9"><input class="form-control" name="confirm_new_password" type="password" value=""></div></div><div class="form-group row"><label class="col-lg-3 col-form-label form-control-label"></label><div class="col-lg-9"><input type="submit" class="btn btn-primary" value="Save Changes"></div></div>',4),ec=[tc],sc={class:"table table-striped table-active table-bordered"},ac=s("td",null,"1",-1),oc=s("td",null,"1",-1),nc=s("td",null,"1",-1),lc=s("td",null,"1",-1),ic=s("td",null,"1",-1),rc=s("td",null,"1",-1),dc=[ac,oc,nc,lc,ic,rc];function cc(t,e,a,o,l,n){return c(),u("div",fd,[md,s("div",hd,[s("div",gd,[s("div",vd,[yd,s("div",$d,[s("img",{src:`${t.auth_info.image??"avatar.png"}`,alt:"profile-image",class:"profile"},null,8,bd),s("h5",wd,"Name : "+p(t.auth_info.name),1),s("p",kd,"Eamil : "+p(t.auth_info.email),1),s("p",xd,"Phone : "+p(t.auth_info.phone??"N/A"),1),s("p",Cd,"Address : "+p(t.auth_info.address??"N/A"),1)]),Sd])]),s("div",Dd,[s("div",Ad,[s("div",Td,[s("ul",Ed,[s("li",{class:"nav-item",onClick:e[0]||(e[0]=i=>t.tab="edit")},[s("a",{class:L([t.tab=="edit"?" active":"","nav-link"]),href:"javascript:void();","data-target":"#edit","data-toggle":"pill"},[jd,f(),Rd],2)]),s("li",{class:"nav-item",onClick:e[1]||(e[1]=i=>t.tab="change_password")},[s("a",{class:L([t.tab=="change_password"?"active":"","nav-link"]),href:"javascript:void();","data-target":"#profile","data-toggle":"pill"},[Od,f(),Id],2)])]),s("div",Fd,[t.tab=="edit"?(c(),u("div",{key:0,class:L([t.tab=="edit"?" active":"","tab-pane active"]),id:"profile"},[s("form",{onSubmit:e[6]||(e[6]=g((...i)=>n.UpdateProfileHandler&&n.UpdateProfileHandler(...i),["prevent"])),enctype:"multipart/form-data"},[s("div",Pd,[Bd,s("div",qd,[P(s("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>t.auth_info.name=i),name:"name",class:"form-control",type:"text",value:""},null,512),[[M,t.auth_info.name]])])]),s("div",Ld,[Ud,s("div",Nd,[P(s("input",{"onUpdate:modelValue":e[3]||(e[3]=i=>t.auth_info.email=i),name:"email",class:"form-control",type:"email",value:""},null,512),[[M,t.auth_info.email]])])]),s("div",Vd,[Hd,s("div",zd,[P(s("input",{"onUpdate:modelValue":e[4]||(e[4]=i=>t.auth_info.phone_number=i),name:"phone_number",class:"form-control",type:"number",value:""},null,512),[[M,t.auth_info.phone_number]])])]),s("div",Md,[Wd,s("div",Jd,[P(s("input",{"onUpdate:modelValue":e[5]||(e[5]=i=>t.auth_info.address=i),name:"address",class:"form-control",type:"text",value:"",placeholder:"Street"},null,512),[[M,t.auth_info.address]])])]),s("div",Kd,[Yd,s("div",Gd,[Qd,t.auth_info.image?(c(),u("img",{key:0,class:"mt-2",src:t.auth_info.image,height:"100",width:"100",alt:""},null,8,Xd)):j("",!0)])]),Zd],32)],2)):j("",!0),t.tab=="change_password"?(c(),u("div",{key:1,class:L([t.tab=="change_password"?" active":"","tab-pane"]),id:"change_password"},[s("form",{onSubmit:e[7]||(e[7]=g((...i)=>n.ChangePasswordHandler&&n.ChangePasswordHandler(...i),["prevent"]))},ec,32)],2)):j("",!0),t.tab=="message"?(c(),u("div",{key:2,class:L([t.tab=="message"?" active":"","tab-pane"]),id:"message"},[s("table",sc,[(c(),u(C,null,F(5,i=>s("tr",{key:i},dc)),64))])],2)):j("",!0)])])])])])])}const _c=k(pd,[["render",cc]]),uc={data:()=>({tab:"bassic_settings"}),methods:{...H(Jt,{check_is_auth:"check_is_auth"}),...H(Be,{get_all_website_settings:"get_all_website_settings",get_setting_value:"get_setting_value"}),SiteSettingsHandler:async function(){let t=new FormData(event.target),e=await axios.post("website-settings/store",t);e.data.status=="success"&&(window.s_alert(e.data.message),this.get_all_website_settings())}},computed:{...q(Jt,{auth_info:"auth_info"}),...q(Be,{website_settings_data:"website_settings_data"})},watch:{website_settings_data:{handler:function(){}}}},pc={class:"container-fluid"},fc=s("div",{class:"row pt-2 pb-2"},[s("div",{class:"col-sm-9"},[s("h4",{class:"page-title"},"Site Settings")])],-1),mc={class:"row"},hc={class:"col-lg-10"},gc={class:"card",id:"site_settings"},vc={class:"card-body"},yc={class:"d-flex"},$c={class:"flex-column nav nav-tabs nav-tabs-primary top-icon nav-justified card"},bc=s("i",{class:"icon-note"},null,-1),wc=s("span",{class:"hidden-xs"},"Basic Settings",-1),kc=[bc,wc],xc=s("hr",null,null,-1),Cc=s("i",{class:"icon-note"},null,-1),Sc=s("span",{class:"hidden-xs"},"SEO Settings",-1),Dc=[Cc,Sc],Ac=s("hr",null,null,-1),Tc=s("i",{class:"icon-note"},null,-1),Ec=s("span",{class:"hidden-xs"},"Social Links information",-1),jc=[Tc,Ec],Rc=s("hr",null,null,-1),Oc=s("i",{class:"icon-note"},null,-1),Ic=s("span",{class:"hidden-xs"},"SMTP Settings",-1),Fc=[Oc,Ic],Pc=s("hr",null,null,-1),Bc={class:"ml-2 flex-grow-1 tab-content p-3 card"},qc={class:"form-group row"},Lc=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Site Name",-1),Uc={class:"col-lg-9"},Nc=["value"],Vc={class:"form-group row"},Hc=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Email",-1),zc={class:"col-lg-9"},Mc=["value"],Wc={class:"form-group row"},Jc=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Phone Number",-1),Kc={class:"col-lg-9"},Yc=["value"],Gc={class:"form-group row"},Qc=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Website",-1),Xc={class:"col-lg-9"},Zc=["value"],t_={class:"form-group row"},e_=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Fax Number",-1),s_={class:"col-lg-9"},a_=["value"],o_={class:"form-group row"},n_=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Address",-1),l_={class:"col-lg-9"},i_=["value"],r_={class:"form-group row"},d_=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Site Logo",-1),c_={class:"col-lg-9"},__=s("input",{class:"form-control",name:"image",type:"file"},null,-1),u_=["src"],p_=s("div",{class:"form-group row"},[s("label",{class:"col-lg-3 col-form-label form-control-label"}),s("div",{class:"col-lg-9"},[s("input",{type:"submit",class:"btn btn-primary",value:"Save Changes"})])],-1),f_={class:"form-group row"},m_=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Meta Title",-1),h_={class:"col-lg-9"},g_=["value"],v_={class:"form-group row"},y_=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Meta Description",-1),$_={class:"col-lg-9"},b_=["value"],w_={class:"form-group row"},k_=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Meta Keywords",-1),x_={class:"col-lg-9"},C_=["value"],S_={class:"form-group row"},D_=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Canonical URL",-1),A_={class:"col-lg-9"},T_=["value"],E_=s("div",{class:"form-group row"},[s("label",{class:"col-lg-3 col-form-label form-control-label"}),s("div",{class:"col-lg-9"},[s("input",{type:"submit",class:"btn btn-primary",value:"Save Changes"})])],-1),j_={class:"form-group row"},R_=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Facebook",-1),O_={class:"col-lg-9"},I_=["value"],F_={class:"form-group row"},P_=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Twitter",-1),B_={class:"col-lg-9"},q_=["value"],L_={class:"form-group row"},U_=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Instagram",-1),N_={class:"col-lg-9"},V_=["value"],H_={class:"form-group row"},z_=s("label",{class:"col-lg-3 col-form-label form-control-label"},"LinkedIn",-1),M_={class:"col-lg-9"},W_=["value"],J_={class:"form-group row"},K_=s("label",{class:"col-lg-3 col-form-label form-control-label"},"YouTube",-1),Y_={class:"col-lg-9"},G_=["value"],Q_=s("div",{class:"form-group row"},[s("label",{class:"col-lg-3 col-form-label form-control-label"}),s("div",{class:"col-lg-9"},[s("input",{type:"submit",class:"btn btn-primary",value:"Save Changes"})])],-1),X_={class:"form-group row"},Z_=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Host",-1),tu={class:"col-lg-9"},eu=["value"],su={class:"form-group row"},au=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Port",-1),ou={class:"col-lg-9"},nu=["value"],lu={class:"form-group row"},iu=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Username",-1),ru={class:"col-lg-9"},du=["value"],cu={class:"form-group row"},_u=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Password",-1),uu={class:"col-lg-9"},pu=["value"],fu={class:"form-group row"},mu=s("label",{class:"col-lg-3 col-form-label form-control-label"},"Encryption",-1),hu={class:"col-lg-9"},gu=["value"],vu=s("option",{value:"ssl"}," SSL ",-1),yu=s("option",{value:"tls"}," TLS ",-1),$u=[vu,yu],bu=s("div",{class:"form-group row"},[s("label",{class:"col-lg-3 col-form-label form-control-label"}),s("div",{class:"col-lg-9"},[s("input",{type:"submit",class:"btn btn-primary",value:"Save Details"})])],-1);function wu(t,e,a,o,l,n){return c(),u("div",pc,[fc,s("div",mc,[s("div",hc,[s("div",gc,[s("div",vc,[s("div",yc,[s("ul",$c,[s("li",{class:"nav-item",onClick:e[0]||(e[0]=i=>t.tab="bassic_settings")},[s("a",{class:L([t.tab=="bassic_settings"?" active":"","nav-link"]),href:"javascript:void();","data-target":"#bassic_settings","data-toggle":"pill"},kc,2),xc]),s("li",{class:"nav-item",onClick:e[1]||(e[1]=i=>t.tab="seo_settings")},[s("a",{class:L([t.tab=="seo_settings"?"active":"","nav-link"]),href:"javascript:void();","data-target":"#seo_settings","data-toggle":"pill"},Dc,2),Ac]),s("li",{class:"nav-item",onClick:e[2]||(e[2]=i=>t.tab="social_link")},[s("a",{class:L([t.tab=="social_link"?" active":"","nav-link"]),href:"javascript:void();","data-target":"#social_link","data-toggle":"pill"},jc,2),Rc]),s("li",{class:"nav-item",onClick:e[3]||(e[3]=i=>t.tab="smtp")},[s("a",{class:L([t.tab=="smtp"?" active":"","nav-link"]),href:"javascript:void();","data-target":"#smtp","data-toggle":"pill"},Fc,2),Pc])]),s("div",Bc,[t.tab=="bassic_settings"?(c(),u("div",{key:0,class:L([t.tab=="bassic_settings"?" active":"","tab-pane active"]),id:"bassic_settings"},[s("form",{onSubmit:e[4]||(e[4]=g((...i)=>n.SiteSettingsHandler&&n.SiteSettingsHandler(...i),["prevent"])),enctype:"multipart/form-data"},[s("div",qc,[Lc,s("div",Uc,[s("input",{name:"site_name",class:"form-control",type:"text",value:`${t.get_setting_value("site_name")}`,placeholder:"Enter site name"},null,8,Nc)])]),s("div",Vc,[Hc,s("div",zc,[s("input",{name:"email",class:"form-control",type:"email",placeholder:"Enter email address",value:`${t.get_setting_value("email")}`},null,8,Mc)])]),s("div",Wc,[Jc,s("div",Kc,[s("input",{name:"phone_number",class:"form-control",type:"text",placeholder:"Enter phone number",value:`${t.get_setting_value("phone_numbers")}`},null,8,Yc)])]),s("div",Gc,[Qc,s("div",Xc,[s("input",{name:"website",class:"form-control",type:"text",placeholder:"Enter company website",value:`${t.get_setting_value("website")}`},null,8,Zc)])]),s("div",t_,[e_,s("div",s_,[s("input",{name:"fax_number",class:"form-control",type:"text",placeholder:"Enter fax number (optional)",value:`${t.get_setting_value("fax_number")}`},null,8,a_)])]),s("div",o_,[n_,s("div",l_,[s("textarea",{name:"address",class:"form-control",rows:"3",placeholder:"Enter company address",value:`${t.get_setting_value("address")}`},null,8,i_)])]),s("div",r_,[d_,s("div",c_,[__,t.auth_info.image?(c(),u("img",{key:0,class:"mt-2",src:`${t.get_setting_value("image")}`,height:"100",width:"100",alt:""},null,8,u_)):j("",!0)])]),p_],32)],2)):j("",!0),t.tab=="seo_settings"?(c(),u("div",{key:1,class:L([t.tab=="seo_settings"?" active":"","tab-pane"]),id:"seo_settings"},[s("form",{onSubmit:e[5]||(e[5]=g((...i)=>n.SiteSettingsHandler&&n.SiteSettingsHandler(...i),["prevent"]))},[s("div",f_,[m_,s("div",h_,[s("input",{name:"meta_title",class:"form-control",type:"text",placeholder:"Enter meta title",value:`${t.get_setting_value("meta_title")}`},null,8,g_)])]),s("div",v_,[y_,s("div",$_,[s("textarea",{name:"meta_description",class:"form-control",rows:"3",placeholder:"Enter meta description",value:`${t.get_setting_value("meta_description")}`},`
                                                `,8,b_)])]),s("div",w_,[k_,s("div",x_,[s("input",{name:"meta_keywords",class:"form-control",type:"text",placeholder:"Enter meta keywords (comma-separated)",value:`${t.get_setting_value("meta_keywords")}`},null,8,C_)])]),s("div",S_,[D_,s("div",A_,[s("input",{name:"canonical_url",class:"form-control",type:"text",placeholder:"Enter canonical URL",value:`${t.get_setting_value("canonical_url")}`},null,8,T_)])]),E_],32)],2)):j("",!0),t.tab=="social_link"?(c(),u("div",{key:2,class:L([t.tab=="social_link"?" active":"","tab-pane"]),id:"social_link"},[s("form",{onSubmit:e[6]||(e[6]=g((...i)=>n.SiteSettingsHandler&&n.SiteSettingsHandler(...i),["prevent"]))},[s("div",j_,[R_,s("div",O_,[s("input",{name:"facebook",class:"form-control",type:"text",placeholder:"https://facebook.com/yourpage",value:`${t.get_setting_value("facebook")}`},null,8,I_)])]),s("div",F_,[P_,s("div",B_,[s("input",{name:"twitter",class:"form-control",type:"text",placeholder:"https://twitter.com/yourprofile",value:`${t.get_setting_value("twitter")}`},null,8,q_)])]),s("div",L_,[U_,s("div",N_,[s("input",{name:"instagram",class:"form-control",type:"text",placeholder:"https://instagram.com/yourprofile",value:`${t.get_setting_value("instagram")}`},null,8,V_)])]),s("div",H_,[z_,s("div",M_,[s("input",{name:"linkedin",class:"form-control",type:"text",placeholder:"https://linkedin.com/in/yourprofile",value:`${t.get_setting_value("linkedin")}`},null,8,W_)])]),s("div",J_,[K_,s("div",Y_,[s("input",{name:"youtube",class:"form-control",type:"text",placeholder:"https://youtube.com/yourchannel",value:`${t.get_setting_value("youtube")}`},null,8,G_)])]),Q_],32)],2)):j("",!0),t.tab=="smtp"?(c(),u("div",{key:3,class:L([t.tab=="smtp"?" active":"","tab-pane"]),id:"smtp"},[s("form",{onSubmit:e[7]||(e[7]=g((...i)=>n.SiteSettingsHandler&&n.SiteSettingsHandler(...i),["prevent"]))},[s("div",X_,[Z_,s("div",tu,[s("input",{name:"mail_host",class:"form-control",type:"text",placeholder:"mail.example.com",value:`${t.get_setting_value("mail_host")}`},null,8,eu)])]),s("div",su,[au,s("div",ou,[s("input",{name:"mail_port",class:"form-control",type:"text",placeholder:"465",value:`${t.get_setting_value("mail_port")}`},null,8,nu)])]),s("div",lu,[iu,s("div",ru,[s("input",{name:"mail_username",class:"form-control",type:"text",placeholder:"mainaccount@example.com",value:`${t.get_setting_value("mail_username")}`},null,8,du)])]),s("div",cu,[_u,s("div",uu,[s("input",{name:"mail_password",class:"form-control",type:"text",placeholder:"*********",value:`${t.get_setting_value("mail_password")}`},null,8,pu)])]),s("div",fu,[mu,s("div",hu,[s("select",{name:"mail_encryption",class:"form-control",value:`${t.get_setting_value("mail_encryption")}`},$u,8,gu)])]),bu],32)],2)):j("",!0)])])])])])])])}const ku=k(uc,[["render",wu]]),xu={path:"settings",component:ud,children:[{path:"profile-settings",name:"AdminProfileSettings",component:_c},{path:"site-settings",name:"AdminSiteSettings",component:ku}]},Yt="PurchaseOrderProviding",Z={prefix:Yt,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"purchase-order-collections",module_name:"purchase-order-collection",store_prefix:"purchase_order_collection",route_prefix:"PurchaseOrderCollection",route_path:"purchase-order-collection",select_fields:["id","purchase_order_id","amount","reference","status","slug","created_at","deleted_at"],sort_by_cols:["id","purchase_order_id","amount","reference","status","created_at"],table_header_data:["id","purchase_order","amount","reference","status","created_at"],table_row_data:["id","purchase_order","amount","reference","status","created_at"],layout_title:Yt+" Management",page_title:`${Yt} Management`,all_page_title:"All "+Yt,details_page_title:"Details "+Yt,create_page_title:"Create "+Yt,edit_page_title:"Edit "+Yt},Cu={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:Z.select_fields,sort_by_cols:Z.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function ia(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function ra(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return ia({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw ia({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function Su(t){return t/1024}async function da(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),ra(t,r,i)):a=await ra(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:Su(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:Du,api_version:Au,api_end_point:Tu}=Z;let Eu=async()=>{let t=w(kt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${Du}/${Au}/${Tu}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await da(o,n)):a=await da(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function ju(t){let e=t.target,a=new FormData(e),o=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/store`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Ru(t){let e=w(kt,["item"]),a=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function Ou(t){let e=q(kt,["item"]),a=t.target,o=new FormData(a);o.append("id",e.item().id);let l=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/update/${e.item().slug}`;try{return await A.post(l,o)}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function Iu(){let t=q(kt,["item"]),e=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Fu(){let t=q(kt,["item"]),e=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function Pu(){let t=q(kt,["item"]),e=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Bu(){let t=q(kt,["item"]),e=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function qu(t,e){let a=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function Lu(t){let e=t.target,a=new FormData(e),o=`${Z.api_host}/${Z.api_version}/${Z.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Uu(t={}){let e=kt();e.filter_criteria={...e.filter_criteria,...t}}async function Nu(t={}){w(kt,["item"]).item.set(t)}async function Vu(t=!0){w(kt,["only_latest_data"]).only_latest_data.set(t)}async function Hu(t=1){w(kt,["page"]).page.set(t)}async function zu(t=10){w(kt,["paginate"]).paginate.set(t)}async function Mu(t=!0){w(kt,["show_details_canvas"]).show_details_canvas.set(t)}async function Wu(t=!0){w(kt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function Ju(t="active"){w(kt,["status"]).status.set(t)}async function Ku(){w(kt,["selected"]).selected.set([])}const kt=Vt(Z.store_prefix,{state:()=>Cu,getters:{},actions:{get_all:Eu,create:ju,update:Ou,details:Ru,update_status:Fu,soft_delete:Iu,restore:Pu,destroy:Bu,bulk_action:qu,import_data:Lu,set_page:Hu,set_paginate:zu,set_show_details_canvas:Mu,set_item:Nu,set_show_filter_canvas:Wu,set_filter_criteria:Uu,set_status:Ju,set_only_latest_data:Vu,clear_selected:Ku}});var Yu=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),Gu=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var Qu=function(t){Gu(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(Yu);const xs=Qu;let Xu=Z.store_prefix;async function Zu(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${Z.api_host}/${Z.api_version}/${Z.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=tp(d.data.data.data[0],o);l=new xs(`${Xu}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>ep(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function tp(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function ep(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let sp=Z.store_prefix;function ap(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new xs(`${sp}_list.csv`).setColumns(a).addRows(o).exportFile(),w(kt,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let op=Z.store_prefix;function np(){const t=Z.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new xs(`${op}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var lp="Expected a function",ca=0/0,ip="[object Symbol]",rp=/^\s+|\s+$/g,dp=/^[-+]0x[0-9a-f]+$/i,cp=/^0b[01]+$/i,_p=/^0o[0-7]+$/i,up=parseInt,pp=typeof global=="object"&&global&&global.Object===Object&&global,fp=typeof self=="object"&&self&&self.Object===Object&&self,mp=pp||fp||Function("return this")(),hp=Object.prototype,gp=hp.toString,vp=Math.max,yp=Math.min,Le=function(){return mp.Date.now()};function $p(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(lp);e=_a(e)||0,ns(a)&&(v=!!a.leading,b="maxWait"in a,n=b?vp(_a(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?yp(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=Le();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(Le())}function D(){var h=Le(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function ns(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function bp(t){return!!t&&typeof t=="object"}function wp(t){return typeof t=="symbol"||bp(t)&&gp.call(t)==ip}function _a(t){if(typeof t=="number")return t;if(wp(t))return ca;if(ns(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ns(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(rp,"");var a=cp.test(t);return a||_p.test(t)?up(t.slice(2),a?2:8):dp.test(t)?ca:+t}function kp(t){console.log(t.target.checked);const e=w(kt,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const xp={methods:{set_all_item_selectd:kp}};function Cp(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Cs=k(xp,[["render",Cp]]);const Sp={data:()=>({setup:Z}),components:{SelectAll:Cs}},Dp=t=>(ht("data-v-b9a3a768"),t=t(),gt(),t),Ap=Dp(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),Tp={class:"w-10 text-center"};function Ep(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[Ap,s("th",Tp,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const jp=k(Sp,[["render",Ep],["__scopeId","data-v-b9a3a768"]]);function Rp(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const Op={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:Z})},Ip=s("i",{class:"fa fa-eye text-secondary"},null,-1);function Fp(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[Ip,f(" Show ")]),_:1},8,["to"])}const Pp=k(Op,[["render",Fp]]),Bp={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:Z})},qp=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function Lp(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[qp,f(" Edit ")]),_:1},8,["to"])}const Up=k(Bp,[["render",Lp]]),Np={props:{item:{slug:""}},methods:{...H(kt,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},Vp=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),Hp=s("i",{class:"fa fa-eye text-warning"},null,-1);function zp(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[Vp,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[Hp,f(" Active ")])):j("",!0)],64)}const Mp=k(Np,[["render",zp]]),Wp={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(kt,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},Jp=s("i",{class:"fa fa-ban text-warning"},null,-1),Kp=s("i",{class:"fa fa-ban text-warning"},null,-1);function Yp(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[Jp,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[Kp,f(" Restore data ")])):j("",!0)],64)}const Gp=k(Wp,[["render",Yp]]),Qp={props:{item:{slug:""}},methods:{...H(kt,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},Xp=s("i",{class:"fa fa-trash text-danger"},null,-1);function Zp(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[Xp,f(" Destroy ")])}const tf=k(Qp,[["render",Zp]]),ef={props:{item:{type:Object,default:{}}},components:{DetailsBtn:Pp,Edit:Up,StatusButton:Mp,Destroy:tf,DeleteRestore:Gp},methods:{active_row:Rp}},sf={class:"table_action_btns"};function af(t,e,a,o,l,n){const i=y("details-btn"),d=y("edit"),r=y("status-button"),m=y("delete-restore"),v=y("destroy");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(b=>n.active_row(b),["prevent"])),class:"icon"}),s("div",sf,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const yn=k(ef,[["render",af]]);function of(t,e){const a=w(kt,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const nf={props:["data"],created:function(){},methods:{set_item_selectd:of},computed:{...q(kt,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},lf=["checked"];function rf(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,lf)}const $n=k(nf,[["render",rf]]);const df={props:["data"],data:()=>({setup:Z}),components:{SelectAll:Cs,TableRowAction:yn,SelectSingle:$n},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title.length>50?t.title.substring(0,50)+"...":t.title;if(a==="name"&&t.name)return t.name.substring(0,20)+"..."}return t}}},cf={key:0},_f={key:1,class:"text-wrap max-w-120"};function uf(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,(r,m)=>(c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),(c(!0),u(C,null,F(t.setup.table_row_data,(v,b)=>(c(),u(C,{key:b},[v=="id"?(c(),u("td",cf,p(m+1),1)):(c(),u("td",_f,p(n.trim_content(r[v],v)),1))],64))),128))],2))),128)}const pf=k(df,[["render",uf],["__scopeId","data-v-3d331227"]]),ff={components:{TableHead:jp,TableBody:pf},data:()=>({setup:Z,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:Zu,export_selected_csv:ap,export_demo_csv:np,...H(kt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:$p(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w(kt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},mf={class:"row"},hf={class:"col-sm-12"},gf={class:"card"},vf={class:"card-header"},yf={class:"row align-items-center"},$f={class:"col-12 col-md-3 mb-2 mb-md-0"},bf={class:"text-capitalize mb-0"},wf={class:"col-12 col-md-6 mb-2 mb-md-0"},kf={class:"col-12 col-md-3 text-md-right text-sm-left"},xf=s("i",{class:"fa fa-gear mx-2"},null,-1),Cf={class:"card-body"},Sf={class:"table-responsive table_responsive card_body_fixed_height"},Df={class:"table table-hover text-center table-bordered"},Af={key:0},Tf={class:"mx-3"},Ef={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},jf={class:"pagination my-2",style:{"font-size":"11px"}},Rf=["onClick","href","innerHTML"],Of={class:"d-flex",style:{gap:"5px"}},If=s("span",null,null,-1),Ff=s("span",null,"-",-1),Pf=s("span",null,"of",-1),Bf={class:"d-flex",style:{gap:"5px"}},qf=s("span",null,null,-1),Lf=s("span",null," Limit ",-1),Uf=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),Nf=[Uf],Vf={class:"card-footer py-2"},Hf={class:"d-flex flex-wrap align-items-center"},zf={class:"mr-2 mb-2"},Mf=s("i",{class:"fa fa-edit mr-2"},null,-1),Wf={class:"mr-2 mb-2"},Jf=s("i",{class:"fa fa-print mr-2"},null,-1),Kf={key:0,class:"mr-2 mb-2"},Yf=s("i",{class:"fa fa-sign-out mr-2"},null,-1),Gf={class:"mr-2 mb-2"},Qf=s("i",{class:"fa fa-download mr-2"},null,-1),Xf={class:"mr-2 mb-2"},Zf=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),tm={class:"mr-2 mb-2"},em=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),sm={class:"mr-2 mb-2"},am=s("i",{class:"fa fa-trash mr-2"},null,-1),om={key:1,class:"mr-2 mb-2"},nm=K('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),lm=[nm],im=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),rm={class:"off_canvas_body"},dm={class:"header"},cm=s("h3",{class:"heading_text"},"Filter",-1),_m=s("span",{class:"fa fa-close border p-2"},null,-1),um=[_m],pm={class:"data_content"},fm={class:"filter_item"},mm=s("label",{for:"start_date"},"Start Date",-1),hm={for:"start_date",class:"text-capitalize d-block date_custom_control"},gm={class:"filter_item"},vm=s("label",{for:"end_date"},"End Date",-1),ym={for:"end_date",class:"text-capitalize d-block date_custom_control"},$m={class:"filter_item"},bm=s("label",{for:"sort_by_col"},"Sort By Col",-1),wm={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},km={class:"filter_item"},xm=s("label",{for:"sort_by_col"},"Sort Type",-1),Cm={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},Sm={class:"filter_item"},Dm=s("div",{class:"off_canvas_overlay"},null,-1),Am={class:"modal-dialog modal-dialog-centered"},Tm={class:"modal-content border-primary"},Em={class:"modal-header bg-primary"},jm={class:"modal-title text-white"},Rm=s("span",{"aria-hidden":"true"},"×",-1),Om=[Rm],Im={class:"modal-body"},Fm=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),Pm=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),Bm={class:"modal-footer"},qm=s("i",{class:"fa fa-times"},null,-1),Lm=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function Um(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",mf,[s("div",hf,[s("div",gf,[s("div",vf,[s("div",yf,[s("div",$f,[s("h5",bf,p(t.setup.all_page_title),1)]),s("div",wf,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",kf,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[xf,f("Filter ")])])])]),s("div",Cf,[s("div",Sf,[s("table",Df,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",Af,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",Tf,[s("nav",Ef,[s("ul",jf,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,Rf)],2)}),128))]),s("div",Of,[If,s("span",null,p((S=t.all)==null?void 0:S.from),1),Ff,s("span",null,p((z=t.all)==null?void 0:z.to),1),Pf,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",Bf,[qf,Lf,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},Nf,544),[[J,t.paginate]])])])]),s("div",Vf,[s("div",Hf,[s("div",zf,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[Mf,f(" Create ")]),_:1},8,["to"])]),s("div",Wf,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[Jf,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",Kf,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[Yf,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",Gf,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[Qf,f(" Import ")])]),s("div",Xf,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[Zf,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",tm,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[em,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",sm,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[am,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",om,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},lm,32)])):j("",!0)])])])])]),im,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",rm,[s("div",dm,[cm,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},um)]),s("div",pm,[s("div",fm,[mm,s("label",hm,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",gm,[vm,s("label",ym,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",$m,[bm,s("label",wm,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",km,[xm,s("label",Cm,[P(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",Sm,[s("button",{onClick:e[16]||(e[16]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),Dm],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",Am,[s("form",{onSubmit:e[20]||(e[20]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",Tm,[s("div",Em,[s("h5",jm," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},Om)]),s("div",Im,[Fm,Pm,s("a",{href:"",onClick:e[18]||(e[18]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",Bm,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[qm,f(" Close ")]),Lm])])],32)])],2)])}const Nm=k(ff,[["render",Um]]),Vm=[{name:"purchase_order_id",label:"Select purchase order",type:"select",value:"",data_list:[],onchangeAction:"get_purchase_order_collection_history_by_purchase_order_id"},{name:"amount",label:"Enter your amount",type:"number",value:""},{name:"reference",label:"Enter your reference",type:"text",value:"",row_col_class:"col-md-6"}],Hm={data:()=>({setup:Z,form_fields:Vm,param_id:null,order_details:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t),await this.get_all_sales_orders()},methods:{...H(kt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(o=>{e.name==o[0]&&(this.form_fields[a].value=o[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}},get_all_sales_orders:async function(){let t=await axios.get("purchase-orders?get_all=1");t.data.status=="success"&&(t=t.data.data,this.form_fields[0].data_list=[],t.forEach(e=>{let a={};a.label=e.title+" - "+e.reference,a.value=e.id,this.form_fields[0].data_list.push(a)}))},changeAction:function(t,e,a){this[t](t,e,a)},get_purchase_order_collection_history_by_purchase_order_id:async function(t,e,a){if(e.target.value==""){this.order_details=null;return}let o=await axios.get("purchase-orders/"+e.target.value);o.data.status=="success"&&(this.order_details=o.data.data)}},computed:{...q(kt,{item:"item"})}},zm={class:"card"},Mm={class:"card-header d-flex justify-content-between"},Wm={class:"text-capitalize"},Jm={class:"card-body card_body_fixed_height"},Km={class:"row"},Ym=s("hr",null,null,-1),Gm={key:0,class:"row justify-content-center"},Qm={class:"col-lg-5 card mx-2"},Xm=s("div",{class:"card-header"},[s("h5",null,"Order Details")],-1),Zm={class:"crad-body"},th={class:"table table-bordered table-hover table-striped my-2"},eh=s("th",null,"Order Title",-1),sh=s("th",{class:"text-center"},":",-1),ah=s("th",null,"reference",-1),oh=s("th",{class:"text-center"},":",-1),nh=s("th",null,"Suppliyer",-1),lh=s("th",{class:"text-center"},":",-1),ih={class:"text-trim"},rh=s("th",null,"date",-1),dh=s("th",{class:"text-center"},":",-1),ch=s("th",null,"subtotal",-1),_h=s("th",{class:"text-center"},":",-1),uh=s("th",null,"total",-1),ph=s("th",{class:"text-center"},":",-1),fh=s("th",null,"paid",-1),mh=s("th",{class:"text-center"},":",-1),hh=s("th",null,"due",-1),gh=s("th",{class:"text-center"},":",-1),vh={class:"col-lg-5 card mx-2"},yh=s("div",{class:"card-header"},[s("h5",null,"Order Collection History")],-1),$h={class:"crad-body py-2"},bh={class:"table table-bordered table-hover table-striped"},wh=s("tr",null,[s("th",null,"Date"),s("th",null,"Amount")],-1),kh=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function xh(t,e,a,o,l,n){var r;const i=y("router-link"),d=y("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=g((...m)=>n.submitHandler&&n.submitHandler(...m),["prevent"]))},[s("div",zm,[s("div",Mm,[s("h5",Wm,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),W(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):j("",!0),x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",Jm,[s("div",Km,[(c(!0),u(C,null,F(t.form_fields,(m,v)=>(c(),W(d,{key:v,label:m.label,type:m.type,name:m.name,multiple:m.multiple,value:m.value,data_list:m.data_list,is_visible:m.is_visible,row_col_class:m.row_col_class,onchange:n.changeAction,onchangeAction:m.onchangeAction},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class","onchange","onchangeAction"]))),128))]),Ym,t.order_details?(c(),u("div",Gm,[s("div",Qm,[Xm,s("div",Zm,[s("table",th,[s("tr",null,[eh,sh,s("th",null,p(t.order_details.title),1)]),s("tr",null,[ah,oh,s("th",null,p(t.order_details.reference),1)]),s("tr",null,[nh,lh,s("th",ih,p((r=t.order_details.suppliyer)==null?void 0:r.name),1)]),s("tr",null,[rh,dh,s("th",null,p(t.order_details.date),1)]),s("tr",null,[ch,_h,s("th",null,p(t.order_details.subtotal),1)]),s("tr",null,[uh,ph,s("th",null,p(t.order_details.total),1)]),s("tr",null,[fh,mh,s("th",null,p(t.order_details.paid),1)]),s("tr",null,[hh,gh,s("th",null,p(t.order_details.due),1)])])])]),s("div",vh,[yh,s("div",$h,[s("table",bh,[wh,(c(!0),u(C,null,F(t.order_details.purchase_order_providing_history,m=>(c(),u("tr",{key:m},[s("td",null,p(new Date(m.created_at).toLocaleDateString()),1),s("td",null,p(m.amount),1)]))),128))])])])])):j("",!0)]),kh])],32)])}const ua=k(Hm,[["render",xh]]);const Ch={props:["item"],data:()=>({setup:Z}),components:{SelectAll:Cs,TableRowAction:yn,SelectSingle:$n},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},Sh=t=>(ht("data-v-63397214"),t=t(),gt(),t),Dh=Sh(()=>s("th",{class:"text-center"},":",-1)),Ah={class:"text-trim"};function Th(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),Dh,s("th",Ah,p(n.trim_content(a.item[i],i)),1)]))),128)}const Eh=k(Ch,[["render",Th],["__scopeId","data-v-63397214"]]),jh={components:{DataDetialsTableBody:Eh},data:()=>({setup:Z}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(kt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...w(kt,{item:"item"})}},Rh={class:"card"},Oh={class:"card-header d-flex justify-content-between"},Ih={class:"text-capitalize"},Fh={class:"card-body card_body_fixed_height"},Ph={class:"row"},Bh={class:"col-lg-8"},qh={class:"table quick_modal_table table-bordered"},Lh={class:"card-footer"},Uh=s("i",{class:"fa fa-angle-left"},null,-1),Nh=s("i",{class:"fa fa-angle-right"},null,-1);function Vh(t,e,a,o,l,n){const i=y("router-link"),d=y("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=g((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",Rh,[s("div",Oh,[s("h5",Ih,p(t.setup.details_page_title),1),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",Fh,[s("div",Ph,[s("div",Bh,[s("table",qh,[s("tbody",null,[x(d,{item:t.item},null,8,["item"])])])])])]),s("div",Lh,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(r=>n.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[Uh,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):j("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(r=>n.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),Nh])):j("",!0)])])],32)])}const Hh=k(jh,[["render",Vh]]),zh={};function Mh(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const Wh=k(zh,[["render",Mh]]);let $e=Z.route_prefix,Jh=Z.route_path;const Kh={path:Jh,component:Wh,children:[{path:"all",name:"All"+$e,component:Nm},{path:"create",name:"Create"+$e,component:ua},{path:"details/:id",name:"Details"+$e,component:Hh},{path:"edit/:id",name:"Edit"+$e,component:ua}]},Gt="Report",yt={prefix:Gt,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"purchase-orders",module_name:"purchase-order",store_prefix:"purchase_order",route_prefix:"PurchaseOrder",route_path:"purchase-order",select_fields:["id","title","reference","suppliyer_id","date","currency_id","currency_exchange_rate","expected_time_of_delivery","subtotal","discount","total","total_in_bdt","status","slug","date","deleted_at"],sort_by_cols:["id","title","reference","suppliyer_id","date","currency_id","currency_exchange_rate","expected_time_of_delivery","subtotal","discount","total","total_in_bdt","status","date"],table_header_data:["id","title","expected delivery time","total","total in bdt","status","date"],table_row_data:["id","title","expected_time_of_delivery","total","total_in_bdt","status","date"],layout_title:Gt+" Management",page_title:`${Gt} Management`,all_page_title:"All "+Gt,details_page_title:"Details "+Gt,create_page_title:"Create "+Gt,edit_page_title:"Edit "+Gt},Yh={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:yt.select_fields,sort_by_cols:yt.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function pa(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function fa(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return pa({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw pa({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function Gh(t){return t/1024}async function ma(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),fa(t,r,i)):a=await fa(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:Gh(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:Qh,api_version:Xh,api_end_point:Zh}=yt;let tg=async()=>{let t=w(Ht,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${Qh}/${Xh}/${Zh}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await ma(o,n)):a=await ma(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function eg(t){let e=`${yt.api_host}/${yt.api_version}/${yt.api_end_point}/store`;try{return await A.post(e,t)}catch(a){return a.response.status==422&&window.s_alert("Fill the required input fields.","error"),a.response}}async function sg(t){let e=w(Ht,["item"]),a=`${yt.api_host}/${yt.api_version}/${yt.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function ag(t){let e=q(Ht,["item"]),a=`${yt.api_host}/${yt.api_version}/${yt.api_end_point}/update/${e.item().slug}`;try{return await A.post(a,t)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function og(){let t=q(Ht,["item"]),e=`${yt.api_host}/${yt.api_version}/${yt.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function ng(){let t=q(Ht,["item"]),e=`${yt.api_host}/${yt.api_version}/${yt.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function lg(){let t=q(Ht,["item"]),e=`${yt.api_host}/${yt.api_version}/${yt.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function ig(){let t=q(Ht,["item"]),e=`${yt.api_host}/${yt.api_version}/${yt.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function rg(t,e){let a=`${yt.api_host}/${yt.api_version}/${yt.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function dg(t){let e=t.target,a=new FormData(e),o=`${yt.api_host}/${yt.api_version}/${yt.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function cg(t={}){let e=Ht();e.filter_criteria={...e.filter_criteria,...t}}async function _g(t={}){w(Ht,["item"]).item.set(t)}async function ug(t=!0){w(Ht,["only_latest_data"]).only_latest_data.set(t)}async function pg(t=1){w(Ht,["page"]).page.set(t)}async function fg(t=10){w(Ht,["paginate"]).paginate.set(t)}async function mg(t=!0){w(Ht,["show_details_canvas"]).show_details_canvas.set(t)}async function hg(t=!0){w(Ht,["show_filter_canvas"]).show_filter_canvas.set(t)}async function gg(t="active"){w(Ht,["status"]).status.set(t)}async function vg(){w(Ht,["selected"]).selected.set([])}const Ht=Vt(yt.store_prefix,{state:()=>Yh,getters:{},actions:{get_all:tg,create:eg,update:ag,details:sg,update_status:ng,soft_delete:og,restore:lg,destroy:ig,bulk_action:rg,import_data:dg,set_page:pg,set_paginate:fg,set_show_details_canvas:mg,set_item:_g,set_show_filter_canvas:hg,set_filter_criteria:cg,set_status:gg,set_only_latest_data:ug,clear_selected:vg}});var yg=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),$g=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var bg=function(t){$g(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(yg);const wg=bg;async function bn(t){if(await window.s_confirm("Export all")){window.start_loader();try{let a=["Account Category","Title","Amount"],o=new wg("income_list.csv").setColumns(a);const l=t.map(r=>{var m;return[((m=r.account_category)==null?void 0:m.title)||"N/A",r.title||"N/A",r.amount||0]}),n=["Total","All Income",t.reduce((r,m)=>r+(m.amount||0),0)],i=[...l,n],d=Math.round(Math.random()*100);window.update_loader(d),o.addRows(i),await o.exportFile()}catch(a){console.error("Error exporting CSV:",a),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};const kg={components:{},data:()=>({income_data:[],start_date:"",end_date:""}),created:async function(){await this.get_all_income_report()},methods:{export_all_csv:bn,...H(Ht,["set_show_filter_canvas"]),get_all_income_report:async function(){let t=await axios.get(`get-all-income-report?start_date=${this.start_date}&end_date=${this.end_date}`);console.log(t),t.data.status=="success"&&(this.income_data=t.data.data)}},computed:{...w(Ht,["show_filter_canvas"])},watch:{start_date(t){this.start_date=t},end_date(t){this.end_date=t}}},Mt=t=>(ht("data-v-b35e0a6e"),t=t(),gt(),t),xg={class:"row"},Cg={class:"col-sm-12"},Sg={class:"card"},Dg={class:"card-header"},Ag={class:"row align-items-center justify-content-between"},Tg=Mt(()=>s("div",{class:"col-12 col-md-3 mb-2 mb-md-0"},[s("h5",{class:"text-capitalize mb-0"},"Income Report")],-1)),Eg={class:"col-12 col-md-3 text-md-right text-sm-left"},jg=Mt(()=>s("i",{class:"fa fa-gear mx-2"},null,-1)),Rg=Mt(()=>s("i",{class:"fa fa-gear mx-2"},null,-1)),Og={class:"card-body"},Ig={class:"table-responsive table_responsive card_body_fixed_height"},Fg={class:"table table-hover text-center table-bordered"},Pg=Mt(()=>s("thead",null,[s("tr",null,[s("th",null,"Category"),s("th",null,"Title"),s("th",null,"Amount")])],-1)),Bg=Mt(()=>s("td",{colspan:"2",class:"text-end"},"Amount",-1)),qg={class:"off_canvas_body"},Lg={class:"header"},Ug=Mt(()=>s("h3",{class:"heading_text"},"Filter",-1)),Ng=Mt(()=>s("span",{class:"fa fa-close border p-2"},null,-1)),Vg=[Ng],Hg={class:"data_content"},zg={class:"filter_item"},Mg=Mt(()=>s("label",{for:"start_date"},"Start Date",-1)),Wg={for:"start_date",class:"text-capitalize d-block date_custom_control"},Jg={class:"filter_item"},Kg=Mt(()=>s("label",{for:"end_date"},"End Date",-1)),Yg={for:"end_date",class:"text-capitalize d-block date_custom_control"},Gg={class:"filter_item"},Qg=Mt(()=>s("div",{class:"off_canvas_overlay"},null,-1));function Xg(t,e,a,o,l,n){var i,d;return c(),u("div",null,[s("div",xg,[s("div",Cg,[s("div",Sg,[s("div",Dg,[s("div",Ag,[Tg,s("div",Eg,[(d=(i=t.income_data)==null?void 0:i.data)!=null&&d.length?(c(),u("button",{key:0,class:"btn btn-outline-success btn-sm",onClick:e[0]||(e[0]=g(()=>{var r;return n.export_all_csv((r=t.income_data)==null?void 0:r.data)},["prevent"]))},[jg,f(" Export All ")])):j("",!0),s("button",{class:"btn btn-outline-success btn-sm mx-2",onClick:e[1]||(e[1]=(...r)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(...r))},[Rg,f("Filter ")])])])]),s("div",Og,[s("div",Ig,[s("table",Fg,[Pg,s("tbody",null,[(c(!0),u(C,null,F(t.income_data.data,r=>(c(),u("tr",{key:r},[s("td",null,p(r.account_category.title),1),s("td",null,p(r.title),1),s("td",null,p(r.amount),1)]))),128))]),s("tfoot",null,[s("tr",null,[Bg,s("td",null,p(t.income_data.total),1)])])])])])])])]),s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",qg,[s("div",Lg,[Ug,s("button",{class:"close_button",onClick:e[2]||(e[2]=r=>t.set_show_filter_canvas(!1))},Vg)]),s("div",Hg,[s("div",zg,[Mg,s("label",Wg,[P(s("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>t.start_date=r),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",Jg,[Kg,s("label",Yg,[P(s("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>t.end_date=r),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",Gg,[s("button",{onClick:e[5]||(e[5]=g(r=>n.get_all_income_report(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),Qg],2)])}const Zg=k(kg,[["render",Xg],["__scopeId","data-v-b35e0a6e"]]);const tv={components:{},data:()=>({expense_data:[],start_date:"",end_date:""}),created:async function(){await this.get_all_expense_report()},methods:{export_all_csv:bn,...H(Ht,["set_show_filter_canvas"]),get_all_expense_report:async function(){let t=await axios.get(`get-all-expense-report?start_date=${this.start_date}&end_date=${this.end_date}`);console.log(t),t.data.status=="success"&&(this.expense_data=t.data.data)}},computed:{...w(Ht,["show_filter_canvas"])},watch:{start_date(t){this.start_date=t},end_date(t){this.end_date=t}}},Wt=t=>(ht("data-v-754743c0"),t=t(),gt(),t),ev={class:"row"},sv={class:"col-sm-12"},av={class:"card"},ov={class:"card-header"},nv={class:"row align-items-center justify-content-between"},lv=Wt(()=>s("div",{class:"col-12 col-md-3 mb-2 mb-md-0"},[s("h5",{class:"text-capitalize mb-0"}," Expense Report")],-1)),iv={class:"col-12 col-md-3 text-md-right text-sm-left"},rv=Wt(()=>s("i",{class:"fa fa-gear mx-2"},null,-1)),dv=Wt(()=>s("i",{class:"fa fa-gear mx-2"},null,-1)),cv={class:"card-body"},_v={class:"table-responsive table_responsive card_body_fixed_height"},uv={class:"table table-hover text-center table-bordered"},pv=Wt(()=>s("thead",null,[s("tr",null,[s("th",null,"Category"),s("th",null,"Title"),s("th",null,"Amount")])],-1)),fv=Wt(()=>s("td",{colspan:"2",class:"text-end"},"Amount",-1)),mv={class:"off_canvas_body"},hv={class:"header"},gv=Wt(()=>s("h3",{class:"heading_text"},"Filter",-1)),vv=Wt(()=>s("span",{class:"fa fa-close border p-2"},null,-1)),yv=[vv],$v={class:"data_content"},bv={class:"filter_item"},wv=Wt(()=>s("label",{for:"start_date"},"Start Date",-1)),kv={for:"start_date",class:"text-capitalize d-block date_custom_control"},xv={class:"filter_item"},Cv=Wt(()=>s("label",{for:"end_date"},"End Date",-1)),Sv={for:"end_date",class:"text-capitalize d-block date_custom_control"},Dv={class:"filter_item"},Av=Wt(()=>s("div",{class:"off_canvas_overlay"},null,-1));function Tv(t,e,a,o,l,n){var i,d;return c(),u("div",null,[s("div",ev,[s("div",sv,[s("div",av,[s("div",ov,[s("div",nv,[lv,s("div",iv,[(d=(i=t.expense_data)==null?void 0:i.data)!=null&&d.length?(c(),u("button",{key:0,class:"btn btn-outline-success btn-sm",onClick:e[0]||(e[0]=g(()=>{var r;return n.export_all_csv((r=t.expense_data)==null?void 0:r.data)},["prevent"]))},[rv,f(" Export All ")])):j("",!0),s("button",{class:"btn btn-outline-success btn-sm mx-2",onClick:e[1]||(e[1]=(...r)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(...r))},[dv,f("Filter")])])])]),s("div",cv,[s("div",_v,[s("table",uv,[pv,s("tbody",null,[(c(!0),u(C,null,F(t.expense_data.data,r=>(c(),u("tr",{key:r},[s("td",null,p(r.account_category.title),1),s("td",null,p(r.title),1),s("td",null,p(r.amount),1)]))),128))]),s("tfoot",null,[s("tr",null,[fv,s("td",null,p(t.expense_data.total),1)])])])])])])])]),s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",mv,[s("div",hv,[gv,s("button",{class:"close_button",onClick:e[2]||(e[2]=r=>t.set_show_filter_canvas(!1))},yv)]),s("div",$v,[s("div",bv,[wv,s("label",kv,[P(s("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>t.start_date=r),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",xv,[Cv,s("label",Sv,[P(s("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>t.end_date=r),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",Dv,[s("button",{onClick:e[5]||(e[5]=g(r=>n.get_all_expense_report(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"},"Submit")])])]),Av],2)])}const Ev=k(tv,[["render",Tv],["__scopeId","data-v-754743c0"]]);const jv={data:()=>({income_expense_data:[],start_date:moment().subtract(1,"month").format("YYYY-MM-DD"),end_date:moment().format("YYYY-MM-DD"),year:moment().year()}),created:async function(){await this.get_all_income_expense_report()},methods:{get_all_income_expense_report:async function(){let t=await axios.get(`get-all-income-expense-report?start_date=${this.start_date}&end_date=${this.end_date}`);t.data.status=="success"&&(this.income_expense_data=t.data.data)}},watch:{start_date(t){this.start_date=t,this.get_all_income_expense_report()},end_date(t){this.end_date=t,this.get_all_income_expense_report()}}},Kt=t=>(ht("data-v-7bccc7f9"),t=t(),gt(),t),Rv={class:"row"},Ov={class:"col-sm-12"},Iv={class:"card"},Fv={class:"card-body"},Pv={class:"table-responsive table_responsive card_body_fixed_height"},Bv={class:"table table-bordered text-white"},qv=Kt(()=>s("tr",null,[s("th",{colspan:"4",class:"text-center"},[s("h4",null,"Income Expense Report")])],-1)),Lv=Kt(()=>s("td",{class:"w-25"},"date",-1)),Uv={colspan:"2",class:"w-50"},Nv={class:"w-25"},Vv=Kt(()=>s("tr",null,[s("th",{class:"w-50",colspan:"2"},"Income"),s("th",{class:"w-50",colspan:"2"},"Expense")],-1)),Hv=Kt(()=>s("tr",{class:"row_sticky"},[s("th",null,"description"),s("th",null,"amount"),s("th",null,"description"),s("th",null,"amount")],-1)),zv=Kt(()=>s("td",null,"total income :",-1)),Mv={class:"fw-bold"},Wv=Kt(()=>s("td",{class:"fw-bold"},"total expense :",-1)),Jv=Kt(()=>s("td",null,null,-1)),Kv={colspan:"2",class:"fw-bold"},Yv=Kt(()=>s("td",null,null,-1));function Gv(t,e,a,o,l,n){return c(),u("div",null,[s("div",Rv,[s("div",Ov,[s("div",Iv,[s("div",Fv,[s("div",Pv,[s("table",Bv,[s("thead",null,[qv,s("tr",null,[Lv,s("td",Uv,[P(s("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>t.start_date=i),type:"date",class:"income_expense_date_field"},null,512),[[M,t.start_date]]),f(" To "),P(s("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>t.end_date=i),type:"date",class:"income_expense_date_field"},null,512),[[M,t.end_date]])]),s("td",Nv,p(t.year),1)]),Vv,Hv]),s("tbody",null,[(c(!0),u(C,null,F(t.income_expense_data.rows,i=>(c(),u("tr",{key:i},[s("td",null,p(i.income_category.substr(50)),1),s("td",null,p(i.income_amount),1),s("td",null,p(i.expense_category.substr(50)),1),s("td",null,p(i.expense_amount),1)]))),128))]),s("tfoot",null,[s("tr",null,[zv,s("td",Mv,p(t.income_expense_data.totalIncome),1),Wv,s("td",null,p(t.income_expense_data.totalExpense),1)]),s("tr",null,[Jv,s("td",Kv," total surplus : "+p(t.income_expense_data.surplus),1),Yv])])])])])])])])])}const Qv=k(jv,[["render",Gv],["__scopeId","data-v-7bccc7f9"]]),Xv={};function Zv(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const ty=k(Xv,[["render",Zv]]);let ey=yt.route_path;const sy={path:ey,component:ty,children:[{path:"all-income-report",name:"AllIncomeReport",component:Zg},{path:"all-expense-report",name:"AllExpenseReport",component:Ev},{path:"all-income-expense-report",name:"AllIncomeExpenseReport",component:Qv}]},Qt="WarehouseSwapProduct",tt={prefix:Qt,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"warehouse-swap-products",module_name:"warehouse-swap-product",store_prefix:"warehouse_swap_product",route_prefix:"WarehouseSwapProduct",route_path:"warehouse-swap-product",select_fields:["id","from_warehouse_id","to_warehouse_id","product_id","quantity","status","slug","created_at","deleted_at"],sort_by_cols:["id","from_warehouse_id","to_warehouse_id","quantity","status","created_at"],table_header_data:["id","from warehouse","to warehouse","product","quantity","status","created_at"],table_row_data:["id","from_warehouse","to_warehouse","product","quantity","status","created_at"],layout_title:Qt+" Management",page_title:`${Qt} Management`,all_page_title:"All "+Qt,details_page_title:"Details "+Qt,create_page_title:"Create "+Qt,edit_page_title:"Edit "+Qt},ay={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:tt.select_fields,sort_by_cols:tt.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function ha(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function ga(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return ha({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw ha({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function oy(t){return t/1024}async function va(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),ga(t,r,i)):a=await ga(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:oy(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:ny,api_version:ly,api_end_point:iy}=tt;let ry=async()=>{let t=w(xt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${ny}/${ly}/${iy}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await va(o,n)):a=await va(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function dy(t){let e=t.target,a=new FormData(e),o=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/store`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function cy(t){let e=w(xt,["item"]),a=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function _y(t){let e=q(xt,["item"]),a=t.target,o=new FormData(a);o.append("id",e.item().id);let l=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/update/${e.item().slug}`;try{return await A.post(l,o)}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function uy(){let t=q(xt,["item"]),e=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function py(){let t=q(xt,["item"]),e=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function fy(){let t=q(xt,["item"]),e=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function my(){let t=q(xt,["item"]),e=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function hy(t,e){let a=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function gy(t){let e=t.target,a=new FormData(e),o=`${tt.api_host}/${tt.api_version}/${tt.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function vy(t={}){let e=xt();e.filter_criteria={...e.filter_criteria,...t}}async function yy(t={}){w(xt,["item"]).item.set(t)}async function $y(t=!0){w(xt,["only_latest_data"]).only_latest_data.set(t)}async function by(t=1){w(xt,["page"]).page.set(t)}async function wy(t=10){w(xt,["paginate"]).paginate.set(t)}async function ky(t=!0){w(xt,["show_details_canvas"]).show_details_canvas.set(t)}async function xy(t=!0){w(xt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function Cy(t="active"){w(xt,["status"]).status.set(t)}async function Sy(){w(xt,["selected"]).selected.set([])}const xt=Vt(tt.store_prefix,{state:()=>ay,getters:{},actions:{get_all:ry,create:dy,update:_y,details:cy,update_status:py,soft_delete:uy,restore:fy,destroy:my,bulk_action:hy,import_data:gy,set_page:by,set_paginate:wy,set_show_details_canvas:ky,set_item:yy,set_show_filter_canvas:xy,set_filter_criteria:vy,set_status:Cy,set_only_latest_data:$y,clear_selected:Sy}});var Dy=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),Ay=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var Ty=function(t){Ay(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(Dy);const Ss=Ty;let Ey=tt.store_prefix;async function jy(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${tt.api_host}/${tt.api_version}/${tt.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=Ry(d.data.data.data[0],o);l=new Ss(`${Ey}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>Oy(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function Ry(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function Oy(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let Iy=tt.store_prefix;function Fy(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new Ss(`${Iy}_list.csv`).setColumns(a).addRows(o).exportFile(),w(xt,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let Py=tt.store_prefix;function By(){const t=tt.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new Ss(`${Py}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var qy="Expected a function",ya=0/0,Ly="[object Symbol]",Uy=/^\s+|\s+$/g,Ny=/^[-+]0x[0-9a-f]+$/i,Vy=/^0b[01]+$/i,Hy=/^0o[0-7]+$/i,zy=parseInt,My=typeof global=="object"&&global&&global.Object===Object&&global,Wy=typeof self=="object"&&self&&self.Object===Object&&self,Jy=My||Wy||Function("return this")(),Ky=Object.prototype,Yy=Ky.toString,Gy=Math.max,Qy=Math.min,Ue=function(){return Jy.Date.now()};function Xy(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(qy);e=$a(e)||0,ls(a)&&(v=!!a.leading,b="maxWait"in a,n=b?Gy($a(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?Qy(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=Ue();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(Ue())}function D(){var h=Ue(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function ls(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Zy(t){return!!t&&typeof t=="object"}function t$(t){return typeof t=="symbol"||Zy(t)&&Yy.call(t)==Ly}function $a(t){if(typeof t=="number")return t;if(t$(t))return ya;if(ls(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ls(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Uy,"");var a=Vy.test(t);return a||Hy.test(t)?zy(t.slice(2),a?2:8):Ny.test(t)?ya:+t}function e$(t){console.log(t.target.checked);const e=w(xt,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const s$={methods:{set_all_item_selectd:e$}};function a$(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Ds=k(s$,[["render",a$]]);const o$={data:()=>({setup:tt}),components:{SelectAll:Ds}},n$=t=>(ht("data-v-2d89f2d1"),t=t(),gt(),t),l$=n$(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),i$={class:"w-10 text-center"};function r$(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[l$,s("th",i$,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const d$=k(o$,[["render",r$],["__scopeId","data-v-2d89f2d1"]]);function c$(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const _$={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:tt})},u$=s("i",{class:"fa fa-eye text-secondary"},null,-1);function p$(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[u$,f(" Show ")]),_:1},8,["to"])}const f$=k(_$,[["render",p$]]),m$={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:tt})},h$=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function g$(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[h$,f(" Edit ")]),_:1},8,["to"])}const v$=k(m$,[["render",g$]]),y$={props:{item:{slug:""}},methods:{...H(xt,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},$$=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),b$=s("i",{class:"fa fa-eye text-warning"},null,-1);function w$(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[$$,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[b$,f(" Active ")])):j("",!0)],64)}const k$=k(y$,[["render",w$]]),x$={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(xt,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},C$=s("i",{class:"fa fa-ban text-warning"},null,-1),S$=s("i",{class:"fa fa-ban text-warning"},null,-1);function D$(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[C$,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[S$,f(" Restore data ")])):j("",!0)],64)}const A$=k(x$,[["render",D$]]),T$={props:{item:{slug:""}},methods:{...H(xt,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},E$=s("i",{class:"fa fa-trash text-danger"},null,-1);function j$(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[E$,f(" Destroy ")])}const R$=k(T$,[["render",j$]]),O$={props:{item:{type:Object,default:{}}},components:{DetailsBtn:f$,Edit:v$,StatusButton:k$,Destroy:R$,DeleteRestore:A$},methods:{active_row:c$}},I$={class:"table_action_btns"};function F$(t,e,a,o,l,n){const i=y("details-btn"),d=y("edit"),r=y("status-button"),m=y("delete-restore"),v=y("destroy");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(b=>n.active_row(b),["prevent"])),class:"icon"}),s("div",I$,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const wn=k(O$,[["render",F$]]);function P$(t,e){const a=w(xt,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const B$={props:["data"],created:function(){},methods:{set_item_selectd:P$},computed:{...q(xt,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},q$=["checked"];function L$(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,q$)}const kn=k(B$,[["render",L$]]);const U$={props:["data"],data:()=>({setup:tt}),components:{SelectAll:Ds,TableRowAction:wn,SelectSingle:kn},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},N$={key:0},V$={key:1,class:"text-wrap max-w-120"};function H$(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,(r,m)=>(c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),(c(!0),u(C,null,F(t.setup.table_row_data,(v,b)=>(c(),u(C,{key:b},[v=="id"?(c(),u("td",N$,p(m+1),1)):(c(),u("td",V$,p(n.trim_content(r[v],v)),1))],64))),128))],2))),128)}const z$=k(U$,[["render",H$],["__scopeId","data-v-8ee14712"]]),M$={components:{TableHead:d$,TableBody:z$},data:()=>({setup:tt,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:jy,export_selected_csv:Fy,export_demo_csv:By,...H(xt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:Xy(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w(xt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},W$={class:"row"},J$={class:"col-sm-12"},K$={class:"card"},Y$={class:"card-header"},G$={class:"row align-items-center"},Q$={class:"col-12 col-md-3 mb-2 mb-md-0"},X$={class:"text-capitalize mb-0"},Z$={class:"col-12 col-md-6 mb-2 mb-md-0"},tb={class:"col-12 col-md-3 text-md-right text-sm-left"},eb=s("i",{class:"fa fa-gear mx-2"},null,-1),sb={class:"card-body"},ab={class:"table-responsive table_responsive card_body_fixed_height"},ob={class:"table table-hover text-center table-bordered"},nb={key:0},lb={class:"mx-3"},ib={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},rb={class:"pagination my-2",style:{"font-size":"11px"}},db=["onClick","href","innerHTML"],cb={class:"d-flex",style:{gap:"5px"}},_b=s("span",null,null,-1),ub=s("span",null,"-",-1),pb=s("span",null,"of",-1),fb={class:"d-flex",style:{gap:"5px"}},mb=s("span",null,null,-1),hb=s("span",null," Limit ",-1),gb=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),vb=[gb],yb={class:"card-footer py-2"},$b={class:"d-flex flex-wrap align-items-center"},bb={class:"mr-2 mb-2"},wb=s("i",{class:"fa fa-edit mr-2"},null,-1),kb={class:"mr-2 mb-2"},xb=s("i",{class:"fa fa-print mr-2"},null,-1),Cb={key:0,class:"mr-2 mb-2"},Sb=s("i",{class:"fa fa-sign-out mr-2"},null,-1),Db={class:"mr-2 mb-2"},Ab=s("i",{class:"fa fa-download mr-2"},null,-1),Tb={class:"mr-2 mb-2"},Eb=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),jb={class:"mr-2 mb-2"},Rb=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),Ob={class:"mr-2 mb-2"},Ib=s("i",{class:"fa fa-trash mr-2"},null,-1),Fb={key:1,class:"mr-2 mb-2"},Pb=K('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),Bb=[Pb],qb=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),Lb={class:"off_canvas_body"},Ub={class:"header"},Nb=s("h3",{class:"heading_text"},"Filter",-1),Vb=s("span",{class:"fa fa-close border p-2"},null,-1),Hb=[Vb],zb={class:"data_content"},Mb={class:"filter_item"},Wb=s("label",{for:"start_date"},"Start Date",-1),Jb={for:"start_date",class:"text-capitalize d-block date_custom_control"},Kb={class:"filter_item"},Yb=s("label",{for:"end_date"},"End Date",-1),Gb={for:"end_date",class:"text-capitalize d-block date_custom_control"},Qb={class:"filter_item"},Xb=s("label",{for:"sort_by_col"},"Sort By Col",-1),Zb={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},tw={class:"filter_item"},ew=s("label",{for:"sort_by_col"},"Sort Type",-1),sw={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},aw={class:"filter_item"},ow=s("div",{class:"off_canvas_overlay"},null,-1),nw={class:"modal-dialog modal-dialog-centered"},lw={class:"modal-content border-primary"},iw={class:"modal-header bg-primary"},rw={class:"modal-title text-white"},dw=s("span",{"aria-hidden":"true"},"×",-1),cw=[dw],_w={class:"modal-body"},uw=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),pw=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),fw={class:"modal-footer"},mw=s("i",{class:"fa fa-times"},null,-1),hw=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function gw(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",W$,[s("div",J$,[s("div",K$,[s("div",Y$,[s("div",G$,[s("div",Q$,[s("h5",X$,p(t.setup.all_page_title),1)]),s("div",Z$,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",tb,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[eb,f("Filter ")])])])]),s("div",sb,[s("div",ab,[s("table",ob,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",nb,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",lb,[s("nav",ib,[s("ul",rb,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,db)],2)}),128))]),s("div",cb,[_b,s("span",null,p((S=t.all)==null?void 0:S.from),1),ub,s("span",null,p((z=t.all)==null?void 0:z.to),1),pb,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",fb,[mb,hb,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},vb,544),[[J,t.paginate]])])])]),s("div",yb,[s("div",$b,[s("div",bb,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[wb,f(" Create ")]),_:1},8,["to"])]),s("div",kb,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[xb,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",Cb,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[Sb,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",Db,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[Ab,f(" Import ")])]),s("div",Tb,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[Eb,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",jb,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[Rb,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",Ob,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[Ib,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",Fb,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},Bb,32)])):j("",!0)])])])])]),qb,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",Lb,[s("div",Ub,[Nb,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},Hb)]),s("div",zb,[s("div",Mb,[Wb,s("label",Jb,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",Kb,[Yb,s("label",Gb,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",Qb,[Xb,s("label",Zb,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",tw,[ew,s("label",sw,[P(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",aw,[s("button",{onClick:e[16]||(e[16]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),ow],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",nw,[s("form",{onSubmit:e[20]||(e[20]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",lw,[s("div",iw,[s("h5",rw," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},cw)]),s("div",_w,[uw,pw,s("a",{href:"",onClick:e[18]||(e[18]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",fw,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[mw,f(" Close ")]),hw])])],32)])],2)])}const vw=k(M$,[["render",gw]]),yw=[{name:"from_warehouse_id",label:"Select from warehouse ",type:"select",value:"",data_list:[],onchangeAction:"get_product_available_quantity"},{name:"to_warehouse_id",label:"Select to warehouse ",type:"select",value:"",data_list:[]},{name:"product_id",label:"Select product  ",type:"select",value:"",data_list:[],onchangeAction:"get_product_available_quantity"},{name:"quantity",label:"Enter your quantity",type:"number",value:""}],$w={data:()=>({setup:tt,form_fields:yw,param_id:null,warehouse_id:null,product_id:null,quantity_message:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t),await this.get_all_warehouses()},methods:{...H(xt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(o=>{e.name==o[0]&&(this.form_fields[a].value=o[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}},get_all_warehouses:async function(){var e;let t=await axios.get("ware-houses?get_all=1");t.data.status=="success"&&(t=((e=t.data)==null?void 0:e.data)||[],this.form_fields[0].data_list=[],this.form_fields[1].data_list=[],t.forEach(a=>{let o={};o.label=a==null?void 0:a.name,o.value=a==null?void 0:a.id,this.form_fields[0].data_list.push(o),this.form_fields[1].data_list.push(o)}))},get_all_products_by_warehouse_id:async function(t){var a;let e=await axios.get(`get-all-product-by-warehouse-id?warehouse_id=${t}`);e.data.status=="success"&&(e=((a=e.data)==null?void 0:a.data)||[],this.form_fields[2].data_list=[],e.forEach(o=>{let l={};l.label=o==null?void 0:o.title,l.value=o==null?void 0:o.id,this.form_fields[2].data_list.push(l)}))},changeAction:function(t,e,a){this[t](t,e,a)},get_product_available_quantity:async function(){if(event.target.name=="from_warehouse_id"&&(this.get_all_products_by_warehouse_id(event.target.value),this.ware_house_id=event.target.value),event.target.name=="product_id"&&(this.product_id=event.target.value),console.log(this.ware_house_id,this.product_id),this.ware_house_id&&this.product_id){let t=await axios.get(`get-warehouse-product-available-stock-quantity?warehouse_id=${this.ware_house_id}&product_id=${this.product_id}`);t.data.status=="success"&&(this.quantity_message=t.data.message)}}},computed:{...q(xt,{item:"item"})}},bw={class:"card"},ww={class:"card-header d-flex justify-content-between"},kw={class:"text-capitalize"},xw={class:"card-body card_body_fixed_height"},Cw={key:0,class:"w-50 mx-auto"},Sw={class:"alert alert-danger text-center py-3"},Dw={class:"row"},Aw=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function Tw(t,e,a,o,l,n){const i=y("router-link"),d=y("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=g((...r)=>n.submitHandler&&n.submitHandler(...r),["prevent"]))},[s("div",bw,[s("div",ww,[s("h5",kw,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),W(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):j("",!0),x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",xw,[t.quantity_message?(c(),u("div",Cw,[s("p",Sw,p(t.quantity_message),1)])):j("",!0),s("div",Dw,[(c(!0),u(C,null,F(t.form_fields,(r,m)=>(c(),W(d,{key:m,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class,onchange:n.changeAction,onchangeAction:r.onchangeAction},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class","onchange","onchangeAction"]))),128))])]),Aw])],32)])}const ba=k($w,[["render",Tw]]);const Ew={props:["item"],data:()=>({setup:tt}),components:{SelectAll:Ds,TableRowAction:wn,SelectSingle:kn},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},jw=t=>(ht("data-v-4063a2f5"),t=t(),gt(),t),Rw=jw(()=>s("th",{class:"text-center"},":",-1)),Ow={class:"text-trim"};function Iw(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),Rw,s("th",Ow,p(n.trim_content(a.item[i],i)),1)]))),128)}const Fw=k(Ew,[["render",Iw],["__scopeId","data-v-4063a2f5"]]),Pw={components:{DataDetialsTableBody:Fw},data:()=>({setup:tt}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(xt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...w(xt,{item:"item"})}},Bw={class:"card"},qw={class:"card-header d-flex justify-content-between"},Lw={class:"text-capitalize"},Uw={class:"card-body card_body_fixed_height"},Nw={class:"row"},Vw={class:"col-lg-8"},Hw={class:"table quick_modal_table table-bordered"},zw={class:"card-footer"},Mw=s("i",{class:"fa fa-angle-left"},null,-1),Ww=s("i",{class:"fa fa-angle-right"},null,-1);function Jw(t,e,a,o,l,n){const i=y("router-link"),d=y("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=g((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",Bw,[s("div",qw,[s("h5",Lw,p(t.setup.details_page_title),1),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",Uw,[s("div",Nw,[s("div",Vw,[s("table",Hw,[s("tbody",null,[x(d,{item:t.item},null,8,["item"])])])])])]),s("div",zw,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(r=>n.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[Mw,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):j("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(r=>n.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),Ww])):j("",!0)])])],32)])}const Kw=k(Pw,[["render",Jw]]),Yw={};function Gw(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const Qw=k(Yw,[["render",Gw]]);let be=tt.route_prefix,Xw=tt.route_path;const Zw={path:Xw,component:Qw,children:[{path:"all",name:"All"+be,component:vw},{path:"create",name:"Create"+be,component:ba},{path:"details/:id",name:"Details"+be,component:Kw},{path:"edit/:id",name:"Edit"+be,component:ba}]},Xt="Customer",et={prefix:Xt,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"customers",module_name:"customer",store_prefix:"customer",route_prefix:"Customer",route_path:"customer",select_fields:["id","name","phone","email","address","comment","country","status","slug","created_at","deleted_at"],sort_by_cols:["id","name","phone","email","address","comment","country","status","created_at"],table_header_data:["id","name","phone","email","address","comment","country","status","created_at"],table_row_data:["id","name","phone","email","address","comment","country","status","created_at"],layout_title:Xt+" Management",page_title:`${Xt} Management`,all_page_title:"All "+Xt,details_page_title:"Details "+Xt,create_page_title:"Create "+Xt,edit_page_title:"Edit "+Xt},t1={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:et.select_fields,sort_by_cols:et.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function wa(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function ka(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return wa({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw wa({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function e1(t){return t/1024}async function xa(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),ka(t,r,i)):a=await ka(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:e1(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:s1,api_version:a1,api_end_point:o1}=et;let n1=async()=>{let t=w(Ct,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${s1}/${a1}/${o1}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await xa(o,n)):a=await xa(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function l1(t){let e=t.target,a=new FormData(e),o=`${et.api_host}/${et.api_version}/${et.api_end_point}/store`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function i1(t){let e=w(Ct,["item"]),a=`${et.api_host}/${et.api_version}/${et.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function r1(t){let e=q(Ct,["item"]),a=t.target,o=new FormData(a);o.append("id",e.item().id);let l=`${et.api_host}/${et.api_version}/${et.api_end_point}/update/${e.item().slug}`;try{return await A.post(l,o)}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function d1(){let t=q(Ct,["item"]),e=`${et.api_host}/${et.api_version}/${et.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function c1(){let t=q(Ct,["item"]),e=`${et.api_host}/${et.api_version}/${et.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function _1(){let t=q(Ct,["item"]),e=`${et.api_host}/${et.api_version}/${et.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function u1(){let t=q(Ct,["item"]),e=`${et.api_host}/${et.api_version}/${et.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function p1(t,e){let a=`${et.api_host}/${et.api_version}/${et.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function f1(t){let e=t.target,a=new FormData(e),o=`${et.api_host}/${et.api_version}/${et.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function m1(t={}){let e=Ct();e.filter_criteria={...e.filter_criteria,...t}}async function h1(t={}){w(Ct,["item"]).item.set(t)}async function g1(t=!0){w(Ct,["only_latest_data"]).only_latest_data.set(t)}async function v1(t=1){w(Ct,["page"]).page.set(t)}async function y1(t=10){w(Ct,["paginate"]).paginate.set(t)}async function $1(t=!0){w(Ct,["show_details_canvas"]).show_details_canvas.set(t)}async function b1(t=!0){w(Ct,["show_filter_canvas"]).show_filter_canvas.set(t)}async function w1(t="active"){w(Ct,["status"]).status.set(t)}async function k1(){w(Ct,["selected"]).selected.set([])}const Ct=Vt(et.store_prefix,{state:()=>t1,getters:{},actions:{get_all:n1,create:l1,update:r1,details:i1,update_status:c1,soft_delete:d1,restore:_1,destroy:u1,bulk_action:p1,import_data:f1,set_page:v1,set_paginate:y1,set_show_details_canvas:$1,set_item:h1,set_show_filter_canvas:b1,set_filter_criteria:m1,set_status:w1,set_only_latest_data:g1,clear_selected:k1}});var x1=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),C1=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var S1=function(t){C1(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(x1);const As=S1;let D1=et.store_prefix;async function A1(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${et.api_host}/${et.api_version}/${et.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=T1(d.data.data.data[0],o);l=new As(`${D1}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>E1(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function T1(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function E1(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let j1=et.store_prefix;function R1(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new As(`${j1}_list.csv`).setColumns(a).addRows(o).exportFile(),w(Ct,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let O1=et.store_prefix;function I1(){const t=et.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new As(`${O1}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var F1="Expected a function",Ca=0/0,P1="[object Symbol]",B1=/^\s+|\s+$/g,q1=/^[-+]0x[0-9a-f]+$/i,L1=/^0b[01]+$/i,U1=/^0o[0-7]+$/i,N1=parseInt,V1=typeof global=="object"&&global&&global.Object===Object&&global,H1=typeof self=="object"&&self&&self.Object===Object&&self,z1=V1||H1||Function("return this")(),M1=Object.prototype,W1=M1.toString,J1=Math.max,K1=Math.min,Ne=function(){return z1.Date.now()};function Y1(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(F1);e=Sa(e)||0,is(a)&&(v=!!a.leading,b="maxWait"in a,n=b?J1(Sa(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?K1(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=Ne();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(Ne())}function D(){var h=Ne(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function is(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function G1(t){return!!t&&typeof t=="object"}function Q1(t){return typeof t=="symbol"||G1(t)&&W1.call(t)==P1}function Sa(t){if(typeof t=="number")return t;if(Q1(t))return Ca;if(is(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=is(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(B1,"");var a=L1.test(t);return a||U1.test(t)?N1(t.slice(2),a?2:8):q1.test(t)?Ca:+t}function X1(t){console.log(t.target.checked);const e=w(Ct,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const Z1={methods:{set_all_item_selectd:X1}};function t2(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Ts=k(Z1,[["render",t2]]);const e2={data:()=>({setup:et}),components:{SelectAll:Ts}},s2=t=>(ht("data-v-5ac5f03f"),t=t(),gt(),t),a2=s2(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),o2={class:"w-10 text-center"};function n2(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[a2,s("th",o2,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const l2=k(e2,[["render",n2],["__scopeId","data-v-5ac5f03f"]]);function i2(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const r2={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:et})},d2=s("i",{class:"fa fa-eye text-secondary"},null,-1);function c2(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[d2,f(" Show ")]),_:1},8,["to"])}const _2=k(r2,[["render",c2]]),u2={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:et})},p2=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function f2(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[p2,f(" Edit ")]),_:1},8,["to"])}const m2=k(u2,[["render",f2]]),h2={props:{item:{slug:""}},methods:{...H(Ct,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},g2=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),v2=s("i",{class:"fa fa-eye text-warning"},null,-1);function y2(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[g2,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[v2,f(" Active ")])):j("",!0)],64)}const $2=k(h2,[["render",y2]]),b2={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(Ct,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},w2=s("i",{class:"fa fa-ban text-warning"},null,-1),k2=s("i",{class:"fa fa-ban text-warning"},null,-1);function x2(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[w2,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[k2,f(" Restore data ")])):j("",!0)],64)}const C2=k(b2,[["render",x2]]),S2={props:{item:{slug:""}},methods:{...H(Ct,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},D2=s("i",{class:"fa fa-trash text-danger"},null,-1);function A2(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[D2,f(" Destroy ")])}const T2=k(S2,[["render",A2]]),E2={props:{item:{type:Object,default:{}}},components:{DetailsBtn:_2,Edit:m2,StatusButton:$2,Destroy:T2,DeleteRestore:C2},methods:{active_row:i2}},j2={class:"table_action_btns"};function R2(t,e,a,o,l,n){const i=y("details-btn"),d=y("edit"),r=y("status-button"),m=y("delete-restore"),v=y("destroy");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(b=>n.active_row(b),["prevent"])),class:"icon"}),s("div",j2,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const xn=k(E2,[["render",R2]]);function O2(t,e){const a=w(Ct,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const I2={props:["data"],created:function(){},methods:{set_item_selectd:O2},computed:{...q(Ct,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},F2=["checked"];function P2(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,F2)}const Cn=k(I2,[["render",P2]]);const B2={props:["data"],data:()=>({setup:et}),components:{SelectAll:Ts,TableRowAction:xn,SelectSingle:Cn},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},q2={key:0},L2={key:1,class:"text-wrap max-w-120"};function U2(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,(r,m)=>(c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),(c(!0),u(C,null,F(t.setup.table_row_data,(v,b)=>(c(),u(C,{key:b},[v=="id"?(c(),u("td",q2,p(m+1),1)):(c(),u("td",L2,p(n.trim_content(r[v],v)),1))],64))),128))],2))),128)}const N2=k(B2,[["render",U2],["__scopeId","data-v-eb059722"]]),V2={components:{TableHead:l2,TableBody:N2},data:()=>({setup:et,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:A1,export_selected_csv:R1,export_demo_csv:I1,...H(Ct,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:Y1(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w(Ct,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},H2={class:"row"},z2={class:"col-sm-12"},M2={class:"card"},W2={class:"card-header"},J2={class:"row align-items-center"},K2={class:"col-12 col-md-3 mb-2 mb-md-0"},Y2={class:"text-capitalize mb-0"},G2={class:"col-12 col-md-6 mb-2 mb-md-0"},Q2={class:"col-12 col-md-3 text-md-right text-sm-left"},X2=s("i",{class:"fa fa-gear mx-2"},null,-1),Z2={class:"card-body"},t0={class:"table-responsive table_responsive card_body_fixed_height"},e0={class:"table table-hover text-center table-bordered"},s0={key:0},a0={class:"mx-3"},o0={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},n0={class:"pagination my-2",style:{"font-size":"11px"}},l0=["onClick","href","innerHTML"],i0={class:"d-flex",style:{gap:"5px"}},r0=s("span",null,null,-1),d0=s("span",null,"-",-1),c0=s("span",null,"of",-1),_0={class:"d-flex",style:{gap:"5px"}},u0=s("span",null,null,-1),p0=s("span",null," Limit ",-1),f0=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),m0=[f0],h0={class:"card-footer py-2"},g0={class:"d-flex flex-wrap align-items-center"},v0={class:"mr-2 mb-2"},y0=s("i",{class:"fa fa-edit mr-2"},null,-1),$0={class:"mr-2 mb-2"},b0=s("i",{class:"fa fa-print mr-2"},null,-1),w0={key:0,class:"mr-2 mb-2"},k0=s("i",{class:"fa fa-sign-out mr-2"},null,-1),x0={class:"mr-2 mb-2"},C0=s("i",{class:"fa fa-download mr-2"},null,-1),S0={class:"mr-2 mb-2"},D0=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),A0={class:"mr-2 mb-2"},T0=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),E0={class:"mr-2 mb-2"},j0=s("i",{class:"fa fa-trash mr-2"},null,-1),R0={key:1,class:"mr-2 mb-2"},O0=K('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),I0=[O0],F0=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),P0={class:"off_canvas_body"},B0={class:"header"},q0=s("h3",{class:"heading_text"},"Filter",-1),L0=s("span",{class:"fa fa-close border p-2"},null,-1),U0=[L0],N0={class:"data_content"},V0={class:"filter_item"},H0=s("label",{for:"start_date"},"Start Date",-1),z0={for:"start_date",class:"text-capitalize d-block date_custom_control"},M0={class:"filter_item"},W0=s("label",{for:"end_date"},"End Date",-1),J0={for:"end_date",class:"text-capitalize d-block date_custom_control"},K0={class:"filter_item"},Y0=s("label",{for:"sort_by_col"},"Sort By Col",-1),G0={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},Q0={class:"filter_item"},X0=s("label",{for:"sort_by_col"},"Sort Type",-1),Z0={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},tk={class:"filter_item"},ek=s("div",{class:"off_canvas_overlay"},null,-1),sk={class:"modal-dialog modal-dialog-centered"},ak={class:"modal-content border-primary"},ok={class:"modal-header bg-primary"},nk={class:"modal-title text-white"},lk=s("span",{"aria-hidden":"true"},"×",-1),ik=[lk],rk={class:"modal-body"},dk=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),ck=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),_k={class:"modal-footer"},uk=s("i",{class:"fa fa-times"},null,-1),pk=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function fk(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",H2,[s("div",z2,[s("div",M2,[s("div",W2,[s("div",J2,[s("div",K2,[s("h5",Y2,p(t.setup.all_page_title),1)]),s("div",G2,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",Q2,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[X2,f("Filter ")])])])]),s("div",Z2,[s("div",t0,[s("table",e0,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",s0,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",a0,[s("nav",o0,[s("ul",n0,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,l0)],2)}),128))]),s("div",i0,[r0,s("span",null,p((S=t.all)==null?void 0:S.from),1),d0,s("span",null,p((z=t.all)==null?void 0:z.to),1),c0,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",_0,[u0,p0,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},m0,544),[[J,t.paginate]])])])]),s("div",h0,[s("div",g0,[s("div",v0,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[y0,f(" Create ")]),_:1},8,["to"])]),s("div",$0,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[b0,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",w0,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[k0,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",x0,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[C0,f(" Import ")])]),s("div",S0,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[D0,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",A0,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[T0,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",E0,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[j0,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",R0,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},I0,32)])):j("",!0)])])])])]),F0,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",P0,[s("div",B0,[q0,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},U0)]),s("div",N0,[s("div",V0,[H0,s("label",z0,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",M0,[W0,s("label",J0,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",K0,[Y0,s("label",G0,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",Q0,[X0,s("label",Z0,[P(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",tk,[s("button",{onClick:e[16]||(e[16]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),ek],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",sk,[s("form",{onSubmit:e[20]||(e[20]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",ak,[s("div",ok,[s("h5",nk," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},ik)]),s("div",rk,[dk,ck,s("a",{href:"",onClick:e[18]||(e[18]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",_k,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[uk,f(" Close ")]),pk])])],32)])],2)])}const mk=k(V2,[["render",fk]]),hk=[{name:"name",label:"Enter customer name",type:"text",value:""},{name:"phone",label:"Enter  phone",type:"text",value:""},{name:"email",label:"Enter  email",type:"text",value:""},{name:"address",label:"Enter  address",type:"text",value:""},{name:"comment",label:"Enter  comment",type:"text",value:""},{name:"country",label:"Enter  country",type:"text",value:""}],gk={data:()=>({setup:et,form_fields:hk,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t)},methods:{...H(Ct,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(o=>{e.name==o[0]&&(this.form_fields[a].value=o[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}}},computed:{...q(Ct,{item:"item"})}},vk={class:"card"},yk={class:"card-header d-flex justify-content-between"},$k={class:"text-capitalize"},bk={class:"card-body card_body_fixed_height"},wk={class:"row"},kk=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function xk(t,e,a,o,l,n){const i=y("router-link"),d=y("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=g((...r)=>n.submitHandler&&n.submitHandler(...r),["prevent"]))},[s("div",vk,[s("div",yk,[s("h5",$k,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),W(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):j("",!0),x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",bk,[s("div",wk,[(c(!0),u(C,null,F(t.form_fields,(r,m)=>(c(),W(d,{key:m,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),kk])],32)])}const Da=k(gk,[["render",xk]]);const Ck={props:["item"],data:()=>({setup:et}),components:{SelectAll:Ts,TableRowAction:xn,SelectSingle:Cn},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},Sk=t=>(ht("data-v-dc397f9f"),t=t(),gt(),t),Dk=Sk(()=>s("th",{class:"text-center"},":",-1)),Ak={class:"text-trim"};function Tk(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),Dk,s("th",Ak,p(n.trim_content(a.item[i],i)),1)]))),128)}const Ek=k(Ck,[["render",Tk],["__scopeId","data-v-dc397f9f"]]),jk={components:{DataDetialsTableBody:Ek},data:()=>({setup:et}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(Ct,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...w(Ct,{item:"item"})}},Rk={class:"card"},Ok={class:"card-header d-flex justify-content-between"},Ik={class:"text-capitalize"},Fk={class:"card-body card_body_fixed_height"},Pk={class:"row"},Bk={class:"col-lg-8"},qk={class:"table quick_modal_table table-bordered"},Lk={class:"card-footer"},Uk=s("i",{class:"fa fa-angle-left"},null,-1),Nk=s("i",{class:"fa fa-angle-right"},null,-1);function Vk(t,e,a,o,l,n){const i=y("router-link"),d=y("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=g((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",Rk,[s("div",Ok,[s("h5",Ik,p(t.setup.details_page_title),1),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",Fk,[s("div",Pk,[s("div",Bk,[s("table",qk,[s("tbody",null,[x(d,{item:t.item},null,8,["item"])])])])])]),s("div",Lk,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(r=>n.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[Uk,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):j("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(r=>n.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),Nk])):j("",!0)])])],32)])}const Hk=k(jk,[["render",Vk]]),zk={};function Mk(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const Wk=k(zk,[["render",Mk]]);let we=et.route_prefix,Jk=et.route_path;const Kk={path:Jk,component:Wk,children:[{path:"all",name:"All"+we,component:mk},{path:"create",name:"Create"+we,component:Da},{path:"details/:id",name:"Details"+we,component:Hk},{path:"edit/:id",name:"Edit"+we,component:Da}]},Zt="CustomerGroup",st={prefix:Zt,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"customer-groups",module_name:"customer-group",store_prefix:"customer_group",route_prefix:"CustomerGroup",route_path:"customer-group",select_fields:["id","name","status","slug","created_at","deleted_at"],sort_by_cols:["id","name","status","created_at"],table_header_data:["id","name","status","created_at"],table_row_data:["id","name","status","created_at"],layout_title:Zt+" Management",page_title:`${Zt} Management`,all_page_title:"All "+Zt,details_page_title:"Details "+Zt,create_page_title:"Create "+Zt,edit_page_title:"Edit "+Zt},Yk={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:st.select_fields,sort_by_cols:st.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function Aa(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function Ta(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return Aa({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw Aa({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function Gk(t){return t/1024}async function Ea(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),Ta(t,r,i)):a=await Ta(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:Gk(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:Qk,api_version:Xk,api_end_point:Zk}=st;let tx=async()=>{let t=w(St,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${Qk}/${Xk}/${Zk}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await Ea(o,n)):a=await Ea(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function ex(t){let e=t.target,a=new FormData(e),o=`${st.api_host}/${st.api_version}/${st.api_end_point}/store`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function sx(t){let e=w(St,["item"]),a=`${st.api_host}/${st.api_version}/${st.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function ax(t){let e=q(St,["item"]),a=t.target,o=new FormData(a);o.append("id",e.item().id);let l=`${st.api_host}/${st.api_version}/${st.api_end_point}/update/${e.item().slug}`;try{return await A.post(l,o)}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function ox(){let t=q(St,["item"]),e=`${st.api_host}/${st.api_version}/${st.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function nx(){let t=q(St,["item"]),e=`${st.api_host}/${st.api_version}/${st.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function lx(){let t=q(St,["item"]),e=`${st.api_host}/${st.api_version}/${st.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function ix(){let t=q(St,["item"]),e=`${st.api_host}/${st.api_version}/${st.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function rx(t,e){let a=`${st.api_host}/${st.api_version}/${st.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function dx(t){let e=t.target,a=new FormData(e),o=`${st.api_host}/${st.api_version}/${st.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function cx(t={}){let e=St();e.filter_criteria={...e.filter_criteria,...t}}async function _x(t={}){w(St,["item"]).item.set(t)}async function ux(t=!0){w(St,["only_latest_data"]).only_latest_data.set(t)}async function px(t=1){w(St,["page"]).page.set(t)}async function fx(t=10){w(St,["paginate"]).paginate.set(t)}async function mx(t=!0){w(St,["show_details_canvas"]).show_details_canvas.set(t)}async function hx(t=!0){w(St,["show_filter_canvas"]).show_filter_canvas.set(t)}async function gx(t="active"){w(St,["status"]).status.set(t)}async function vx(){w(St,["selected"]).selected.set([])}const St=Vt(st.store_prefix,{state:()=>Yk,getters:{},actions:{get_all:tx,create:ex,update:ax,details:sx,update_status:nx,soft_delete:ox,restore:lx,destroy:ix,bulk_action:rx,import_data:dx,set_page:px,set_paginate:fx,set_show_details_canvas:mx,set_item:_x,set_show_filter_canvas:hx,set_filter_criteria:cx,set_status:gx,set_only_latest_data:ux,clear_selected:vx}});var yx=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),$x=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var bx=function(t){$x(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(yx);const Es=bx;let wx=st.store_prefix;async function kx(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${st.api_host}/${st.api_version}/${st.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=xx(d.data.data.data[0],o);l=new Es(`${wx}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>Cx(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function xx(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function Cx(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let Sx=st.store_prefix;function Dx(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new Es(`${Sx}_list.csv`).setColumns(a).addRows(o).exportFile(),w(St,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let Ax=st.store_prefix;function Tx(){const t=st.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new Es(`${Ax}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var Ex="Expected a function",ja=0/0,jx="[object Symbol]",Rx=/^\s+|\s+$/g,Ox=/^[-+]0x[0-9a-f]+$/i,Ix=/^0b[01]+$/i,Fx=/^0o[0-7]+$/i,Px=parseInt,Bx=typeof global=="object"&&global&&global.Object===Object&&global,qx=typeof self=="object"&&self&&self.Object===Object&&self,Lx=Bx||qx||Function("return this")(),Ux=Object.prototype,Nx=Ux.toString,Vx=Math.max,Hx=Math.min,Ve=function(){return Lx.Date.now()};function zx(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(Ex);e=Ra(e)||0,rs(a)&&(v=!!a.leading,b="maxWait"in a,n=b?Vx(Ra(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?Hx(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=Ve();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(Ve())}function D(){var h=Ve(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function rs(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Mx(t){return!!t&&typeof t=="object"}function Wx(t){return typeof t=="symbol"||Mx(t)&&Nx.call(t)==jx}function Ra(t){if(typeof t=="number")return t;if(Wx(t))return ja;if(rs(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=rs(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Rx,"");var a=Ix.test(t);return a||Fx.test(t)?Px(t.slice(2),a?2:8):Ox.test(t)?ja:+t}function Jx(t){console.log(t.target.checked);const e=w(St,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const Kx={methods:{set_all_item_selectd:Jx}};function Yx(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const js=k(Kx,[["render",Yx]]);const Gx={data:()=>({setup:st}),components:{SelectAll:js}},Qx=t=>(ht("data-v-e1f8716f"),t=t(),gt(),t),Xx=Qx(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),Zx={class:"w-10 text-center"};function tC(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[Xx,s("th",Zx,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const eC=k(Gx,[["render",tC],["__scopeId","data-v-e1f8716f"]]);function sC(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const aC={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:st})},oC=s("i",{class:"fa fa-eye text-secondary"},null,-1);function nC(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[oC,f(" Show ")]),_:1},8,["to"])}const lC=k(aC,[["render",nC]]),iC={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:st})},rC=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function dC(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[rC,f(" Edit ")]),_:1},8,["to"])}const cC=k(iC,[["render",dC]]),_C={props:{item:{slug:""}},methods:{...H(St,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},uC=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),pC=s("i",{class:"fa fa-eye text-warning"},null,-1);function fC(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[uC,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[pC,f(" Active ")])):j("",!0)],64)}const mC=k(_C,[["render",fC]]),hC={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(St,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},gC=s("i",{class:"fa fa-ban text-warning"},null,-1),vC=s("i",{class:"fa fa-ban text-warning"},null,-1);function yC(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[gC,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[vC,f(" Restore data ")])):j("",!0)],64)}const $C=k(hC,[["render",yC]]),bC={props:{item:{slug:""}},methods:{...H(St,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},wC=s("i",{class:"fa fa-trash text-danger"},null,-1);function kC(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[wC,f(" Destroy ")])}const xC=k(bC,[["render",kC]]),CC={props:{item:{type:Object,default:{}}},components:{DetailsBtn:lC,Edit:cC,StatusButton:mC,Destroy:xC,DeleteRestore:$C},methods:{active_row:sC}},SC={class:"table_action_btns"};function DC(t,e,a,o,l,n){const i=y("details-btn"),d=y("edit"),r=y("status-button"),m=y("delete-restore"),v=y("destroy");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(b=>n.active_row(b),["prevent"])),class:"icon"}),s("div",SC,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const Sn=k(CC,[["render",DC]]);function AC(t,e){const a=w(St,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const TC={props:["data"],created:function(){},methods:{set_item_selectd:AC},computed:{...q(St,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},EC=["checked"];function jC(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,EC)}const Dn=k(TC,[["render",jC]]);const RC={props:["data"],data:()=>({setup:st}),components:{SelectAll:js,TableRowAction:Sn,SelectSingle:Dn},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},OC={key:0},IC={key:1,class:"text-wrap max-w-120"};function FC(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,(r,m)=>(c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),(c(!0),u(C,null,F(t.setup.table_row_data,(v,b)=>(c(),u(C,{key:b},[v=="id"?(c(),u("td",OC,p(m+1),1)):(c(),u("td",IC,p(n.trim_content(r[v],v)),1))],64))),128))],2))),128)}const PC=k(RC,[["render",FC],["__scopeId","data-v-9eb8d23f"]]),BC={components:{TableHead:eC,TableBody:PC},data:()=>({setup:st,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:kx,export_selected_csv:Dx,export_demo_csv:Tx,...H(St,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:zx(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w(St,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},qC={class:"row"},LC={class:"col-sm-12"},UC={class:"card"},NC={class:"card-header"},VC={class:"row align-items-center"},HC={class:"col-12 col-md-3 mb-2 mb-md-0"},zC={class:"text-capitalize mb-0"},MC={class:"col-12 col-md-6 mb-2 mb-md-0"},WC={class:"col-12 col-md-3 text-md-right text-sm-left"},JC=s("i",{class:"fa fa-gear mx-2"},null,-1),KC={class:"card-body"},YC={class:"table-responsive table_responsive card_body_fixed_height"},GC={class:"table table-hover text-center table-bordered"},QC={key:0},XC={class:"mx-3"},ZC={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},tS={class:"pagination my-2",style:{"font-size":"11px"}},eS=["onClick","href","innerHTML"],sS={class:"d-flex",style:{gap:"5px"}},aS=s("span",null,null,-1),oS=s("span",null,"-",-1),nS=s("span",null,"of",-1),lS={class:"d-flex",style:{gap:"5px"}},iS=s("span",null,null,-1),rS=s("span",null," Limit ",-1),dS=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),cS=[dS],_S={class:"card-footer py-2"},uS={class:"d-flex flex-wrap align-items-center"},pS={class:"mr-2 mb-2"},fS=s("i",{class:"fa fa-edit mr-2"},null,-1),mS={class:"mr-2 mb-2"},hS=s("i",{class:"fa fa-print mr-2"},null,-1),gS={key:0,class:"mr-2 mb-2"},vS=s("i",{class:"fa fa-sign-out mr-2"},null,-1),yS={class:"mr-2 mb-2"},$S=s("i",{class:"fa fa-download mr-2"},null,-1),bS={class:"mr-2 mb-2"},wS=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),kS={class:"mr-2 mb-2"},xS=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),CS={class:"mr-2 mb-2"},SS=s("i",{class:"fa fa-trash mr-2"},null,-1),DS={key:1,class:"mr-2 mb-2"},AS=K('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),TS=[AS],ES=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),jS={class:"off_canvas_body"},RS={class:"header"},OS=s("h3",{class:"heading_text"},"Filter",-1),IS=s("span",{class:"fa fa-close border p-2"},null,-1),FS=[IS],PS={class:"data_content"},BS={class:"filter_item"},qS=s("label",{for:"start_date"},"Start Date",-1),LS={for:"start_date",class:"text-capitalize d-block date_custom_control"},US={class:"filter_item"},NS=s("label",{for:"end_date"},"End Date",-1),VS={for:"end_date",class:"text-capitalize d-block date_custom_control"},HS={class:"filter_item"},zS=s("label",{for:"sort_by_col"},"Sort By Col",-1),MS={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},WS={class:"filter_item"},JS=s("label",{for:"sort_by_col"},"Sort Type",-1),KS={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},YS={class:"filter_item"},GS=s("div",{class:"off_canvas_overlay"},null,-1),QS={class:"modal-dialog modal-dialog-centered"},XS={class:"modal-content border-primary"},ZS={class:"modal-header bg-primary"},t3={class:"modal-title text-white"},e3=s("span",{"aria-hidden":"true"},"×",-1),s3=[e3],a3={class:"modal-body"},o3=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),n3=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),l3={class:"modal-footer"},i3=s("i",{class:"fa fa-times"},null,-1),r3=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function d3(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",qC,[s("div",LC,[s("div",UC,[s("div",NC,[s("div",VC,[s("div",HC,[s("h5",zC,p(t.setup.all_page_title),1)]),s("div",MC,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",WC,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[JC,f("Filter ")])])])]),s("div",KC,[s("div",YC,[s("table",GC,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",QC,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",XC,[s("nav",ZC,[s("ul",tS,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,eS)],2)}),128))]),s("div",sS,[aS,s("span",null,p((S=t.all)==null?void 0:S.from),1),oS,s("span",null,p((z=t.all)==null?void 0:z.to),1),nS,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",lS,[iS,rS,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},cS,544),[[J,t.paginate]])])])]),s("div",_S,[s("div",uS,[s("div",pS,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[fS,f(" Create ")]),_:1},8,["to"])]),s("div",mS,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[hS,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",gS,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[vS,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",yS,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[$S,f(" Import ")])]),s("div",bS,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[wS,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",kS,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[xS,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",CS,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[SS,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",DS,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},TS,32)])):j("",!0)])])])])]),ES,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",jS,[s("div",RS,[OS,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},FS)]),s("div",PS,[s("div",BS,[qS,s("label",LS,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",US,[NS,s("label",VS,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",HS,[zS,s("label",MS,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",WS,[JS,s("label",KS,[P(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",YS,[s("button",{onClick:e[16]||(e[16]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),GS],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",QS,[s("form",{onSubmit:e[20]||(e[20]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",XS,[s("div",ZS,[s("h5",t3," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},s3)]),s("div",a3,[o3,n3,s("a",{href:"",onClick:e[18]||(e[18]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",l3,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[i3,f(" Close ")]),r3])])],32)])],2)])}const c3=k(BC,[["render",d3]]),_3=[{name:"name",label:"Enter your name",type:"text",value:""}],u3={data:()=>({setup:st,form_fields:_3,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t)},methods:{...H(St,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(o=>{e.name==o[0]&&(this.form_fields[a].value=o[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}}},computed:{...q(St,{item:"item"})}},p3={class:"card"},f3={class:"card-header d-flex justify-content-between"},m3={class:"text-capitalize"},h3={class:"card-body card_body_fixed_height"},g3={class:"row"},v3=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function y3(t,e,a,o,l,n){const i=y("router-link"),d=y("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=g((...r)=>n.submitHandler&&n.submitHandler(...r),["prevent"]))},[s("div",p3,[s("div",f3,[s("h5",m3,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),W(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):j("",!0),x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",h3,[s("div",g3,[(c(!0),u(C,null,F(t.form_fields,(r,m)=>(c(),W(d,{key:m,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),v3])],32)])}const Oa=k(u3,[["render",y3]]);const $3={props:["item"],data:()=>({setup:st}),components:{SelectAll:js,TableRowAction:Sn,SelectSingle:Dn},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},b3=t=>(ht("data-v-1c4d1852"),t=t(),gt(),t),w3=b3(()=>s("th",{class:"text-center"},":",-1)),k3={class:"text-trim"};function x3(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),w3,s("th",k3,p(n.trim_content(a.item[i],i)),1)]))),128)}const C3=k($3,[["render",x3],["__scopeId","data-v-1c4d1852"]]),S3={components:{DataDetialsTableBody:C3},data:()=>({setup:st}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(St,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...w(St,{item:"item"})}},D3={class:"card"},A3={class:"card-header d-flex justify-content-between"},T3={class:"text-capitalize"},E3={class:"card-body card_body_fixed_height"},j3={class:"row"},R3={class:"col-lg-8"},O3={class:"table quick_modal_table table-bordered"},I3={class:"card-footer"},F3=s("i",{class:"fa fa-angle-left"},null,-1),P3=s("i",{class:"fa fa-angle-right"},null,-1);function B3(t,e,a,o,l,n){const i=y("router-link"),d=y("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=g((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",D3,[s("div",A3,[s("h5",T3,p(t.setup.details_page_title),1),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",E3,[s("div",j3,[s("div",R3,[s("table",O3,[s("tbody",null,[x(d,{item:t.item},null,8,["item"])])])])])]),s("div",I3,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(r=>n.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[F3,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):j("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(r=>n.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),P3])):j("",!0)])])],32)])}const q3=k(S3,[["render",B3]]),L3={};function U3(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const N3=k(L3,[["render",U3]]);let ke=st.route_prefix,V3=st.route_path;const H3={path:V3,component:N3,children:[{path:"all",name:"All"+ke,component:c3},{path:"create",name:"Create"+ke,component:Oa},{path:"details/:id",name:"Details"+ke,component:q3},{path:"edit/:id",name:"Edit"+ke,component:Oa}]},te="AccountExpense",X={prefix:te,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"account-expenses",module_name:"account-expense",store_prefix:"account_expense",route_prefix:"AccountExpense",route_path:"account-expense",select_fields:["id","account_category_id","title","amount","description","user_type","status","is_approved","slug","creator","created_at","deleted_at"],sort_by_cols:["id","title","amount","status","created_at"],table_header_data:["id","account category","title","amount","status","created_at"],table_row_data:["id","account_category","title","amount","status","created_at"],layout_title:te+" Management",page_title:`${te} Management`,all_page_title:"All "+te,details_page_title:"Details "+te,create_page_title:"Create "+te,edit_page_title:"Edit "+te},z3={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:X.select_fields,sort_by_cols:X.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",employee_id:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function Ia(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function Fa(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return Ia({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw Ia({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function M3(t){return t/1024}async function Pa(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),Fa(t,r,i)):a=await Fa(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:M3(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:W3,api_version:J3,api_end_point:K3}=X;let Y3=async()=>{let t=w($t,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${W3}/${J3}/${K3}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await Pa(o,n)):a=await Pa(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function G3(t){let e=t.target,a=new FormData(e),o=`${X.api_host}/${X.api_version}/${X.api_end_point}/store`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Q3(t){let e=w($t,["item"]),a=`${X.api_host}/${X.api_version}/${X.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function X3(t){let e=q($t,["item"]),a=t.target,o=new FormData(a);o.append("id",e.item().id);let l=`${X.api_host}/${X.api_version}/${X.api_end_point}/update/${e.item().slug}`;try{return await A.post(l,o)}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function Z3(){let t=q($t,["item"]),e=`${X.api_host}/${X.api_version}/${X.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function t8(){let t=q($t,["item"]),e=`${X.api_host}/${X.api_version}/${X.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function e8(){let t=q($t,["item"]),e=`${X.api_host}/${X.api_version}/${X.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function s8(){let t=q($t,["item"]),e=`${X.api_host}/${X.api_version}/${X.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function a8(t,e){let a=`${X.api_host}/${X.api_version}/${X.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function o8(t){let e=t.target,a=new FormData(e),o=`${X.api_host}/${X.api_version}/${X.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function n8(t={}){let e=$t();e.filter_criteria={...e.filter_criteria,...t}}async function l8(t={}){w($t,["item"]).item.set(t)}async function i8(t=!0){w($t,["only_latest_data"]).only_latest_data.set(t)}async function r8(t=1){w($t,["page"]).page.set(t)}async function d8(t=10){w($t,["paginate"]).paginate.set(t)}async function c8(t=!0){w($t,["show_details_canvas"]).show_details_canvas.set(t)}async function _8(t=!0){w($t,["show_filter_canvas"]).show_filter_canvas.set(t)}async function u8(t="active"){w($t,["status"]).status.set(t)}async function p8(){w($t,["selected"]).selected.set([])}const $t=Vt(X.store_prefix,{state:()=>z3,getters:{},actions:{get_all:Y3,create:G3,update:X3,details:Q3,update_status:t8,soft_delete:Z3,restore:e8,destroy:s8,bulk_action:a8,import_data:o8,set_page:r8,set_paginate:d8,set_show_details_canvas:c8,set_item:l8,set_show_filter_canvas:_8,set_filter_criteria:n8,set_status:u8,set_only_latest_data:i8,clear_selected:p8}});var f8=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),m8=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var h8=function(t){m8(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(f8);const Rs=h8;let g8=X.store_prefix;async function An(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${X.api_host}/${X.api_version}/${X.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=v8(d.data.data.data[0],o);l=new Rs(`${g8}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>y8(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function v8(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function y8(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let $8=X.store_prefix;function Tn(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new Rs(`${$8}_list.csv`).setColumns(a).addRows(o).exportFile(),w($t,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let b8=X.store_prefix;function En(){const t=X.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new Rs(`${b8}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var w8="Expected a function",Ba=0/0,k8="[object Symbol]",x8=/^\s+|\s+$/g,C8=/^[-+]0x[0-9a-f]+$/i,S8=/^0b[01]+$/i,D8=/^0o[0-7]+$/i,A8=parseInt,T8=typeof global=="object"&&global&&global.Object===Object&&global,E8=typeof self=="object"&&self&&self.Object===Object&&self,j8=T8||E8||Function("return this")(),R8=Object.prototype,O8=R8.toString,I8=Math.max,F8=Math.min,He=function(){return j8.Date.now()};function jn(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(w8);e=qa(e)||0,ds(a)&&(v=!!a.leading,b="maxWait"in a,n=b?I8(qa(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?F8(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=He();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(He())}function D(){var h=He(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function ds(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function P8(t){return!!t&&typeof t=="object"}function B8(t){return typeof t=="symbol"||P8(t)&&O8.call(t)==k8}function qa(t){if(typeof t=="number")return t;if(B8(t))return Ba;if(ds(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ds(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(x8,"");var a=S8.test(t);return a||D8.test(t)?A8(t.slice(2),a?2:8):C8.test(t)?Ba:+t}function q8(t){console.log(t.target.checked);const e=w($t,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const L8={methods:{set_all_item_selectd:q8}};function U8(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Os=k(L8,[["render",U8]]);const N8={data:()=>({setup:X}),components:{SelectAll:Os}},V8=t=>(ht("data-v-2c032eb3"),t=t(),gt(),t),H8=V8(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),z8={class:"w-10 text-center"};function M8(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[H8,s("th",z8,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const Rn=k(N8,[["render",M8],["__scopeId","data-v-2c032eb3"]]);function W8(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const J8={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:X})},K8=s("i",{class:"fa fa-eye text-secondary"},null,-1);function Y8(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[K8,f(" Show ")]),_:1},8,["to"])}const G8=k(J8,[["render",Y8]]),Q8={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:X})},X8=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function Z8(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[X8,f(" Edit ")]),_:1},8,["to"])}const t5=k(Q8,[["render",Z8]]),e5={props:{item:{slug:""}},methods:{...H($t,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},s5=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),a5=s("i",{class:"fa fa-eye text-warning"},null,-1);function o5(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[s5,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[a5,f(" Active ")])):j("",!0)],64)}const n5=k(e5,[["render",o5]]),l5={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H($t,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},i5=s("i",{class:"fa fa-ban text-warning"},null,-1),r5=s("i",{class:"fa fa-ban text-warning"},null,-1);function d5(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[i5,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[r5,f(" Restore data ")])):j("",!0)],64)}const c5=k(l5,[["render",d5]]),_5={props:{item:{slug:""}},methods:{...H($t,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},u5=s("i",{class:"fa fa-trash text-danger"},null,-1);function p5(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[u5,f(" Destroy ")])}const f5=k(_5,[["render",p5]]),m5={props:{item:{type:Object,default:{}}},components:{DetailsBtn:G8,Edit:t5,StatusButton:n5,Destroy:f5,DeleteRestore:c5},methods:{active_row:W8}},h5={class:"table_action_btns"};function g5(t,e,a,o,l,n){const i=y("details-btn"),d=y("edit"),r=y("status-button"),m=y("delete-restore"),v=y("destroy");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(b=>n.active_row(b),["prevent"])),class:"icon"}),s("div",h5,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const On=k(m5,[["render",g5]]);function v5(t,e){const a=w($t,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const y5={props:["data"],created:function(){},methods:{set_item_selectd:v5},computed:{...q($t,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},$5=["checked"];function b5(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,$5)}const In=k(y5,[["render",b5]]);const w5={props:["data"],data:()=>({setup:X}),components:{SelectAll:Os,TableRowAction:On,SelectSingle:In},methods:{updateStatus:async function(t){let e=event.target.checked;await axios.post("account-expenses/update-status?is_approved_status=1",{slug:t,is_approved:e})}}},k5={class:"text-wrap max-w-120"},x5={class:"text-wrap max-w-120"},C5={class:"text-wrap max-w-120"},S5={class:"text-wrap max-w-120"},D5={class:"text-wrap max-w-120"},A5={class:"text-wrap max-w-120"};function T5(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,r=>{var m;return c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),s("td",k5,p(r.id),1),s("td",x5,p(((m=r.account_category)==null?void 0:m.title)??"N/A"),1),s("td",C5,p(r.title??"N/A"),1),s("td",S5,p(r.amount??"N/A"),1),s("td",D5,p(r.is_approved==1?"Approved":"Pending"),1),s("td",A5,p(r.created_at),1)],2)}),128)}const Fn=k(w5,[["render",T5],["__scopeId","data-v-a98884fe"]]),E5={components:{TableHead:Rn,TableBody:Fn},data:()=>({setup:X,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:An,export_selected_csv:Tn,export_demo_csv:En,...H($t,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:jn(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w($t,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},j5={class:"row"},R5={class:"col-sm-12"},O5={class:"card"},I5={class:"card-header"},F5={class:"row align-items-center"},P5={class:"col-12 col-md-3 mb-2 mb-md-0"},B5={class:"text-capitalize mb-0"},q5={class:"col-12 col-md-6 mb-2 mb-md-0"},L5={class:"col-12 col-md-3 text-md-right text-sm-left"},U5=s("i",{class:"fa fa-gear mx-2"},null,-1),N5={class:"card-body"},V5={class:"table-responsive table_responsive card_body_fixed_height"},H5={class:"table table-hover text-center table-bordered"},z5={key:0},M5={class:"mx-3"},W5={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},J5={class:"pagination my-2",style:{"font-size":"11px"}},K5=["onClick","href","innerHTML"],Y5={class:"d-flex",style:{gap:"5px"}},G5=s("span",null,null,-1),Q5=s("span",null,"-",-1),X5=s("span",null,"of",-1),Z5={class:"d-flex",style:{gap:"5px"}},t4=s("span",null,null,-1),e4=s("span",null," Limit ",-1),s4=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),a4=[s4],o4={class:"card-footer py-2"},n4={class:"d-flex flex-wrap align-items-center"},l4={class:"mr-2 mb-2"},i4=s("i",{class:"fa fa-edit mr-2"},null,-1),r4={class:"mr-2 mb-2"},d4=s("i",{class:"fa fa-print mr-2"},null,-1),c4={key:0,class:"mr-2 mb-2"},_4=s("i",{class:"fa fa-sign-out mr-2"},null,-1),u4={class:"mr-2 mb-2"},p4=s("i",{class:"fa fa-download mr-2"},null,-1),f4={class:"mr-2 mb-2"},m4=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),h4={class:"mr-2 mb-2"},g4=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),v4={class:"mr-2 mb-2"},y4=s("i",{class:"fa fa-trash mr-2"},null,-1),$4={key:1,class:"mr-2 mb-2"},b4=K('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),w4=[b4],k4=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),x4={class:"off_canvas_body"},C4={class:"header"},S4=s("h3",{class:"heading_text"},"Filter",-1),D4=s("span",{class:"fa fa-close border p-2"},null,-1),A4=[D4],T4={class:"data_content"},E4={class:"filter_item"},j4=s("label",{for:"start_date"},"Start Date",-1),R4={for:"start_date",class:"text-capitalize d-block date_custom_control"},O4={class:"filter_item"},I4=s("label",{for:"end_date"},"End Date",-1),F4={for:"end_date",class:"text-capitalize d-block date_custom_control"},P4={class:"filter_item"},B4=s("label",{for:"sort_by_col"},"Sort By Col",-1),q4={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},L4={class:"filter_item"},U4=s("label",{for:"sort_by_col"},"Sort Type",-1),N4={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},V4={class:"filter_item"},H4=s("div",{class:"off_canvas_overlay"},null,-1),z4={class:"modal-dialog modal-dialog-centered"},M4={class:"modal-content border-primary"},W4={class:"modal-header bg-primary"},J4={class:"modal-title text-white"},K4=s("span",{"aria-hidden":"true"},"×",-1),Y4=[K4],G4={class:"modal-body"},Q4=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),X4=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),Z4={class:"modal-footer"},tD=s("i",{class:"fa fa-times"},null,-1),eD=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function sD(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",j5,[s("div",R5,[s("div",O5,[s("div",I5,[s("div",F5,[s("div",P5,[s("h5",B5,p(t.setup.all_page_title),1)]),s("div",q5,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",L5,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[U5,f("Filter ")])])])]),s("div",N5,[s("div",V5,[s("table",H5,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",z5,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",M5,[s("nav",W5,[s("ul",J5,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,K5)],2)}),128))]),s("div",Y5,[G5,s("span",null,p((S=t.all)==null?void 0:S.from),1),Q5,s("span",null,p((z=t.all)==null?void 0:z.to),1),X5,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",Z5,[t4,e4,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},a4,544),[[J,t.paginate]])])])]),s("div",o4,[s("div",n4,[s("div",l4,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[i4,f(" Create ")]),_:1},8,["to"])]),s("div",r4,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[d4,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",c4,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[_4,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",u4,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[p4,f(" Import ")])]),s("div",f4,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[m4,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",h4,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[g4,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",v4,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[y4,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",$4,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},w4,32)])):j("",!0)])])])])]),k4,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",x4,[s("div",C4,[S4,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},A4)]),s("div",T4,[s("div",E4,[j4,s("label",R4,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",O4,[I4,s("label",F4,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",P4,[B4,s("label",q4,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",L4,[U4,s("label",N4,[P(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",V4,[s("button",{onClick:e[16]||(e[16]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),H4],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",z4,[s("form",{onSubmit:e[20]||(e[20]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",M4,[s("div",W4,[s("h5",J4," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},Y4)]),s("div",G4,[Q4,X4,s("a",{href:"",onClick:e[18]||(e[18]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",Z4,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[tD,f(" Close ")]),eD])])],32)])],2)])}const aD=k(E5,[["render",sD]]),oD=[{name:"account_category_id",label:"Select account category ",type:"select",value:"",data_list:[]},{name:"title",label:"Enter your title",type:"text",value:""},{name:"amount",label:"Enter your amount",type:"number",value:""},{name:"description",label:"Enter your description",type:"textarea",value:"",row_col_class:"col-md-12"}],nD={data:()=>({setup:X,form_fields:oD,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t),this.get_all_account_categories()},methods:{...H($t,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(o=>{e.name==o[0]&&(this.form_fields[a].value=o[1]),e.name=="description"&&o[0]=="description"&&$("#description").summernote("code",o[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){this.setSummerEditor();let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{this.setSummerEditor();let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}},setSummerEditor(){var t=$("#description").summernote("code"),e=document.createElement("input");e.setAttribute("name","description"),e.value=t,document.getElementById("description").appendChild(e)},get_all_account_categories:async function(){let t=await axios.get("account-categories?get_all=1&type=expense");t.data.status=="success"&&(t=t.data.data,this.form_fields[0].data_list=[],t.forEach(e=>{let a={};a.label=e.title,a.value=e.id,this.form_fields[0].data_list.push(a)}))}},computed:{...q($t,{item:"item"})}},lD={class:"card"},iD={class:"card-header d-flex justify-content-between"},rD={class:"text-capitalize"},dD={class:"card-body card_body_fixed_height"},cD={class:"row"},_D=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function uD(t,e,a,o,l,n){const i=y("router-link"),d=y("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=g((...r)=>n.submitHandler&&n.submitHandler(...r),["prevent"]))},[s("div",lD,[s("div",iD,[s("h5",rD,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),W(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):j("",!0),x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",dD,[s("div",cD,[(c(!0),u(C,null,F(t.form_fields,(r,m)=>(c(),W(d,{key:m,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),_D])],32)])}const La=k(nD,[["render",uD]]);const pD={props:["item"],data:()=>({setup:X}),components:{SelectAll:Os,TableRowAction:On,SelectSingle:In},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},fD=t=>(ht("data-v-2e6fb73f"),t=t(),gt(),t),mD=fD(()=>s("th",{class:"text-center"},":",-1)),hD={class:"text-trim"};function gD(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),mD,s("th",hD,p(n.trim_content(a.item[i],i)),1)]))),128)}const vD=k(pD,[["render",gD],["__scopeId","data-v-2e6fb73f"]]),yD={components:{DataDetialsTableBody:vD},data:()=>({setup:X}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H($t,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...w($t,{item:"item"})}},$D={class:"card"},bD={class:"card-header d-flex justify-content-between"},wD={class:"text-capitalize"},kD={class:"card-body card_body_fixed_height"},xD={class:"row"},CD={class:"col-lg-8"},SD={class:"table quick_modal_table table-bordered"},DD={class:"card-footer"},AD=s("i",{class:"fa fa-angle-left"},null,-1),TD=s("i",{class:"fa fa-angle-right"},null,-1);function ED(t,e,a,o,l,n){const i=y("router-link"),d=y("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=g((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",$D,[s("div",bD,[s("h5",wD,p(t.setup.details_page_title),1),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",kD,[s("div",xD,[s("div",CD,[s("table",SD,[s("tbody",null,[x(d,{item:t.item},null,8,["item"])])])])])]),s("div",DD,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(r=>n.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[AD,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):j("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(r=>n.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),TD])):j("",!0)])])],32)])}const jD=k(yD,[["render",ED]]),RD={components:{TableHead:Rn,TableBody:Fn},data:()=>({setup:X,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv",employees:[]}),created:async function(){this.set_status("pending_voucher"),await this.get_all(),await this.get_employees()},methods:{export_all_csv:An,export_selected_csv:Tn,export_demo_csv:En,...H($t,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),get_employees:async function(){let t=await axios.get("users?employee_list=1&get_all=1");t.data.status==="success"&&(this.employees=t.data.data)},active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:jn(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500),updateStatus:async function(t,e){if(!await window.s_confirm("Are you sure you want to update the status?")){e.is_approved=!e.is_approved;return}let o=t.target.checked;try{let l=await axios.post("account-expenses/update-status",{slug:e.slug,is_approved:o});l.data.status==="success"&&(window.s_alert(l.data.message),this.set_only_latest_data(!0),await this.get_all())}catch{window.s_warning("An error occurred while updating the status.")}}},computed:{...w($t,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","employee_id","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0},employee_id:{handler:function(t){let e={employee_id:t};this.set_filter_criteria(e)},deep:!0}}},OD={class:"row"},ID={class:"col-sm-12"},FD={class:"card"},PD={class:"card-header"},BD={class:"row align-items-center"},qD=s("div",{class:"col-12 col-md-3 mb-2 mb-md-0"},[s("h5",{class:"text-capitalize mb-0"},"All Pending Vouchers")],-1),LD={class:"col-12 col-md-6 mb-2 mb-md-0"},UD={class:"col-12 col-md-3 text-md-right text-sm-left"},ND=s("i",{class:"fa fa-gear mx-2"},null,-1),VD={class:"card-body"},HD={class:"table-responsive table_responsive card_body_fixed_height"},zD={class:"table table-hover text-center table-bordered"},MD=s("th",null,[s("i",{class:"zmdi zmdi-settings zmdi-hc-2x",title:"Actions"})],-1),WD={class:"w-10 text-center"},JD=["checked"],KD=s("th",{class:"w-10"},"ID",-1),YD=s("th",null,"employee",-1),GD=s("th",null,"account category",-1),QD=s("th",null,"title",-1),XD=s("th",null,"amount",-1),ZD=s("th",null,"status",-1),tA=s("th",null,"created_at",-1),eA={class:"table_action_btns"},sA=s("i",{class:"fa fa-eye text-secondary"},null,-1),aA=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1),oA={key:0},nA=["onClick"],lA=s("i",{class:"fa fa-ban text-warning"},null,-1),iA={key:1},rA=["onClick"],dA=s("i",{class:"fa fa-refresh text-warning"},null,-1),cA=["onClick"],_A=s("i",{class:"fa fa-trash text-danger"},null,-1),uA=["onChange","checked"],pA={class:"custom-control custom-switch"},fA=["id","onUpdate:modelValue","onChange"],mA=["for"],hA={class:"mx-3"},gA={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},vA={class:"pagination my-2",style:{"font-size":"11px"}},yA=["onClick","href","innerHTML"],$A={class:"d-flex",style:{gap:"5px"}},bA=s("span",null,null,-1),wA=s("span",null,"-",-1),kA=s("span",null,"of",-1),xA={class:"d-flex",style:{gap:"5px"}},CA=s("span",null,null,-1),SA=s("span",null," Limit ",-1),DA=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),AA=[DA],TA={class:"card-footer py-2"},EA={class:"d-flex flex-wrap align-items-center"},jA={class:"mr-2 mb-2"},RA=s("i",{class:"fa fa-edit mr-2"},null,-1),OA={class:"mr-2 mb-2"},IA=s("i",{class:"fa fa-print mr-2"},null,-1),FA={key:0,class:"mr-2 mb-2"},PA=s("i",{class:"fa fa-sign-out mr-2"},null,-1),BA={class:"mr-2 mb-2"},qA=s("i",{class:"fa fa-download mr-2"},null,-1),LA={class:"mr-2 mb-2"},UA=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),NA={class:"mr-2 mb-2"},VA=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),HA={class:"mr-2 mb-2"},zA=s("i",{class:"fa fa-trash mr-2"},null,-1),MA={key:1,class:"mr-2 mb-2"},WA=K('<option disabled selected>Select action</option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete">Soft Delete</option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),JA=[WA],KA=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),YA={class:"off_canvas_body"},GA={class:"header"},QA=s("h3",{class:"heading_text"},"Filter",-1),XA=s("span",{class:"fa fa-close border p-2"},null,-1),ZA=[XA],t6={class:"data_content"},e6={class:"filter_item"},s6=s("label",{for:"start_date"},"Start Date",-1),a6={for:"start_date",class:"text-capitalize d-block date_custom_control"},o6={class:"filter_item"},n6=s("label",{for:"end_date"},"End Date",-1),l6={for:"end_date",class:"text-capitalize d-block date_custom_control"},i6={class:"filter_item"},r6=s("label",{for:"sort_by_col"},"Employee",-1),d6={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},c6=["value"],_6={class:"filter_item"},u6=s("label",{for:"sort_by_col"},"Sort By Col",-1),p6={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},f6={class:"filter_item"},m6=s("label",{for:"sort_by_col"},"Sort Type",-1),h6={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},g6={class:"filter_item"},v6=s("div",{class:"off_canvas_overlay"},null,-1),y6={class:"modal-dialog modal-dialog-centered"},$6={class:"modal-content border-primary"},b6={class:"modal-header bg-primary"},w6={class:"modal-title text-white"},k6=s("span",{"aria-hidden":"true"},"×",-1),x6=[k6],C6={class:"modal-body"},S6=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),D6=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),A6={class:"modal-footer"},T6=s("i",{class:"fa fa-times"},null,-1),E6=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function j6(t,e,a,o,l,n){var d,r,m,v,b,B,S,z;const i=y("router-link");return c(),u("div",null,[s("div",OD,[s("div",ID,[s("div",FD,[s("div",PD,[s("div",BD,[qD,s("div",LD,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=T=>n.set_search_key(T)),placeholder:"Search"},null,32)]),s("div",UD,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(...T)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(...T))},[ND,f("Filter ")])])])]),s("div",VD,[s("div",HD,[s("table",zD,[s("thead",null,[s("tr",null,[MD,s("th",WD,[s("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[2]||(e[2]=T=>n.set_all_item_selected(T)),type:"checkbox",checked:n.isAllSelected},null,40,JD)]),KD,YD,GD,QD,XD,ZD,tA])]),s("tbody",null,[(c(!0),u(C,null,F((d=t.all)==null?void 0:d.data,T=>{var V,I;return c(),u("tr",{key:T.id,class:L(`table_rows table_row_${T.id}`)},[s("td",null,[s("span",{class:"icon",onClick:e[3]||(e[3]=g(O=>n.active_row(O),["prevent"]))}),s("div",eA,[s("ul",null,[s("li",null,[x(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:T.slug}},class:"border-secondary"},{default:U(()=>[sA,f(" Show ")]),_:2},1032,["to"])]),s("li",null,[x(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:T.slug}},class:"border-secondary"},{default:U(()=>[aA,f(" Edit ")]),_:2},1032,["to"])]),t.is_trashed_data?j("",!0):(c(),u("li",oA,[s("a",{onClick:g(O=>n.softDelete(T),["prevent"]),href:"",class:"border-danger"},[lA,f(" Soft Delete ")],8,nA)])),t.is_trashed_data?(c(),u("li",iA,[s("a",{onClick:g(O=>n.restore_data(T),["prevent"]),href:"",class:"border-danger"},[dA,f(" Restore data ")],8,rA)])):j("",!0),s("li",null,[s("a",{onClick:g(O=>n.destroy_data(T),["prevent"]),href:"",class:"border-danger"},[_A,f(" Destroy ")],8,cA)])])])]),s("td",null,[s("input",{onChange:O=>n.set_item_selected(T,O),checked:n.isSelected(T),class:"form-check-input ml-0",type:"checkbox"},null,40,uA)]),s("td",null,p(T.id),1),s("td",null,p((V=T.user)==null?void 0:V.name),1),s("td",null,p((I=T.account_category)==null?void 0:I.title.substr(0,50)),1),s("td",null,p(T.title.substr(0,50)),1),s("td",null,p(T.amount),1),s("td",null,[s("div",pA,[P(s("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch"+T.id,"onUpdate:modelValue":O=>T.is_approved=O,onChange:O=>n.updateStatus(O,T)},null,40,fA),[[pl,T.is_approved]]),s("label",{class:"custom-control-label",for:"customSwitch"+T.id},p(T.is_approved==1?"Approved":"Not Approved"),9,mA)])]),s("td",null,p(T.created_at),1)],2)}),128))])])])]),s("div",hA,[s("nav",gA,[s("ul",vA,[(c(!0),u(C,null,F((r=t.all)==null?void 0:r.links,(T,V)=>{var I,O,_;return c(),u("li",{key:V,class:L(["page-item",{active:T.active}])},[s("a",{class:L(["page-link",((I=t.all)==null?void 0:I.current_page)==((O=t.all)==null?void 0:O.last_page)&&((_=t.all)==null?void 0:_.links.length)-1==V?"disabled":""]),onClick:g(R=>n.set_page_data(T),["prevent"]),href:T.url,innerHTML:`<span>${T.label}</span>`},null,10,yA)],2)}),128))]),s("div",$A,[bA,s("span",null,p((m=t.all)==null?void 0:m.from),1),wA,s("span",null,p((v=t.all)==null?void 0:v.to),1),kA,s("span",null,p((b=t.all)==null?void 0:b.total),1)]),s("div",xA,[CA,SA,P(s("select",{"onUpdate:modelValue":e[4]||(e[4]=T=>t.paginate=T),onChange:e[5]||(e[5]=(...T)=>n.set_per_page_limit&&n.set_per_page_limit(...T)),class:"bg-transparent text-white rounded-1"},AA,544),[[J,t.paginate]])])])]),s("div",TA,[s("div",EA,[s("div",jA,[x(i,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[RA,f(" Create ")]),_:1},8,["to"])]),s("div",OA,[s("a",{href:"",onClick:e[6]||(e[6]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[IA,f(" Export All ")])]),(B=this.selected)!=null&&B.length?(c(),u("div",FA,[s("a",{href:"",onClick:e[7]||(e[7]=g(T=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[PA,f(" Export ("+p((S=this.selected)==null?void 0:S.length)+") ",1)])])):j("",!0),s("div",BA,[s("a",{href:"",onClick:e[8]||(e[8]=g(T=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[qA,f(" Import ")])]),s("div",LA,[s("a",{href:"",onClick:e[9]||(e[9]=g(T=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[UA,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",NA,[s("a",{href:"",onClick:e[10]||(e[10]=g(T=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[VA,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",HA,[s("a",{href:"",onClick:e[11]||(e[11]=g(T=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[zA,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(z=this.selected)!=null&&z.length?(c(),u("div",MA,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[12]||(e[12]=(...T)=>n.bulkActions&&n.bulkActions(...T))},JA,32)])):j("",!0)])])])])]),KA,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",YA,[s("div",GA,[QA,s("button",{class:"close_button",onClick:e[13]||(e[13]=T=>t.set_show_filter_canvas(!1))},ZA)]),s("div",t6,[s("div",e6,[s6,s("label",a6,[P(s("input",{"onUpdate:modelValue":e[14]||(e[14]=T=>t.start_date=T),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",o6,[n6,s("label",l6,[P(s("input",{"onUpdate:modelValue":e[15]||(e[15]=T=>t.end_date=T),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",i6,[r6,s("label",d6,[P(s("select",{"onUpdate:modelValue":e[16]||(e[16]=T=>t.employee_id=T),class:"form-control"},[(c(!0),u(C,null,F(t.employees,T=>(c(),u("option",{key:T,value:T.id},p(T.name),9,c6))),128))],512),[[J,t.employee_id]])])]),s("div",_6,[u6,s("label",p6,[P(s("select",{"onUpdate:modelValue":e[17]||(e[17]=T=>t.sort_by_col=T),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,T=>(c(),u("option",{key:T},p(T),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",f6,[m6,s("label",h6,[P(s("select",{"onUpdate:modelValue":e[18]||(e[18]=T=>t.sort_type=T),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],T=>s("option",{key:T},p(T),1)),64))],512),[[J,t.sort_type]])])]),s("div",g6,[s("button",{onClick:e[19]||(e[19]=g(T=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),v6],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",y6,[s("form",{onSubmit:e[23]||(e[23]=g((...T)=>n.FileUploadHandler&&n.FileUploadHandler(...T),["prevent"]))},[s("div",$6,[s("div",b6,[s("h5",w6,"Import "+p(t.setup.prefix),1),s("button",{onClick:e[20]||(e[20]=T=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},x6)]),s("div",C6,[S6,D6,s("a",{href:"",onClick:e[21]||(e[21]=g((...T)=>n.export_demo_csv&&n.export_demo_csv(...T),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",A6,[s("button",{onClick:e[22]||(e[22]=T=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[T6,f(" Close ")]),E6])])],32)])],2)])}const R6=k(RD,[["render",j6]]),O6={};function I6(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const F6=k(O6,[["render",I6]]);let xe=X.route_prefix,P6=X.route_path;const B6={path:P6,component:F6,children:[{path:"all",name:"All"+xe,component:aD},{path:"create",name:"Create"+xe,component:La},{path:"details/:id",name:"Details"+xe,component:jD},{path:"edit/:id",name:"Edit"+xe,component:La},{path:"pending",name:"AllPendingVoucher",component:R6}]},ee="AccountIncome",at={prefix:ee,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"account-incomes",module_name:"account-income",store_prefix:"account_income",route_prefix:"AccountIncome",route_path:"account-income",select_fields:["id","account_category_id","title","amount","description","status","slug","created_at","deleted_at"],sort_by_cols:["id","account_category_id","title","amount","description","status","created_at"],table_header_data:["id","account category","title","amount","status","created_at"],table_row_data:["id","account_category","title","amount","status","created_at"],layout_title:ee+" Management",page_title:`${ee} Management`,all_page_title:"All "+ee,details_page_title:"Details "+ee,create_page_title:"Create "+ee,edit_page_title:"Edit "+ee},q6={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:at.select_fields,sort_by_cols:at.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function Ua(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function Na(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return Ua({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw Ua({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function L6(t){return t/1024}async function Va(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),Na(t,r,i)):a=await Na(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:L6(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:U6,api_version:N6,api_end_point:V6}=at;let H6=async()=>{let t=w(Dt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${U6}/${N6}/${V6}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await Va(o,n)):a=await Va(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function z6(t){let e=t.target,a=new FormData(e),o=`${at.api_host}/${at.api_version}/${at.api_end_point}/store`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function M6(t){let e=w(Dt,["item"]),a=`${at.api_host}/${at.api_version}/${at.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function W6(t){let e=q(Dt,["item"]),a=t.target,o=new FormData(a);o.append("id",e.item().id);let l=`${at.api_host}/${at.api_version}/${at.api_end_point}/update/${e.item().slug}`;try{return await A.post(l,o)}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function J6(){let t=q(Dt,["item"]),e=`${at.api_host}/${at.api_version}/${at.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function K6(){let t=q(Dt,["item"]),e=`${at.api_host}/${at.api_version}/${at.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function Y6(){let t=q(Dt,["item"]),e=`${at.api_host}/${at.api_version}/${at.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function G6(){let t=q(Dt,["item"]),e=`${at.api_host}/${at.api_version}/${at.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Q6(t,e){let a=`${at.api_host}/${at.api_version}/${at.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function X6(t){let e=t.target,a=new FormData(e),o=`${at.api_host}/${at.api_version}/${at.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Z6(t={}){let e=Dt();e.filter_criteria={...e.filter_criteria,...t}}async function tT(t={}){w(Dt,["item"]).item.set(t)}async function eT(t=!0){w(Dt,["only_latest_data"]).only_latest_data.set(t)}async function sT(t=1){w(Dt,["page"]).page.set(t)}async function aT(t=10){w(Dt,["paginate"]).paginate.set(t)}async function oT(t=!0){w(Dt,["show_details_canvas"]).show_details_canvas.set(t)}async function nT(t=!0){w(Dt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function lT(t="active"){w(Dt,["status"]).status.set(t)}async function iT(){w(Dt,["selected"]).selected.set([])}const Dt=Vt(at.store_prefix,{state:()=>q6,getters:{},actions:{get_all:H6,create:z6,update:W6,details:M6,update_status:K6,soft_delete:J6,restore:Y6,destroy:G6,bulk_action:Q6,import_data:X6,set_page:sT,set_paginate:aT,set_show_details_canvas:oT,set_item:tT,set_show_filter_canvas:nT,set_filter_criteria:Z6,set_status:lT,set_only_latest_data:eT,clear_selected:iT}});var rT=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),dT=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var cT=function(t){dT(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(rT);const Is=cT;let _T=at.store_prefix;async function uT(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${at.api_host}/${at.api_version}/${at.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=pT(d.data.data.data[0],o);l=new Is(`${_T}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>fT(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function pT(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function fT(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let mT=at.store_prefix;function hT(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new Is(`${mT}_list.csv`).setColumns(a).addRows(o).exportFile(),w(Dt,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let gT=at.store_prefix;function vT(){const t=at.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new Is(`${gT}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var yT="Expected a function",Ha=0/0,$T="[object Symbol]",bT=/^\s+|\s+$/g,wT=/^[-+]0x[0-9a-f]+$/i,kT=/^0b[01]+$/i,xT=/^0o[0-7]+$/i,CT=parseInt,ST=typeof global=="object"&&global&&global.Object===Object&&global,DT=typeof self=="object"&&self&&self.Object===Object&&self,AT=ST||DT||Function("return this")(),TT=Object.prototype,ET=TT.toString,jT=Math.max,RT=Math.min,ze=function(){return AT.Date.now()};function OT(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(yT);e=za(e)||0,cs(a)&&(v=!!a.leading,b="maxWait"in a,n=b?jT(za(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?RT(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=ze();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(ze())}function D(){var h=ze(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function cs(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function IT(t){return!!t&&typeof t=="object"}function FT(t){return typeof t=="symbol"||IT(t)&&ET.call(t)==$T}function za(t){if(typeof t=="number")return t;if(FT(t))return Ha;if(cs(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=cs(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(bT,"");var a=kT.test(t);return a||xT.test(t)?CT(t.slice(2),a?2:8):wT.test(t)?Ha:+t}function PT(t){console.log(t.target.checked);const e=w(Dt,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const BT={methods:{set_all_item_selectd:PT}};function qT(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Fs=k(BT,[["render",qT]]);const LT={data:()=>({setup:at}),components:{SelectAll:Fs}},UT=t=>(ht("data-v-ae070ab1"),t=t(),gt(),t),NT=UT(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),VT={class:"w-10 text-center"};function HT(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[NT,s("th",VT,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const zT=k(LT,[["render",HT],["__scopeId","data-v-ae070ab1"]]);function MT(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const WT={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:at})},JT=s("i",{class:"fa fa-eye text-secondary"},null,-1);function KT(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[JT,f(" Show ")]),_:1},8,["to"])}const YT=k(WT,[["render",KT]]),GT={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:at})},QT=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function XT(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[QT,f(" Edit ")]),_:1},8,["to"])}const ZT=k(GT,[["render",XT]]),tE={props:{item:{slug:""}},methods:{...H(Dt,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},eE=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),sE=s("i",{class:"fa fa-eye text-warning"},null,-1);function aE(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[eE,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[sE,f(" Active ")])):j("",!0)],64)}const oE=k(tE,[["render",aE]]),nE={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(Dt,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},lE=s("i",{class:"fa fa-ban text-warning"},null,-1),iE=s("i",{class:"fa fa-ban text-warning"},null,-1);function rE(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[lE,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[iE,f(" Restore data ")])):j("",!0)],64)}const dE=k(nE,[["render",rE]]),cE={props:{item:{slug:""}},methods:{...H(Dt,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},_E=s("i",{class:"fa fa-trash text-danger"},null,-1);function uE(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[_E,f(" Destroy ")])}const pE=k(cE,[["render",uE]]),fE={props:{item:{type:Object,default:{}}},components:{DetailsBtn:YT,Edit:ZT,StatusButton:oE,Destroy:pE,DeleteRestore:dE},methods:{active_row:MT}},mE={class:"table_action_btns"};function hE(t,e,a,o,l,n){const i=y("details-btn"),d=y("edit"),r=y("status-button"),m=y("delete-restore"),v=y("destroy");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(b=>n.active_row(b),["prevent"])),class:"icon"}),s("div",mE,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const Pn=k(fE,[["render",hE]]);function gE(t,e){const a=w(Dt,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const vE={props:["data"],created:function(){},methods:{set_item_selectd:gE},computed:{...q(Dt,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},yE=["checked"];function $E(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,yE)}const Bn=k(vE,[["render",$E]]);const bE={props:["data"],data:()=>({setup:at}),components:{SelectAll:Fs,TableRowAction:Pn,SelectSingle:Bn},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},wE={key:0},kE={key:1,class:"text-wrap max-w-120"};function xE(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,(r,m)=>(c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),(c(!0),u(C,null,F(t.setup.table_row_data,(v,b)=>(c(),u(C,{key:b},[v=="id"?(c(),u("td",wE,p(m+1),1)):(c(),u("td",kE,p(n.trim_content(r[v],v)),1))],64))),128))],2))),128)}const CE=k(bE,[["render",xE],["__scopeId","data-v-b807a320"]]),SE={components:{TableHead:zT,TableBody:CE},data:()=>({setup:at,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:uT,export_selected_csv:hT,export_demo_csv:vT,...H(Dt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:OT(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w(Dt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},DE={class:"row"},AE={class:"col-sm-12"},TE={class:"card"},EE={class:"card-header"},jE={class:"row align-items-center"},RE={class:"col-12 col-md-3 mb-2 mb-md-0"},OE={class:"text-capitalize mb-0"},IE={class:"col-12 col-md-6 mb-2 mb-md-0"},FE={class:"col-12 col-md-3 text-md-right text-sm-left"},PE=s("i",{class:"fa fa-gear mx-2"},null,-1),BE={class:"card-body"},qE={class:"table-responsive table_responsive card_body_fixed_height"},LE={class:"table table-hover text-center table-bordered"},UE={key:0},NE={class:"mx-3"},VE={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},HE={class:"pagination my-2",style:{"font-size":"11px"}},zE=["onClick","href","innerHTML"],ME={class:"d-flex",style:{gap:"5px"}},WE=s("span",null,null,-1),JE=s("span",null,"-",-1),KE=s("span",null,"of",-1),YE={class:"d-flex",style:{gap:"5px"}},GE=s("span",null,null,-1),QE=s("span",null," Limit ",-1),XE=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),ZE=[XE],t7={class:"card-footer py-2"},e7={class:"d-flex flex-wrap align-items-center"},s7={class:"mr-2 mb-2"},a7=s("i",{class:"fa fa-edit mr-2"},null,-1),o7={class:"mr-2 mb-2"},n7=s("i",{class:"fa fa-print mr-2"},null,-1),l7={key:0,class:"mr-2 mb-2"},i7=s("i",{class:"fa fa-sign-out mr-2"},null,-1),r7={class:"mr-2 mb-2"},d7=s("i",{class:"fa fa-download mr-2"},null,-1),c7={class:"mr-2 mb-2"},_7=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),u7={class:"mr-2 mb-2"},p7=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),f7={class:"mr-2 mb-2"},m7=s("i",{class:"fa fa-trash mr-2"},null,-1),h7={key:1,class:"mr-2 mb-2"},g7=K('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),v7=[g7],y7=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),$7={class:"off_canvas_body"},b7={class:"header"},w7=s("h3",{class:"heading_text"},"Filter",-1),k7=s("span",{class:"fa fa-close border p-2"},null,-1),x7=[k7],C7={class:"data_content"},S7={class:"filter_item"},D7=s("label",{for:"start_date"},"Start Date",-1),A7={for:"start_date",class:"text-capitalize d-block date_custom_control"},T7={class:"filter_item"},E7=s("label",{for:"end_date"},"End Date",-1),j7={for:"end_date",class:"text-capitalize d-block date_custom_control"},R7={class:"filter_item"},O7=s("label",{for:"sort_by_col"},"Sort By Col",-1),I7={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},F7={class:"filter_item"},P7=s("label",{for:"sort_by_col"},"Sort Type",-1),B7={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},q7={class:"filter_item"},L7=s("div",{class:"off_canvas_overlay"},null,-1),U7={class:"modal-dialog modal-dialog-centered"},N7={class:"modal-content border-primary"},V7={class:"modal-header bg-primary"},H7={class:"modal-title text-white"},z7=s("span",{"aria-hidden":"true"},"×",-1),M7=[z7],W7={class:"modal-body"},J7=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),K7=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),Y7={class:"modal-footer"},G7=s("i",{class:"fa fa-times"},null,-1),Q7=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function X7(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",DE,[s("div",AE,[s("div",TE,[s("div",EE,[s("div",jE,[s("div",RE,[s("h5",OE,p(t.setup.all_page_title),1)]),s("div",IE,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",FE,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[PE,f("Filter ")])])])]),s("div",BE,[s("div",qE,[s("table",LE,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",UE,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",NE,[s("nav",VE,[s("ul",HE,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,zE)],2)}),128))]),s("div",ME,[WE,s("span",null,p((S=t.all)==null?void 0:S.from),1),JE,s("span",null,p((z=t.all)==null?void 0:z.to),1),KE,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",YE,[GE,QE,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},ZE,544),[[J,t.paginate]])])])]),s("div",t7,[s("div",e7,[s("div",s7,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[a7,f(" Create ")]),_:1},8,["to"])]),s("div",o7,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[n7,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",l7,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[i7,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",r7,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[d7,f(" Import ")])]),s("div",c7,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[_7,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",u7,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[p7,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",f7,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[m7,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",h7,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},v7,32)])):j("",!0)])])])])]),y7,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",$7,[s("div",b7,[w7,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},x7)]),s("div",C7,[s("div",S7,[D7,s("label",A7,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",T7,[E7,s("label",j7,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",R7,[O7,s("label",I7,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",F7,[P7,s("label",B7,[P(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",q7,[s("button",{onClick:e[16]||(e[16]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),L7],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",U7,[s("form",{onSubmit:e[20]||(e[20]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",N7,[s("div",V7,[s("h5",H7," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},M7)]),s("div",W7,[J7,K7,s("a",{href:"",onClick:e[18]||(e[18]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",Y7,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[G7,f(" Close ")]),Q7])])],32)])],2)])}const Z7=k(SE,[["render",X7]]),t9=[{name:"account_category_id",label:"Select account category ",type:"select",value:"",data_list:[]},{name:"title",label:"Enter your title",type:"text",value:""},{name:"amount",label:"Enter your amount",type:"number",value:""},{name:"description",label:"Enter your description",type:"textarea",value:"",row_col_class:"col-md-12"}],e9={data:()=>({setup:at,form_fields:t9,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t),this.get_all_account_categories()},methods:{...H(Dt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(o=>{e.name==o[0]&&(this.form_fields[a].value=o[1]),e.name=="description"&&o[0]=="description"&&$("#description").summernote("code",o[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){this.setSummerEditor();let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{this.setSummerEditor();let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}},setSummerEditor(){var t=$("#description").summernote("code"),e=document.createElement("input");e.setAttribute("name","description"),e.value=t,document.getElementById("description").appendChild(e)},get_all_account_categories:async function(){let t=await axios.get("account-categories?get_all=1&type=income");t.data.status=="success"&&(t=t.data.data,this.form_fields[0].data_list=[],t.forEach(e=>{let a={};a.label=e.title,a.value=e.id,this.form_fields[0].data_list.push(a)}))}},computed:{...q(Dt,{item:"item"})}},s9={class:"card"},a9={class:"card-header d-flex justify-content-between"},o9={class:"text-capitalize"},n9={class:"card-body card_body_fixed_height"},l9={class:"row"},i9=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function r9(t,e,a,o,l,n){const i=y("router-link"),d=y("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=g((...r)=>n.submitHandler&&n.submitHandler(...r),["prevent"]))},[s("div",s9,[s("div",a9,[s("h5",o9,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),W(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):j("",!0),x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",n9,[s("div",l9,[(c(!0),u(C,null,F(t.form_fields,(r,m)=>(c(),W(d,{key:m,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),i9])],32)])}const Ma=k(e9,[["render",r9]]);const d9={props:["item"],data:()=>({setup:at}),components:{SelectAll:Fs,TableRowAction:Pn,SelectSingle:Bn},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},c9=t=>(ht("data-v-49edabb8"),t=t(),gt(),t),_9=c9(()=>s("th",{class:"text-center"},":",-1)),u9={class:"text-trim"};function p9(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),_9,s("th",u9,p(n.trim_content(a.item[i],i)),1)]))),128)}const f9=k(d9,[["render",p9],["__scopeId","data-v-49edabb8"]]),m9={components:{DataDetialsTableBody:f9},data:()=>({setup:at}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(Dt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...w(Dt,{item:"item"})}},h9={class:"card"},g9={class:"card-header d-flex justify-content-between"},v9={class:"text-capitalize"},y9={class:"card-body card_body_fixed_height"},$9={class:"row"},b9={class:"col-lg-8"},w9={class:"table quick_modal_table table-bordered"},k9={class:"card-footer"},x9=s("i",{class:"fa fa-angle-left"},null,-1),C9=s("i",{class:"fa fa-angle-right"},null,-1);function S9(t,e,a,o,l,n){const i=y("router-link"),d=y("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=g((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",h9,[s("div",g9,[s("h5",v9,p(t.setup.details_page_title),1),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",y9,[s("div",$9,[s("div",b9,[s("table",w9,[s("tbody",null,[x(d,{item:t.item},null,8,["item"])])])])])]),s("div",k9,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(r=>n.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[x9,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):j("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(r=>n.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),C9])):j("",!0)])])],32)])}const D9=k(m9,[["render",S9]]),A9={};function T9(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const E9=k(A9,[["render",T9]]);let Ce=at.route_prefix,j9=at.route_path;const R9={path:j9,component:E9,children:[{path:"all",name:"All"+Ce,component:Z7},{path:"create",name:"Create"+Ce,component:Ma},{path:"details/:id",name:"Details"+Ce,component:D9},{path:"edit/:id",name:"Edit"+Ce,component:Ma}]},se="AccountSubCategory",ot={prefix:se,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"account-sub-categories",module_name:"account-sub-category",store_prefix:"account_sub_category",route_prefix:"AccountSubCategory",route_path:"account-sub-category",select_fields:["id","account_category_id","title","type","status","slug","created_at","deleted_at"],sort_by_cols:["id","account_category_id","title","type","status","created_at"],table_header_data:["id"," category","title","type","status","created_at"],table_row_data:["id","account_category","title","type","status","created_at"],layout_title:se+" Management",page_title:`${se} Management`,all_page_title:"All "+se,details_page_title:"Details "+se,create_page_title:"Create "+se,edit_page_title:"Edit "+se},O9={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:ot.select_fields,sort_by_cols:ot.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function Wa(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function Ja(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return Wa({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw Wa({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function I9(t){return t/1024}async function Ka(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),Ja(t,r,i)):a=await Ja(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:I9(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:F9,api_version:P9,api_end_point:B9}=ot;let q9=async()=>{let t=w(At,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${F9}/${P9}/${B9}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await Ka(o,n)):a=await Ka(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function L9(t){let e=t.target,a=new FormData(e),o=`${ot.api_host}/${ot.api_version}/${ot.api_end_point}/store`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function U9(t){let e=w(At,["item"]),a=`${ot.api_host}/${ot.api_version}/${ot.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function N9(t){let e=q(At,["item"]),a=t.target,o=new FormData(a);o.append("id",e.item().id);let l=`${ot.api_host}/${ot.api_version}/${ot.api_end_point}/update/${e.item().slug}`;try{return await A.post(l,o)}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function V9(){let t=q(At,["item"]),e=`${ot.api_host}/${ot.api_version}/${ot.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function H9(){let t=q(At,["item"]),e=`${ot.api_host}/${ot.api_version}/${ot.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function z9(){let t=q(At,["item"]),e=`${ot.api_host}/${ot.api_version}/${ot.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function M9(){let t=q(At,["item"]),e=`${ot.api_host}/${ot.api_version}/${ot.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function W9(t,e){let a=`${ot.api_host}/${ot.api_version}/${ot.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function J9(t){let e=t.target,a=new FormData(e),o=`${ot.api_host}/${ot.api_version}/${ot.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function K9(t={}){let e=At();e.filter_criteria={...e.filter_criteria,...t}}async function Y9(t={}){w(At,["item"]).item.set(t)}async function G9(t=!0){w(At,["only_latest_data"]).only_latest_data.set(t)}async function Q9(t=1){w(At,["page"]).page.set(t)}async function X9(t=10){w(At,["paginate"]).paginate.set(t)}async function Z9(t=!0){w(At,["show_details_canvas"]).show_details_canvas.set(t)}async function tj(t=!0){w(At,["show_filter_canvas"]).show_filter_canvas.set(t)}async function ej(t="active"){w(At,["status"]).status.set(t)}async function sj(){w(At,["selected"]).selected.set([])}const At=Vt(ot.store_prefix,{state:()=>O9,getters:{},actions:{get_all:q9,create:L9,update:N9,details:U9,update_status:H9,soft_delete:V9,restore:z9,destroy:M9,bulk_action:W9,import_data:J9,set_page:Q9,set_paginate:X9,set_show_details_canvas:Z9,set_item:Y9,set_show_filter_canvas:tj,set_filter_criteria:K9,set_status:ej,set_only_latest_data:G9,clear_selected:sj}});var aj=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),oj=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var nj=function(t){oj(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(aj);const Ps=nj;let lj=ot.store_prefix;async function ij(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${ot.api_host}/${ot.api_version}/${ot.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=rj(d.data.data.data[0],o);l=new Ps(`${lj}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>dj(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function rj(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function dj(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let cj=ot.store_prefix;function _j(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new Ps(`${cj}_list.csv`).setColumns(a).addRows(o).exportFile(),w(At,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let uj=ot.store_prefix;function pj(){const t=ot.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new Ps(`${uj}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var fj="Expected a function",Ya=0/0,mj="[object Symbol]",hj=/^\s+|\s+$/g,gj=/^[-+]0x[0-9a-f]+$/i,vj=/^0b[01]+$/i,yj=/^0o[0-7]+$/i,$j=parseInt,bj=typeof global=="object"&&global&&global.Object===Object&&global,wj=typeof self=="object"&&self&&self.Object===Object&&self,kj=bj||wj||Function("return this")(),xj=Object.prototype,Cj=xj.toString,Sj=Math.max,Dj=Math.min,Me=function(){return kj.Date.now()};function Aj(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(fj);e=Ga(e)||0,_s(a)&&(v=!!a.leading,b="maxWait"in a,n=b?Sj(Ga(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?Dj(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=Me();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(Me())}function D(){var h=Me(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function _s(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Tj(t){return!!t&&typeof t=="object"}function Ej(t){return typeof t=="symbol"||Tj(t)&&Cj.call(t)==mj}function Ga(t){if(typeof t=="number")return t;if(Ej(t))return Ya;if(_s(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=_s(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(hj,"");var a=vj.test(t);return a||yj.test(t)?$j(t.slice(2),a?2:8):gj.test(t)?Ya:+t}function jj(t){console.log(t.target.checked);const e=w(At,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const Rj={methods:{set_all_item_selectd:jj}};function Oj(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Bs=k(Rj,[["render",Oj]]);const Ij={data:()=>({setup:ot}),components:{SelectAll:Bs}},Fj=t=>(ht("data-v-c0c3e66a"),t=t(),gt(),t),Pj=Fj(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),Bj={class:"w-10 text-center"};function qj(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[Pj,s("th",Bj,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const Lj=k(Ij,[["render",qj],["__scopeId","data-v-c0c3e66a"]]);function Uj(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const Nj={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:ot})},Vj=s("i",{class:"fa fa-eye text-secondary"},null,-1);function Hj(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[Vj,f(" Show ")]),_:1},8,["to"])}const zj=k(Nj,[["render",Hj]]),Mj={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:ot})},Wj=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function Jj(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[Wj,f(" Edit ")]),_:1},8,["to"])}const Kj=k(Mj,[["render",Jj]]),Yj={props:{item:{slug:""}},methods:{...H(At,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},Gj=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),Qj=s("i",{class:"fa fa-eye text-warning"},null,-1);function Xj(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[Gj,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[Qj,f(" Active ")])):j("",!0)],64)}const Zj=k(Yj,[["render",Xj]]),tR={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(At,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},eR=s("i",{class:"fa fa-ban text-warning"},null,-1),sR=s("i",{class:"fa fa-ban text-warning"},null,-1);function aR(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[eR,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[sR,f(" Restore data ")])):j("",!0)],64)}const oR=k(tR,[["render",aR]]),nR={props:{item:{slug:""}},methods:{...H(At,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},lR=s("i",{class:"fa fa-trash text-danger"},null,-1);function iR(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[lR,f(" Destroy ")])}const rR=k(nR,[["render",iR]]),dR={props:{item:{type:Object,default:{}}},components:{DetailsBtn:zj,Edit:Kj,StatusButton:Zj,Destroy:rR,DeleteRestore:oR},methods:{active_row:Uj}},cR={class:"table_action_btns"};function _R(t,e,a,o,l,n){const i=y("details-btn"),d=y("edit"),r=y("status-button"),m=y("delete-restore"),v=y("destroy");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(b=>n.active_row(b),["prevent"])),class:"icon"}),s("div",cR,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const qn=k(dR,[["render",_R]]);function uR(t,e){const a=w(At,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const pR={props:["data"],created:function(){},methods:{set_item_selectd:uR},computed:{...q(At,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},fR=["checked"];function mR(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,fR)}const Ln=k(pR,[["render",mR]]);const hR={props:["data"],data:()=>({setup:ot}),components:{SelectAll:Bs,TableRowAction:qn,SelectSingle:Ln},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},gR={key:0},vR={key:1,class:"text-wrap max-w-120"};function yR(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,(r,m)=>(c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),(c(!0),u(C,null,F(t.setup.table_row_data,(v,b)=>(c(),u(C,{key:b},[v=="id"?(c(),u("td",gR,p(m+1),1)):(c(),u("td",vR,p(n.trim_content(r[v],v)),1))],64))),128))],2))),128)}const $R=k(hR,[["render",yR],["__scopeId","data-v-8b00597a"]]),bR={components:{TableHead:Lj,TableBody:$R},data:()=>({setup:ot,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:ij,export_selected_csv:_j,export_demo_csv:pj,...H(At,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:Aj(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w(At,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},wR={class:"row"},kR={class:"col-sm-12"},xR={class:"card"},CR={class:"card-header"},SR={class:"row align-items-center"},DR={class:"col-12 col-md-3 mb-2 mb-md-0"},AR={class:"text-capitalize mb-0"},TR={class:"col-12 col-md-6 mb-2 mb-md-0"},ER={class:"col-12 col-md-3 text-md-right text-sm-left"},jR=s("i",{class:"fa fa-gear mx-2"},null,-1),RR={class:"card-body"},OR={class:"table-responsive table_responsive card_body_fixed_height"},IR={class:"table table-hover text-center table-bordered"},FR={key:0},PR={class:"mx-3"},BR={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},qR={class:"pagination my-2",style:{"font-size":"11px"}},LR=["onClick","href","innerHTML"],UR={class:"d-flex",style:{gap:"5px"}},NR=s("span",null,null,-1),VR=s("span",null,"-",-1),HR=s("span",null,"of",-1),zR={class:"d-flex",style:{gap:"5px"}},MR=s("span",null,null,-1),WR=s("span",null," Limit ",-1),JR=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),KR=[JR],YR={class:"card-footer py-2"},GR={class:"d-flex flex-wrap align-items-center"},QR={class:"mr-2 mb-2"},XR=s("i",{class:"fa fa-edit mr-2"},null,-1),ZR={class:"mr-2 mb-2"},tO=s("i",{class:"fa fa-print mr-2"},null,-1),eO={key:0,class:"mr-2 mb-2"},sO=s("i",{class:"fa fa-sign-out mr-2"},null,-1),aO={class:"mr-2 mb-2"},oO=s("i",{class:"fa fa-download mr-2"},null,-1),nO={class:"mr-2 mb-2"},lO=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),iO={class:"mr-2 mb-2"},rO=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),dO={class:"mr-2 mb-2"},cO=s("i",{class:"fa fa-trash mr-2"},null,-1),_O={key:1,class:"mr-2 mb-2"},uO=K('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),pO=[uO],fO=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),mO={class:"off_canvas_body"},hO={class:"header"},gO=s("h3",{class:"heading_text"},"Filter",-1),vO=s("span",{class:"fa fa-close border p-2"},null,-1),yO=[vO],$O={class:"data_content"},bO={class:"filter_item"},wO=s("label",{for:"start_date"},"Start Date",-1),kO={for:"start_date",class:"text-capitalize d-block date_custom_control"},xO={class:"filter_item"},CO=s("label",{for:"end_date"},"End Date",-1),SO={for:"end_date",class:"text-capitalize d-block date_custom_control"},DO={class:"filter_item"},AO=s("label",{for:"sort_by_col"},"Sort By Col",-1),TO={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},EO={class:"filter_item"},jO=s("label",{for:"sort_by_col"},"Sort Type",-1),RO={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},OO={class:"filter_item"},IO=s("div",{class:"off_canvas_overlay"},null,-1),FO={class:"modal-dialog modal-dialog-centered"},PO={class:"modal-content border-primary"},BO={class:"modal-header bg-primary"},qO={class:"modal-title text-white"},LO=s("span",{"aria-hidden":"true"},"×",-1),UO=[LO],NO={class:"modal-body"},VO=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),HO=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),zO={class:"modal-footer"},MO=s("i",{class:"fa fa-times"},null,-1),WO=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function JO(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",wR,[s("div",kR,[s("div",xR,[s("div",CR,[s("div",SR,[s("div",DR,[s("h5",AR,p(t.setup.all_page_title),1)]),s("div",TR,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",ER,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[jR,f("Filter ")])])])]),s("div",RR,[s("div",OR,[s("table",IR,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",FR,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",PR,[s("nav",BR,[s("ul",qR,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,LR)],2)}),128))]),s("div",UR,[NR,s("span",null,p((S=t.all)==null?void 0:S.from),1),VR,s("span",null,p((z=t.all)==null?void 0:z.to),1),HR,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",zR,[MR,WR,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},KR,544),[[J,t.paginate]])])])]),s("div",YR,[s("div",GR,[s("div",QR,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[XR,f(" Create ")]),_:1},8,["to"])]),s("div",ZR,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[tO,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",eO,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[sO,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",aO,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[oO,f(" Import ")])]),s("div",nO,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[lO,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",iO,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[rO,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",dO,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[cO,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",_O,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},pO,32)])):j("",!0)])])])])]),fO,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",mO,[s("div",hO,[gO,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},yO)]),s("div",$O,[s("div",bO,[wO,s("label",kO,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",xO,[CO,s("label",SO,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",DO,[AO,s("label",TO,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",EO,[jO,s("label",RO,[P(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",OO,[s("button",{onClick:e[16]||(e[16]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),IO],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",FO,[s("form",{onSubmit:e[20]||(e[20]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",PO,[s("div",BO,[s("h5",qO," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},UO)]),s("div",NO,[VO,HO,s("a",{href:"",onClick:e[18]||(e[18]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",zO,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[MO,f(" Close ")]),WO])])],32)])],2)])}const KO=k(bR,[["render",JO]]),YO=[{name:"account_category_id",label:"Select account category",type:"select",value:"",data_list:[]},{name:"title",label:"Enter your title",type:"text",value:""}],GO={data:()=>({setup:ot,form_fields:YO,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t),await this.get_all_account_categories()},methods:{...H(At,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(o=>{e.name==o[0]&&(this.form_fields[a].value=o[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}},get_all_account_categories:async function(){let t=await A.get("account-categories?get_all=1");t.data.status=="success"&&(t=t.data.data,this.form_fields[0].data_list=[],t.forEach(e=>{let a={};a.label=e.title,a.value=e.id,this.form_fields[0].data_list.push(a)}))}},computed:{...q(At,{item:"item"})}},QO={class:"card"},XO={class:"card-header d-flex justify-content-between"},ZO={class:"text-capitalize"},tI={class:"card-body card_body_fixed_height"},eI={class:"row"},sI=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function aI(t,e,a,o,l,n){const i=y("router-link"),d=y("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=g((...r)=>n.submitHandler&&n.submitHandler(...r),["prevent"]))},[s("div",QO,[s("div",XO,[s("h5",ZO,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),W(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):j("",!0),x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",tI,[s("div",eI,[(c(!0),u(C,null,F(t.form_fields,(r,m)=>(c(),W(d,{key:m,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),sI])],32)])}const Qa=k(GO,[["render",aI]]);const oI={props:["item"],data:()=>({setup:ot}),components:{SelectAll:Bs,TableRowAction:qn,SelectSingle:Ln},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},nI=t=>(ht("data-v-08389885"),t=t(),gt(),t),lI=nI(()=>s("th",{class:"text-center"},":",-1)),iI={class:"text-trim"};function rI(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),lI,s("th",iI,p(n.trim_content(a.item[i],i)),1)]))),128)}const dI=k(oI,[["render",rI],["__scopeId","data-v-08389885"]]),cI={components:{DataDetialsTableBody:dI},data:()=>({setup:ot}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(At,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...w(At,{item:"item"})}},_I={class:"card"},uI={class:"card-header d-flex justify-content-between"},pI={class:"text-capitalize"},fI={class:"card-body card_body_fixed_height"},mI={class:"row"},hI={class:"col-lg-8"},gI={class:"table quick_modal_table table-bordered"},vI={class:"card-footer"},yI=s("i",{class:"fa fa-angle-left"},null,-1),$I=s("i",{class:"fa fa-angle-right"},null,-1);function bI(t,e,a,o,l,n){const i=y("router-link"),d=y("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=g((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",_I,[s("div",uI,[s("h5",pI,p(t.setup.details_page_title),1),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",fI,[s("div",mI,[s("div",hI,[s("table",gI,[s("tbody",null,[x(d,{item:t.item},null,8,["item"])])])])])]),s("div",vI,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(r=>n.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[yI,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):j("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(r=>n.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),$I])):j("",!0)])])],32)])}const wI=k(cI,[["render",bI]]),kI={};function xI(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const CI=k(kI,[["render",xI]]);let Se=ot.route_prefix,SI=ot.route_path;const DI={path:SI,component:CI,children:[{path:"all",name:"All"+Se,component:KO},{path:"create",name:"Create"+Se,component:Qa},{path:"details/:id",name:"Details"+Se,component:wI},{path:"edit/:id",name:"Edit"+Se,component:Qa}]},ae="AccountCategory",nt={prefix:ae,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"account-categories",module_name:"account-category",store_prefix:"account_category",route_prefix:"AccountCategory",route_path:"account-category",select_fields:["id","title","type","status","slug","created_at","deleted_at"],sort_by_cols:["id","title","type","status","created_at"],table_header_data:["id","title","type","status","created_at"],table_row_data:["id","title","type","status","created_at"],layout_title:ae+" Management",page_title:`${ae} Management`,all_page_title:"All "+ae,details_page_title:"Details "+ae,create_page_title:"Create "+ae,edit_page_title:"Edit "+ae},AI={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:nt.select_fields,sort_by_cols:nt.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function Xa(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function Za(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return Xa({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw Xa({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function TI(t){return t/1024}async function to(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),Za(t,r,i)):a=await Za(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:TI(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:EI,api_version:jI,api_end_point:RI}=nt;let OI=async()=>{let t=w(Tt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${EI}/${jI}/${RI}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await to(o,n)):a=await to(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function II(t){let e=t.target,a=new FormData(e),o=`${nt.api_host}/${nt.api_version}/${nt.api_end_point}/store`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function FI(t){let e=w(Tt,["item"]),a=`${nt.api_host}/${nt.api_version}/${nt.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function PI(t){let e=q(Tt,["item"]),a=t.target,o=new FormData(a);o.append("id",e.item().id);let l=`${nt.api_host}/${nt.api_version}/${nt.api_end_point}/update/${e.item().slug}`;try{return await A.post(l,o)}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function BI(){let t=q(Tt,["item"]),e=`${nt.api_host}/${nt.api_version}/${nt.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function qI(){let t=q(Tt,["item"]),e=`${nt.api_host}/${nt.api_version}/${nt.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function LI(){let t=q(Tt,["item"]),e=`${nt.api_host}/${nt.api_version}/${nt.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function UI(){let t=q(Tt,["item"]),e=`${nt.api_host}/${nt.api_version}/${nt.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function NI(t,e){let a=`${nt.api_host}/${nt.api_version}/${nt.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function VI(t){let e=t.target,a=new FormData(e),o=`${nt.api_host}/${nt.api_version}/${nt.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function HI(t={}){let e=Tt();e.filter_criteria={...e.filter_criteria,...t}}async function zI(t={}){w(Tt,["item"]).item.set(t)}async function MI(t=!0){w(Tt,["only_latest_data"]).only_latest_data.set(t)}async function WI(t=1){w(Tt,["page"]).page.set(t)}async function JI(t=10){w(Tt,["paginate"]).paginate.set(t)}async function KI(t=!0){w(Tt,["show_details_canvas"]).show_details_canvas.set(t)}async function YI(t=!0){w(Tt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function GI(t="active"){w(Tt,["status"]).status.set(t)}async function QI(){w(Tt,["selected"]).selected.set([])}const Tt=Vt(nt.store_prefix,{state:()=>AI,getters:{},actions:{get_all:OI,create:II,update:PI,details:FI,update_status:qI,soft_delete:BI,restore:LI,destroy:UI,bulk_action:NI,import_data:VI,set_page:WI,set_paginate:JI,set_show_details_canvas:KI,set_item:zI,set_show_filter_canvas:YI,set_filter_criteria:HI,set_status:GI,set_only_latest_data:MI,clear_selected:QI}});var XI=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),ZI=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var tF=function(t){ZI(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(XI);const qs=tF;let eF=nt.store_prefix;async function sF(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${nt.api_host}/${nt.api_version}/${nt.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=aF(d.data.data.data[0],o);l=new qs(`${eF}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>oF(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function aF(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function oF(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let nF=nt.store_prefix;function lF(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new qs(`${nF}_list.csv`).setColumns(a).addRows(o).exportFile(),w(Tt,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let iF=nt.store_prefix;function rF(){const t=nt.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new qs(`${iF}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var dF="Expected a function",eo=0/0,cF="[object Symbol]",_F=/^\s+|\s+$/g,uF=/^[-+]0x[0-9a-f]+$/i,pF=/^0b[01]+$/i,fF=/^0o[0-7]+$/i,mF=parseInt,hF=typeof global=="object"&&global&&global.Object===Object&&global,gF=typeof self=="object"&&self&&self.Object===Object&&self,vF=hF||gF||Function("return this")(),yF=Object.prototype,$F=yF.toString,bF=Math.max,wF=Math.min,We=function(){return vF.Date.now()};function kF(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(dF);e=so(e)||0,us(a)&&(v=!!a.leading,b="maxWait"in a,n=b?bF(so(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?wF(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=We();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(We())}function D(){var h=We(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function us(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function xF(t){return!!t&&typeof t=="object"}function CF(t){return typeof t=="symbol"||xF(t)&&$F.call(t)==cF}function so(t){if(typeof t=="number")return t;if(CF(t))return eo;if(us(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=us(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(_F,"");var a=pF.test(t);return a||fF.test(t)?mF(t.slice(2),a?2:8):uF.test(t)?eo:+t}function SF(t){console.log(t.target.checked);const e=w(Tt,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const DF={methods:{set_all_item_selectd:SF}};function AF(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Ls=k(DF,[["render",AF]]);const TF={data:()=>({setup:nt}),components:{SelectAll:Ls}},EF=t=>(ht("data-v-5e10e632"),t=t(),gt(),t),jF=EF(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),RF={class:"w-10 text-center"};function OF(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[jF,s("th",RF,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const IF=k(TF,[["render",OF],["__scopeId","data-v-5e10e632"]]);function FF(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const PF={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:nt})},BF=s("i",{class:"fa fa-eye text-secondary"},null,-1);function qF(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[BF,f(" Show ")]),_:1},8,["to"])}const LF=k(PF,[["render",qF]]),UF={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:nt})},NF=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function VF(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[NF,f(" Edit ")]),_:1},8,["to"])}const HF=k(UF,[["render",VF]]),zF={props:{item:{slug:""}},methods:{...H(Tt,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},MF=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),WF=s("i",{class:"fa fa-eye text-warning"},null,-1);function JF(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[MF,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[WF,f(" Active ")])):j("",!0)],64)}const KF=k(zF,[["render",JF]]),YF={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(Tt,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},GF=s("i",{class:"fa fa-ban text-warning"},null,-1),QF=s("i",{class:"fa fa-ban text-warning"},null,-1);function XF(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[GF,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[QF,f(" Restore data ")])):j("",!0)],64)}const ZF=k(YF,[["render",XF]]),tP={props:{item:{slug:""}},methods:{...H(Tt,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},eP=s("i",{class:"fa fa-trash text-danger"},null,-1);function sP(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[eP,f(" Destroy ")])}const aP=k(tP,[["render",sP]]),oP={props:{item:{type:Object,default:{}}},components:{DetailsBtn:LF,Edit:HF,StatusButton:KF,Destroy:aP,DeleteRestore:ZF},methods:{active_row:FF}},nP={class:"table_action_btns"};function lP(t,e,a,o,l,n){const i=y("details-btn"),d=y("edit"),r=y("status-button"),m=y("delete-restore"),v=y("destroy");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(b=>n.active_row(b),["prevent"])),class:"icon"}),s("div",nP,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const Un=k(oP,[["render",lP]]);function iP(t,e){const a=w(Tt,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const rP={props:["data"],created:function(){},methods:{set_item_selectd:iP},computed:{...q(Tt,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},dP=["checked"];function cP(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,dP)}const Nn=k(rP,[["render",cP]]);const _P={props:["data"],data:()=>({setup:nt}),components:{SelectAll:Ls,TableRowAction:Un,SelectSingle:Nn},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t:t}}},uP={key:0},pP={key:1,class:"text-wrap max-w-120"};function fP(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,(r,m)=>(c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),(c(!0),u(C,null,F(t.setup.table_row_data,(v,b)=>(c(),u(C,{key:b},[v=="id"?(c(),u("td",uP,p(m+1),1)):(c(),u("td",pP,p(n.trim_content(r[v],v)),1))],64))),128))],2))),128)}const mP=k(_P,[["render",fP],["__scopeId","data-v-60cccd03"]]),hP={components:{TableHead:IF,TableBody:mP},data:()=>({setup:nt,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:sF,export_selected_csv:lF,export_demo_csv:rF,...H(Tt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:kF(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w(Tt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},gP={class:"row"},vP={class:"col-sm-12"},yP={class:"card"},$P={class:"card-header"},bP={class:"row align-items-center"},wP={class:"col-12 col-md-3 mb-2 mb-md-0"},kP={class:"text-capitalize mb-0"},xP={class:"col-12 col-md-6 mb-2 mb-md-0"},CP={class:"col-12 col-md-3 text-md-right text-sm-left"},SP=s("i",{class:"fa fa-gear mx-2"},null,-1),DP={class:"card-body"},AP={class:"table-responsive table_responsive card_body_fixed_height"},TP={class:"table table-hover text-center table-bordered"},EP={key:0},jP={class:"mx-3"},RP={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},OP={class:"pagination my-2",style:{"font-size":"11px"}},IP=["onClick","href","innerHTML"],FP={class:"d-flex",style:{gap:"5px"}},PP=s("span",null,null,-1),BP=s("span",null,"-",-1),qP=s("span",null,"of",-1),LP={class:"d-flex",style:{gap:"5px"}},UP=s("span",null,null,-1),NP=s("span",null," Limit ",-1),VP=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),HP=[VP],zP={class:"card-footer py-2"},MP={class:"d-flex flex-wrap align-items-center"},WP={class:"mr-2 mb-2"},JP=s("i",{class:"fa fa-edit mr-2"},null,-1),KP={class:"mr-2 mb-2"},YP=s("i",{class:"fa fa-print mr-2"},null,-1),GP={key:0,class:"mr-2 mb-2"},QP=s("i",{class:"fa fa-sign-out mr-2"},null,-1),XP={class:"mr-2 mb-2"},ZP=s("i",{class:"fa fa-download mr-2"},null,-1),tB={class:"mr-2 mb-2"},eB=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),sB={class:"mr-2 mb-2"},aB=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),oB={class:"mr-2 mb-2"},nB=s("i",{class:"fa fa-trash mr-2"},null,-1),lB={key:1,class:"mr-2 mb-2"},iB=K('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),rB=[iB],dB=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),cB={class:"off_canvas_body"},_B={class:"header"},uB=s("h3",{class:"heading_text"},"Filter",-1),pB=s("span",{class:"fa fa-close border p-2"},null,-1),fB=[pB],mB={class:"data_content"},hB={class:"filter_item"},gB=s("label",{for:"start_date"},"Start Date",-1),vB={for:"start_date",class:"text-capitalize d-block date_custom_control"},yB={class:"filter_item"},$B=s("label",{for:"end_date"},"End Date",-1),bB={for:"end_date",class:"text-capitalize d-block date_custom_control"},wB={class:"filter_item"},kB=s("label",{for:"sort_by_col"},"Sort By Col",-1),xB={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},CB={class:"filter_item"},SB=s("label",{for:"sort_by_col"},"Sort Type",-1),DB={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},AB={class:"filter_item"},TB=s("div",{class:"off_canvas_overlay"},null,-1),EB={class:"modal-dialog modal-dialog-centered"},jB={class:"modal-content border-primary"},RB={class:"modal-header bg-primary"},OB={class:"modal-title text-white"},IB=s("span",{"aria-hidden":"true"},"×",-1),FB=[IB],PB={class:"modal-body"},BB=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),qB=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),LB={class:"modal-footer"},UB=s("i",{class:"fa fa-times"},null,-1),NB=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function VB(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",gP,[s("div",vP,[s("div",yP,[s("div",$P,[s("div",bP,[s("div",wP,[s("h5",kP,p(t.setup.all_page_title),1)]),s("div",xP,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",CP,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[SP,f("Filter ")])])])]),s("div",DP,[s("div",AP,[s("table",TP,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",EP,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",jP,[s("nav",RP,[s("ul",OP,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,IP)],2)}),128))]),s("div",FP,[PP,s("span",null,p((S=t.all)==null?void 0:S.from),1),BP,s("span",null,p((z=t.all)==null?void 0:z.to),1),qP,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",LP,[UP,NP,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},HP,544),[[J,t.paginate]])])])]),s("div",zP,[s("div",MP,[s("div",WP,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[JP,f(" Create ")]),_:1},8,["to"])]),s("div",KP,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[YP,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",GP,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[QP,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",XP,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[ZP,f(" Import ")])]),s("div",tB,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[eB,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",sB,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[aB,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",oB,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[nB,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",lB,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},rB,32)])):j("",!0)])])])])]),dB,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",cB,[s("div",_B,[uB,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},fB)]),s("div",mB,[s("div",hB,[gB,s("label",vB,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",yB,[$B,s("label",bB,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",wB,[kB,s("label",xB,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",CB,[SB,s("label",DB,[P(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",AB,[s("button",{onClick:e[16]||(e[16]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),TB],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",EB,[s("form",{onSubmit:e[20]||(e[20]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",jB,[s("div",RB,[s("h5",OB," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},FB)]),s("div",PB,[BB,qB,s("a",{href:"",onClick:e[18]||(e[18]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",LB,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[UB,f(" Close ")]),NB])])],32)])],2)])}const HB=k(hP,[["render",VB]]),zB=[{name:"title",label:"Enter your title",type:"text",value:""},{name:"type",label:"Enter your type",type:"select",label:"Select type",multiple:!1,data_list:[{label:"Income",value:"income"},{label:"Expense",value:"expense"}],value:""}],MB={data:()=>({setup:nt,form_fields:zB,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t)},methods:{...H(Tt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(o=>{e.name==o[0]&&(this.form_fields[a].value=o[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}}},computed:{...q(Tt,{item:"item"})}},WB={class:"card"},JB={class:"card-header d-flex justify-content-between"},KB={class:"text-capitalize"},YB={class:"card-body card_body_fixed_height"},GB={class:"row"},QB=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function XB(t,e,a,o,l,n){const i=y("router-link"),d=y("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=g((...r)=>n.submitHandler&&n.submitHandler(...r),["prevent"]))},[s("div",WB,[s("div",JB,[s("h5",KB,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),W(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):j("",!0),x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",YB,[s("div",GB,[(c(!0),u(C,null,F(t.form_fields,(r,m)=>(c(),W(d,{key:m,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),QB])],32)])}const ao=k(MB,[["render",XB]]);const ZB={props:["item"],data:()=>({setup:nt}),components:{SelectAll:Ls,TableRowAction:Un,SelectSingle:Nn},methods:{trim_content(t,e=null){return t}}},tq=t=>(ht("data-v-e8f117f3"),t=t(),gt(),t),eq=tq(()=>s("th",{class:"text-center"},":",-1)),sq={class:"text-trim"};function aq(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),eq,s("th",sq,p(n.trim_content(a.item[i],i)),1)]))),128)}const oq=k(ZB,[["render",aq],["__scopeId","data-v-e8f117f3"]]),nq={components:{DataDetialsTableBody:oq},data:()=>({setup:nt}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(Tt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...w(Tt,{item:"item"})}},lq={class:"card"},iq={class:"card-header d-flex justify-content-between"},rq={class:"text-capitalize"},dq={class:"card-body card_body_fixed_height"},cq={class:"row"},_q={class:"col-lg-8"},uq={class:"table quick_modal_table table-bordered"},pq={class:"card-footer"},fq=s("i",{class:"fa fa-angle-left"},null,-1),mq=s("i",{class:"fa fa-angle-right"},null,-1);function hq(t,e,a,o,l,n){const i=y("router-link"),d=y("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=g((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",lq,[s("div",iq,[s("h5",rq,p(t.setup.details_page_title),1),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",dq,[s("div",cq,[s("div",_q,[s("table",uq,[s("tbody",null,[x(d,{item:t.item},null,8,["item"])])])])])]),s("div",pq,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(r=>n.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[fq,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):j("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(r=>n.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),mq])):j("",!0)])])],32)])}const gq=k(nq,[["render",hq]]),vq={};function yq(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const $q=k(vq,[["render",yq]]);let De=nt.route_prefix,bq=nt.route_path;const wq={path:bq,component:$q,children:[{path:"all",name:"All"+De,component:HB},{path:"create",name:"Create"+De,component:ao},{path:"details/:id",name:"Details"+De,component:gq},{path:"edit/:id",name:"Edit"+De,component:ao}]},oe="SalesOrderCollectionHistory",lt={prefix:oe,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"sales-order-collection-histories",module_name:"sales-order-collection-history",store_prefix:"sales_order_collection_history",route_prefix:"SalesOrderCollectionHistory",route_path:"sales-order-collection-history",select_fields:["id","sales_order_id","amount","status","slug","created_at","deleted_at"],sort_by_cols:["id","sales_order_id","amount","status","created_at"],table_header_data:["id","sales_order_id","amount","status","created_at"],table_row_data:["id","sales_order_id","amount","status","created_at"],layout_title:oe+" Management",page_title:`${oe} Management`,all_page_title:"All "+oe,details_page_title:"Details "+oe,create_page_title:"Create "+oe,edit_page_title:"Edit "+oe},kq={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:lt.select_fields,sort_by_cols:lt.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function oo(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function no(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return oo({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw oo({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function xq(t){return t/1024}async function lo(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),no(t,r,i)):a=await no(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:xq(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:Cq,api_version:Sq,api_end_point:Dq}=lt;let Aq=async()=>{let t=w(Et,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${Cq}/${Sq}/${Dq}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await lo(o,n)):a=await lo(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function Tq(t){let e=t.target,a=new FormData(e),o=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/store`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Eq(t){let e=w(Et,["item"]),a=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function jq(t){let e=q(Et,["item"]),a=t.target,o=new FormData(a);o.append("id",e.item().id);let l=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/update/${e.item().slug}`;try{return await A.post(l,o)}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function Rq(){let t=q(Et,["item"]),e=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Oq(){let t=q(Et,["item"]),e=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function Iq(){let t=q(Et,["item"]),e=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Fq(){let t=q(Et,["item"]),e=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Pq(t,e){let a=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function Bq(t){let e=t.target,a=new FormData(e),o=`${lt.api_host}/${lt.api_version}/${lt.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function qq(t={}){let e=Et();e.filter_criteria={...e.filter_criteria,...t}}async function Lq(t={}){w(Et,["item"]).item.set(t)}async function Uq(t=!0){w(Et,["only_latest_data"]).only_latest_data.set(t)}async function Nq(t=1){w(Et,["page"]).page.set(t)}async function Vq(t=10){w(Et,["paginate"]).paginate.set(t)}async function Hq(t=!0){w(Et,["show_details_canvas"]).show_details_canvas.set(t)}async function zq(t=!0){w(Et,["show_filter_canvas"]).show_filter_canvas.set(t)}async function Mq(t="active"){w(Et,["status"]).status.set(t)}async function Wq(){w(Et,["selected"]).selected.set([])}const Et=Vt(lt.store_prefix,{state:()=>kq,getters:{},actions:{get_all:Aq,create:Tq,update:jq,details:Eq,update_status:Oq,soft_delete:Rq,restore:Iq,destroy:Fq,bulk_action:Pq,import_data:Bq,set_page:Nq,set_paginate:Vq,set_show_details_canvas:Hq,set_item:Lq,set_show_filter_canvas:zq,set_filter_criteria:qq,set_status:Mq,set_only_latest_data:Uq,clear_selected:Wq}});var Jq=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),Kq=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var Yq=function(t){Kq(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(Jq);const Us=Yq;let Gq=lt.store_prefix;async function Qq(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${lt.api_host}/${lt.api_version}/${lt.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=Xq(d.data.data.data[0],o);l=new Us(`${Gq}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>Zq(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function Xq(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function Zq(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let tL=lt.store_prefix;function eL(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new Us(`${tL}_list.csv`).setColumns(a).addRows(o).exportFile(),w(Et,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let sL=lt.store_prefix;function aL(){const t=lt.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new Us(`${sL}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var oL="Expected a function",io=0/0,nL="[object Symbol]",lL=/^\s+|\s+$/g,iL=/^[-+]0x[0-9a-f]+$/i,rL=/^0b[01]+$/i,dL=/^0o[0-7]+$/i,cL=parseInt,_L=typeof global=="object"&&global&&global.Object===Object&&global,uL=typeof self=="object"&&self&&self.Object===Object&&self,pL=_L||uL||Function("return this")(),fL=Object.prototype,mL=fL.toString,hL=Math.max,gL=Math.min,Je=function(){return pL.Date.now()};function vL(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(oL);e=ro(e)||0,ps(a)&&(v=!!a.leading,b="maxWait"in a,n=b?hL(ro(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?gL(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=Je();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(Je())}function D(){var h=Je(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function ps(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function yL(t){return!!t&&typeof t=="object"}function $L(t){return typeof t=="symbol"||yL(t)&&mL.call(t)==nL}function ro(t){if(typeof t=="number")return t;if($L(t))return io;if(ps(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ps(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(lL,"");var a=rL.test(t);return a||dL.test(t)?cL(t.slice(2),a?2:8):iL.test(t)?io:+t}function bL(t){console.log(t.target.checked);const e=w(Et,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const wL={methods:{set_all_item_selectd:bL}};function kL(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Ns=k(wL,[["render",kL]]);const xL={data:()=>({setup:lt}),components:{SelectAll:Ns}},CL=t=>(ht("data-v-8020079e"),t=t(),gt(),t),SL=CL(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),DL={class:"w-10 text-center"};function AL(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[SL,s("th",DL,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const TL=k(xL,[["render",AL],["__scopeId","data-v-8020079e"]]);function EL(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const jL={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:lt})},RL=s("i",{class:"fa fa-eye text-secondary"},null,-1);function OL(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[RL,f(" Show ")]),_:1},8,["to"])}const IL=k(jL,[["render",OL]]),FL={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:lt})},PL=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function BL(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[PL,f(" Edit ")]),_:1},8,["to"])}const qL=k(FL,[["render",BL]]),LL={props:{item:{slug:""}},methods:{...H(Et,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},UL=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),NL=s("i",{class:"fa fa-eye text-warning"},null,-1);function VL(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[UL,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[NL,f(" Active ")])):j("",!0)],64)}const HL=k(LL,[["render",VL]]),zL={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(Et,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},ML=s("i",{class:"fa fa-ban text-warning"},null,-1),WL=s("i",{class:"fa fa-ban text-warning"},null,-1);function JL(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[ML,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[WL,f(" Restore data ")])):j("",!0)],64)}const KL=k(zL,[["render",JL]]),YL={props:{item:{slug:""}},methods:{...H(Et,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},GL=s("i",{class:"fa fa-trash text-danger"},null,-1);function QL(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[GL,f(" Destroy ")])}const XL=k(YL,[["render",QL]]),ZL={props:{item:{type:Object,default:{}}},components:{DetailsBtn:IL,Edit:qL,StatusButton:HL,Destroy:XL,DeleteRestore:KL},methods:{active_row:EL}},tU={class:"table_action_btns"};function eU(t,e,a,o,l,n){const i=y("details-btn"),d=y("edit"),r=y("status-button"),m=y("delete-restore"),v=y("destroy");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(b=>n.active_row(b),["prevent"])),class:"icon"}),s("div",tU,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const Vn=k(ZL,[["render",eU]]);function sU(t,e){const a=w(Et,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const aU={props:["data"],created:function(){},methods:{set_item_selectd:sU},computed:{...q(Et,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},oU=["checked"];function nU(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,oU)}const Hn=k(aU,[["render",nU]]);const lU={props:["data"],data:()=>({setup:lt}),components:{SelectAll:Ns,TableRowAction:Vn,SelectSingle:Hn},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t:t}}},iU={key:0},rU={key:1,class:"text-wrap max-w-120"};function dU(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,(r,m)=>(c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),(c(!0),u(C,null,F(t.setup.table_row_data,(v,b)=>(c(),u(C,{key:b},[v=="id"?(c(),u("td",iU,p(m+1),1)):(c(),u("td",rU,p(n.trim_content(r[v],v)),1))],64))),128))],2))),128)}const cU=k(lU,[["render",dU],["__scopeId","data-v-032fe6a3"]]),_U={components:{TableHead:TL,TableBody:cU},data:()=>({setup:lt,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:Qq,export_selected_csv:eL,export_demo_csv:aL,...H(Et,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:vL(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w(Et,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},uU={class:"row"},pU={class:"col-sm-12"},fU={class:"card"},mU={class:"card-header"},hU={class:"row align-items-center"},gU={class:"col-12 col-md-3 mb-2 mb-md-0"},vU={class:"text-capitalize mb-0"},yU={class:"col-12 col-md-6 mb-2 mb-md-0"},$U={class:"col-12 col-md-3 text-md-right text-sm-left"},bU=s("i",{class:"fa fa-gear mx-2"},null,-1),wU={class:"card-body"},kU={class:"table-responsive table_responsive card_body_fixed_height"},xU={class:"table table-hover text-center table-bordered"},CU={key:0},SU={class:"mx-3"},DU={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},AU={class:"pagination my-2",style:{"font-size":"11px"}},TU=["onClick","href","innerHTML"],EU={class:"d-flex",style:{gap:"5px"}},jU=s("span",null,null,-1),RU=s("span",null,"-",-1),OU=s("span",null,"of",-1),IU={class:"d-flex",style:{gap:"5px"}},FU=s("span",null,null,-1),PU=s("span",null," Limit ",-1),BU=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),qU=[BU],LU={class:"card-footer py-2"},UU={class:"d-flex flex-wrap align-items-center"},NU={class:"mr-2 mb-2"},VU=s("i",{class:"fa fa-edit mr-2"},null,-1),HU={class:"mr-2 mb-2"},zU=s("i",{class:"fa fa-print mr-2"},null,-1),MU={key:0,class:"mr-2 mb-2"},WU=s("i",{class:"fa fa-sign-out mr-2"},null,-1),JU={class:"mr-2 mb-2"},KU=s("i",{class:"fa fa-download mr-2"},null,-1),YU={class:"mr-2 mb-2"},GU=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),QU={class:"mr-2 mb-2"},XU=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),ZU={class:"mr-2 mb-2"},tN=s("i",{class:"fa fa-trash mr-2"},null,-1),eN={key:1,class:"mr-2 mb-2"},sN=K('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),aN=[sN],oN=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),nN={class:"off_canvas_body"},lN={class:"header"},iN=s("h3",{class:"heading_text"},"Filter",-1),rN=s("span",{class:"fa fa-close border p-2"},null,-1),dN=[rN],cN={class:"data_content"},_N={class:"filter_item"},uN=s("label",{for:"start_date"},"Start Date",-1),pN={for:"start_date",class:"text-capitalize d-block date_custom_control"},fN={class:"filter_item"},mN=s("label",{for:"end_date"},"End Date",-1),hN={for:"end_date",class:"text-capitalize d-block date_custom_control"},gN={class:"filter_item"},vN=s("label",{for:"sort_by_col"},"Sort By Col",-1),yN={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},$N={class:"filter_item"},bN=s("label",{for:"sort_by_col"},"Sort Type",-1),wN={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},kN={class:"filter_item"},xN=s("div",{class:"off_canvas_overlay"},null,-1),CN={class:"modal-dialog modal-dialog-centered"},SN={class:"modal-content border-primary"},DN={class:"modal-header bg-primary"},AN={class:"modal-title text-white"},TN=s("span",{"aria-hidden":"true"},"×",-1),EN=[TN],jN={class:"modal-body"},RN=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),ON=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),IN={class:"modal-footer"},FN=s("i",{class:"fa fa-times"},null,-1),PN=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function BN(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",uU,[s("div",pU,[s("div",fU,[s("div",mU,[s("div",hU,[s("div",gU,[s("h5",vU,p(t.setup.all_page_title),1)]),s("div",yU,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",$U,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[bU,f("Filter ")])])])]),s("div",wU,[s("div",kU,[s("table",xU,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",CU,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",SU,[s("nav",DU,[s("ul",AU,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,TU)],2)}),128))]),s("div",EU,[jU,s("span",null,p((S=t.all)==null?void 0:S.from),1),RU,s("span",null,p((z=t.all)==null?void 0:z.to),1),OU,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",IU,[FU,PU,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},qU,544),[[J,t.paginate]])])])]),s("div",LU,[s("div",UU,[s("div",NU,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[VU,f(" Create ")]),_:1},8,["to"])]),s("div",HU,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[zU,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",MU,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[WU,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",JU,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[KU,f(" Import ")])]),s("div",YU,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[GU,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",QU,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[XU,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",ZU,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[tN,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",eN,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},aN,32)])):j("",!0)])])])])]),oN,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",nN,[s("div",lN,[iN,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},dN)]),s("div",cN,[s("div",_N,[uN,s("label",pN,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",fN,[mN,s("label",hN,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",gN,[vN,s("label",yN,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",$N,[bN,s("label",wN,[P(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",kN,[s("button",{onClick:e[16]||(e[16]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),xN],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",CN,[s("form",{onSubmit:e[20]||(e[20]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",SN,[s("div",DN,[s("h5",AN," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},EN)]),s("div",jN,[RN,ON,s("a",{href:"",onClick:e[18]||(e[18]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",IN,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[FN,f(" Close ")]),PN])])],32)])],2)])}const qN=k(_U,[["render",BN]]),LN=[{name:"sales_order_id",label:"Select sales order",type:"select",value:"",data_list:[],onchangeAction:"get_sales_order_collection_history_by_sales_order_id"},{name:"amount",label:"Enter your amount",type:"number",value:""},{name:"reference",label:"Enter your reference",type:"text",value:"",row_col_class:"col-md-6"}],UN={data:()=>({setup:lt,form_fields:LN,param_id:null,order_details:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t),await this.get_all_sales_orders()},methods:{...H(Et,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(o=>{e.name==o[0]&&(this.form_fields[a].value=o[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}},get_all_sales_orders:async function(){let t=await axios.get("sales-orders?get_all=1");t.data.status=="success"&&(t=t.data.data,this.form_fields[0].data_list=[],t.forEach(e=>{let a={};a.label=e.title+" - "+e.reference,a.value=e.id,this.form_fields[0].data_list.push(a)}))},changeAction:function(t,e,a){this[t](t,e,a)},get_sales_order_collection_history_by_sales_order_id:async function(t,e,a){if(e.target.value==""){this.order_details=null;return}let o=await axios.get("sales-orders/"+e.target.value);o.data.status=="success"&&(this.order_details=o.data.data)}},computed:{...q(Et,{item:"item"})}},NN={class:"card"},VN={class:"card-header d-flex justify-content-between"},HN={class:"text-capitalize"},zN={class:"card-body card_body_fixed_height"},MN={class:"row"},WN=s("hr",null,null,-1),JN={key:0,class:"row justify-content-center"},KN={class:"col-lg-5 card mx-2"},YN=s("div",{class:"card-header"},[s("h5",null,"Order Details")],-1),GN={class:"crad-body"},QN={class:"table table-bordered table-hover table-striped my-2"},XN=s("th",null,"Order Title",-1),ZN=s("th",{class:"text-center"},":",-1),tV=s("th",null,"reference",-1),eV=s("th",{class:"text-center"},":",-1),sV=s("th",null,"customer",-1),aV=s("th",{class:"text-center"},":",-1),oV={class:"text-trim"},nV=s("th",null,"date",-1),lV=s("th",{class:"text-center"},":",-1),iV=s("th",null,"subtotal",-1),rV=s("th",{class:"text-center"},":",-1),dV=s("th",null,"total",-1),cV=s("th",{class:"text-center"},":",-1),_V=s("th",null,"paid",-1),uV=s("th",{class:"text-center"},":",-1),pV=s("th",null,"due",-1),fV=s("th",{class:"text-center"},":",-1),mV={class:"col-lg-5 card mx-2"},hV=s("div",{class:"card-header"},[s("h5",null,"Order Collection History")],-1),gV={class:"crad-body py-2"},vV={class:"table table-bordered table-hover table-striped"},yV=s("tr",null,[s("th",null,"Date"),s("th",null,"Amount")],-1),$V=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function bV(t,e,a,o,l,n){var r;const i=y("router-link"),d=y("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=g((...m)=>n.submitHandler&&n.submitHandler(...m),["prevent"]))},[s("div",NN,[s("div",VN,[s("h5",HN,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),W(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):j("",!0),x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",zN,[s("div",MN,[(c(!0),u(C,null,F(t.form_fields,(m,v)=>(c(),W(d,{key:v,label:m.label,type:m.type,name:m.name,multiple:m.multiple,value:m.value,data_list:m.data_list,is_visible:m.is_visible,row_col_class:m.row_col_class,onchange:n.changeAction,onchangeAction:m.onchangeAction},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class","onchange","onchangeAction"]))),128))]),WN,t.order_details?(c(),u("div",JN,[s("div",KN,[YN,s("div",GN,[s("table",QN,[s("tr",null,[XN,ZN,s("th",null,p(t.order_details.title),1)]),s("tr",null,[tV,eV,s("th",null,p(t.order_details.reference),1)]),s("tr",null,[sV,aV,s("th",oV,p((r=t.order_details.customer)==null?void 0:r.name),1)]),s("tr",null,[nV,lV,s("th",null,p(t.order_details.date),1)]),s("tr",null,[iV,rV,s("th",null,p(t.order_details.subtotal),1)]),s("tr",null,[dV,cV,s("th",null,p(t.order_details.total),1)]),s("tr",null,[_V,uV,s("th",null,p(t.order_details.paid),1)]),s("tr",null,[pV,fV,s("th",null,p(t.order_details.due),1)])])])]),s("div",mV,[hV,s("div",gV,[s("table",vV,[yV,(c(!0),u(C,null,F(t.order_details.sales_collection_histories,m=>(c(),u("tr",{key:m},[s("td",null,p(new Date(m.created_at).toLocaleDateString()),1),s("td",null,p(m.amount),1)]))),128))])])])])):j("",!0)]),$V])],32)])}const co=k(UN,[["render",bV]]);const wV={props:["item"],data:()=>({setup:lt}),components:{SelectAll:Ns,TableRowAction:Vn,SelectSingle:Hn},methods:{trim_content(t,e=null){return t}}},kV=t=>(ht("data-v-f6d0bedc"),t=t(),gt(),t),xV=kV(()=>s("th",{class:"text-center"},":",-1)),CV={class:"text-trim"};function SV(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),xV,s("th",CV,p(n.trim_content(a.item[i],i)),1)]))),128)}const DV=k(wV,[["render",SV],["__scopeId","data-v-f6d0bedc"]]),AV={components:{DataDetialsTableBody:DV},data:()=>({setup:lt}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(Et,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...w(Et,{item:"item"})}},TV={class:"card"},EV={class:"card-header d-flex justify-content-between"},jV={class:"text-capitalize"},RV={class:"card-body card_body_fixed_height"},OV={class:"row"},IV={class:"col-lg-8"},FV={class:"table quick_modal_table table-bordered"},PV={class:"card-footer"},BV=s("i",{class:"fa fa-angle-left"},null,-1),qV=s("i",{class:"fa fa-angle-right"},null,-1);function LV(t,e,a,o,l,n){const i=y("router-link"),d=y("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=g((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",TV,[s("div",EV,[s("h5",jV,p(t.setup.details_page_title),1),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",RV,[s("div",OV,[s("div",IV,[s("table",FV,[s("tbody",null,[x(d,{item:t.item},null,8,["item"])])])])])]),s("div",PV,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(r=>n.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[BV,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):j("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(r=>n.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),qV])):j("",!0)])])],32)])}const UV=k(AV,[["render",LV]]),NV={};function VV(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const HV=k(NV,[["render",VV]]);let Ae=lt.route_prefix,zV=lt.route_path;const MV={path:zV,component:HV,children:[{path:"all",name:"All"+Ae,component:qN},{path:"create",name:"Create"+Ae,component:co},{path:"details/:id",name:"Details"+Ae,component:UV},{path:"edit/:id",name:"Edit"+Ae,component:co}]},ne="SalesOrder",G={prefix:ne,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"sales-orders",module_name:"sales-order",store_prefix:"sales_order",route_prefix:"SalesOrder",route_path:"sales-order",select_fields:["id","title","reference","customer_id","date","subtotal","due","paid","discount","total","order_status","status","slug","created_at","deleted_at"],sort_by_cols:["id","title","reference","customer_id","date","subtotal","due","paid","discount","total","order_status","status","created_at"],table_header_data:["id","title","reference","customer","date","total","order_status","created_at"],table_row_data:["id","title","reference","customer","date","total","order_status","created_at"],layout_title:ne+" Management",page_title:`${ne} Management`,all_page_title:"All "+ne,details_page_title:"Details "+ne,create_page_title:"Create "+ne,edit_page_title:"Edit "+ne},WV={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:G.select_fields,sort_by_cols:G.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function _o(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function uo(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return _o({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw _o({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function JV(t){return t/1024}async function po(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),uo(t,r,i)):a=await uo(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:JV(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:KV,api_version:YV,api_end_point:GV}=G;let QV=async()=>{let t=w(bt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${KV}/${YV}/${GV}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await po(o,n)):a=await po(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function XV(t){let e=`${G.api_host}/${G.api_version}/${G.api_end_point}/store`;try{return await A.post(e,t)}catch(a){return a.response.status==422&&window.s_alert("Fill the required input fields.","error"),a.response}}async function ZV(t){let e=w(bt,["item"]),a=`${G.api_host}/${G.api_version}/${G.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function tH(t){let e=q(bt,["item"]),a=`${G.api_host}/${G.api_version}/${G.api_end_point}/update/${e.item().slug}`;try{return await A.post(a,t)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function eH(){let t=q(bt,["item"]),e=`${G.api_host}/${G.api_version}/${G.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function sH(){let t=q(bt,["item"]),e=`${G.api_host}/${G.api_version}/${G.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function aH(){let t=q(bt,["item"]),e=`${G.api_host}/${G.api_version}/${G.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function oH(){let t=q(bt,["item"]),e=`${G.api_host}/${G.api_version}/${G.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function nH(t,e){let a=`${G.api_host}/${G.api_version}/${G.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function lH(t){let e=t.target,a=new FormData(e),o=`${G.api_host}/${G.api_version}/${G.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function iH(t={}){let e=bt();e.filter_criteria={...e.filter_criteria,...t}}async function rH(t={}){w(bt,["item"]).item.set(t)}async function dH(t=!0){w(bt,["only_latest_data"]).only_latest_data.set(t)}async function cH(t=1){w(bt,["page"]).page.set(t)}async function _H(t=10){w(bt,["paginate"]).paginate.set(t)}async function uH(t=!0){w(bt,["show_details_canvas"]).show_details_canvas.set(t)}async function pH(t=!0){w(bt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function fH(t="active"){w(bt,["status"]).status.set(t)}async function mH(){w(bt,["selected"]).selected.set([])}const bt=Vt(G.store_prefix,{state:()=>WV,getters:{},actions:{get_all:QV,create:XV,update:tH,details:ZV,update_status:sH,soft_delete:eH,restore:aH,destroy:oH,bulk_action:nH,import_data:lH,set_page:cH,set_paginate:_H,set_show_details_canvas:uH,set_item:rH,set_show_filter_canvas:pH,set_filter_criteria:iH,set_status:fH,set_only_latest_data:dH,clear_selected:mH}});var hH=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),gH=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var vH=function(t){gH(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(hH);const Vs=vH;let yH=G.store_prefix;async function $H(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${G.api_host}/${G.api_version}/${G.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=bH(d.data.data.data[0],o);l=new Vs(`${yH}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>wH(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function bH(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function wH(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let kH=G.store_prefix;function xH(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new Vs(`${kH}_list.csv`).setColumns(a).addRows(o).exportFile(),w(bt,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let CH=G.store_prefix;function SH(){const t=G.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new Vs(`${CH}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var DH="Expected a function",fo=0/0,AH="[object Symbol]",TH=/^\s+|\s+$/g,EH=/^[-+]0x[0-9a-f]+$/i,jH=/^0b[01]+$/i,RH=/^0o[0-7]+$/i,OH=parseInt,IH=typeof global=="object"&&global&&global.Object===Object&&global,FH=typeof self=="object"&&self&&self.Object===Object&&self,PH=IH||FH||Function("return this")(),BH=Object.prototype,qH=BH.toString,LH=Math.max,UH=Math.min,Ke=function(){return PH.Date.now()};function NH(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(DH);e=mo(e)||0,fs(a)&&(v=!!a.leading,b="maxWait"in a,n=b?LH(mo(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?UH(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=Ke();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(Ke())}function D(){var h=Ke(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function fs(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function VH(t){return!!t&&typeof t=="object"}function HH(t){return typeof t=="symbol"||VH(t)&&qH.call(t)==AH}function mo(t){if(typeof t=="number")return t;if(HH(t))return fo;if(fs(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=fs(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(TH,"");var a=jH.test(t);return a||RH.test(t)?OH(t.slice(2),a?2:8):EH.test(t)?fo:+t}function zH(t){console.log(t.target.checked);const e=w(bt,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const MH={methods:{set_all_item_selectd:zH}};function WH(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Hs=k(MH,[["render",WH]]);const JH={data:()=>({setup:G}),components:{SelectAll:Hs}},KH=t=>(ht("data-v-25c22a5c"),t=t(),gt(),t),YH=KH(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),GH={class:"w-10 text-center"};function QH(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[YH,s("th",GH,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const XH=k(JH,[["render",QH],["__scopeId","data-v-25c22a5c"]]);function ZH(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const tz={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:G})},ez=s("i",{class:"fa fa-file text-secondary"},null,-1);function sz(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Invoice${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[ez,f(" Invoice ")]),_:1},8,["to"])}const az=k(tz,[["render",sz]]),oz={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:G})},nz=s("i",{class:"fa fa-eye text-secondary"},null,-1);function lz(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[nz,f(" Show ")]),_:1},8,["to"])}const iz=k(oz,[["render",lz]]),rz={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:G})},dz=s("i",{class:"fa fa-history text-secondary"},null,-1);function cz(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[dz,f(" Log ")]),_:1},8,["to"])}const _z=k(rz,[["render",cz]]),uz={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:G})},pz=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function fz(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[pz,f(" Edit ")]),_:1},8,["to"])}const mz=k(uz,[["render",fz]]),hz={props:{item:{slug:""}},methods:{...H(bt,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},gz=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),vz=s("i",{class:"fa fa-eye text-warning"},null,-1);function yz(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[gz,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[vz,f(" Active ")])):j("",!0)],64)}const $z=k(hz,[["render",yz]]),bz={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(bt,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},wz=s("i",{class:"fa fa-ban text-warning"},null,-1),kz=s("i",{class:"fa fa-ban text-warning"},null,-1);function xz(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[wz,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[kz,f(" Restore data ")])):j("",!0)],64)}const Cz=k(bz,[["render",xz]]),Sz={props:{item:{slug:""}},methods:{...H(bt,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},Dz=s("i",{class:"fa fa-trash text-danger"},null,-1);function Az(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[Dz,f(" Destroy ")])}const Tz=k(Sz,[["render",Az]]),Ez={props:{item:{type:Object,default:{}}},components:{DetailsBtn:iz,Edit:mz,DataLog:_z,StatusButton:$z,Destroy:Tz,DeleteRestore:Cz,Invoice:az},methods:{active_row:ZH}},jz={class:"table_action_btns"};function Rz(t,e,a,o,l,n){const i=y("edit"),d=y("status-button"),r=y("delete-restore"),m=y("destroy"),v=y("data-log"),b=y("invoice");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(B=>n.active_row(B),["prevent"])),class:"icon"}),s("div",jz,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),s("li",null,[x(b,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const zn=k(Ez,[["render",Rz]]);function Oz(t,e){const a=w(bt,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const Iz={props:["data"],created:function(){},methods:{set_item_selectd:Oz},computed:{...q(bt,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},Fz=["checked"];function Pz(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,Fz)}const Mn=k(Iz,[["render",Pz]]);const Bz={props:["data"],data:()=>({setup:G}),components:{SelectAll:Hs,TableRowAction:zn,SelectSingle:Mn},methods:{trim_content(t,e=null){var a,o;if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const l of Object.keys(t)){if(l==="title"&&t.title)return t.title;if(l==="name"&&t.name)return((a=t.name)==null?void 0:a.length)>50?((o=t.name)==null?void 0:o.substring(0,30))+"...":t.name}return t||""}}},qz={key:0},Lz={key:1,class:"text-wrap max-w-120"};function Uz(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,(r,m)=>(c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),(c(!0),u(C,null,F(t.setup.table_row_data,(v,b)=>(c(),u(C,{key:b},[v=="id"?(c(),u("td",qz,p(m+1),1)):(c(),u("td",Lz,p(n.trim_content(r[v],v)),1))],64))),128))],2))),128)}const Nz=k(Bz,[["render",Uz],["__scopeId","data-v-f93ba335"]]),Vz={components:{TableHead:XH,TableBody:Nz},data:()=>({setup:G,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:$H,export_selected_csv:xH,export_demo_csv:SH,...H(bt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:NH(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w(bt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},Hz={class:"row"},zz={class:"col-sm-12"},Mz={class:"card"},Wz={class:"card-header"},Jz={class:"row align-items-center"},Kz={class:"col-12 col-md-3 mb-2 mb-md-0"},Yz={class:"text-capitalize mb-0"},Gz={class:"col-12 col-md-6 mb-2 mb-md-0"},Qz={class:"col-12 col-md-3 text-md-right text-sm-left"},Xz=s("i",{class:"fa fa-gear mx-2"},null,-1),Zz={class:"card-body"},tM={class:"table-responsive table_responsive card_body_fixed_height"},eM={class:"table table-hover text-center table-bordered"},sM={key:0},aM={class:"mx-3"},oM={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},nM={class:"pagination my-2",style:{"font-size":"11px"}},lM=["onClick","href","innerHTML"],iM={class:"d-flex",style:{gap:"5px"}},rM=s("span",null,null,-1),dM=s("span",null,"-",-1),cM=s("span",null,"of",-1),_M={class:"d-flex",style:{gap:"5px"}},uM=s("span",null,null,-1),pM=s("span",null," Limit ",-1),fM=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),mM=[fM],hM={class:"card-footer py-2"},gM={class:"d-flex flex-wrap align-items-center"},vM={class:"mr-2 mb-2"},yM=s("i",{class:"fa fa-edit mr-2"},null,-1),$M={class:"mr-2 mb-2"},bM=s("i",{class:"fa fa-print mr-2"},null,-1),wM={key:0,class:"mr-2 mb-2"},kM=s("i",{class:"fa fa-sign-out mr-2"},null,-1),xM={class:"mr-2 mb-2"},CM=s("i",{class:"fa fa-download mr-2"},null,-1),SM={class:"mr-2 mb-2"},DM=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),AM={class:"mr-2 mb-2"},TM=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),EM={class:"mr-2 mb-2"},jM=s("i",{class:"fa fa-trash mr-2"},null,-1),RM={key:1,class:"mr-2 mb-2"},OM=K('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),IM=[OM],FM=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),PM={class:"off_canvas_body"},BM={class:"header"},qM=s("h3",{class:"heading_text"},"Filter",-1),LM=s("span",{class:"fa fa-close border p-2"},null,-1),UM=[LM],NM={class:"data_content"},VM={class:"filter_item"},HM=s("label",{for:"start_date"},"Start Date",-1),zM={for:"start_date",class:"text-capitalize d-block date_custom_control"},MM={class:"filter_item"},WM=s("label",{for:"end_date"},"End Date",-1),JM={for:"end_date",class:"text-capitalize d-block date_custom_control"},KM={class:"filter_item"},YM=s("label",{for:"sort_by_col"},"Sort By Col",-1),GM={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},QM={class:"filter_item"},XM=s("label",{for:"sort_by_col"},"Sort Type",-1),ZM={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},tW={class:"filter_item"},eW=s("div",{class:"off_canvas_overlay"},null,-1),sW={class:"modal-dialog modal-dialog-centered"},aW={class:"modal-content border-primary"},oW={class:"modal-header bg-primary"},nW={class:"modal-title text-white"},lW=s("span",{"aria-hidden":"true"},"×",-1),iW=[lW],rW={class:"modal-body"},dW=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),cW=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),_W={class:"modal-footer"},uW=s("i",{class:"fa fa-times"},null,-1),pW=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function fW(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",Hz,[s("div",zz,[s("div",Mz,[s("div",Wz,[s("div",Jz,[s("div",Kz,[s("h5",Yz,p(t.setup.all_page_title),1)]),s("div",Gz,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",Qz,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[Xz,f("Filter ")])])])]),s("div",Zz,[s("div",tM,[s("table",eM,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",sM,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",aM,[s("nav",oM,[s("ul",nM,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,lM)],2)}),128))]),s("div",iM,[rM,s("span",null,p((S=t.all)==null?void 0:S.from),1),dM,s("span",null,p((z=t.all)==null?void 0:z.to),1),cM,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",_M,[uM,pM,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},mM,544),[[J,t.paginate]])])])]),s("div",hM,[s("div",gM,[s("div",vM,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[yM,f(" Create ")]),_:1},8,["to"])]),s("div",$M,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[bM,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",wM,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[kM,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",xM,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[CM,f(" Import ")])]),s("div",SM,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[DM,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",AM,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[TM,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",EM,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[jM,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",RM,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},IM,32)])):j("",!0)])])])])]),FM,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",PM,[s("div",BM,[qM,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},UM)]),s("div",NM,[s("div",VM,[HM,s("label",zM,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",MM,[WM,s("label",JM,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",KM,[YM,s("label",GM,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",QM,[XM,s("label",ZM,[P(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",tW,[s("button",{onClick:e[16]||(e[16]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),eW],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",sW,[s("form",{onSubmit:e[20]||(e[20]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",aW,[s("div",oW,[s("h5",nW," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},iW)]),s("div",rW,[dW,cW,s("a",{href:"",onClick:e[18]||(e[18]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",_W,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[uW,f(" Close ")]),pW])])],32)])],2)])}const mW=k(Vz,[["render",fW]]),hW={data:()=>({setup:G,param_id:null,products:[],customers:[],formData:{title:"",reference:"",customer_id:"",date:"",subtotal:0,discount:0,total:0,paid:0,due:0,product_items:[]}}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t),await this.get_all_products(),await this.get_all_customers()},methods:{...H(bt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&(this.formData.title=this.item.title,this.formData.reference=this.item.reference,this.formData.customer_id=this.item.customer_id,this.formData.date=this.item.date,this.formData.subtotal=this.item.subtotal,this.formData.discount=this.item.discount,this.formData.total=this.item.total,this.formData.paid=this.item.paid,this.formData.due=this.item.due,this.formData.product_items=this.item.sales_order_products)},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(this.formData);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`All${this.setup.route_prefix}`}))}else{let e=await this.create(this.formData);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}},get_all_products:async function(){var e;let t=await axios.get("products?get_all=1");t.data.status==="success"&&(this.products=(e=t.data)==null?void 0:e.data)},set_product_item:async function(t){var l;Array.isArray(this.formData.product_items)||(this.formData.product_items=[]);let e=this.products.find(n=>n.id==t);if(!e){alert("Product not found");return}if(this.formData.product_items.some(n=>n.product_id==t)){alert("Product already added");return}let a=0,o=await axios.get(`get-product-stock-quantity-by-product-id/${t}`);o.data.status=="success"&&(a=(l=o.data)==null?void 0:l.data),this.formData.product_items.push({product_id:e.id,product_name:e.title,quantity:0,available_quantity:a,price:0,subtotal:0})},removeItem:function(t){this.formData.product_items=this.formData.product_items.filter((e,a)=>t!=a),this.formData.product_items.length===0&&(this.formData={subtotal:0,discount:0,total:0,paid:0,due:0})},get_all_customers:async function(){var e;let t=await axios.get("customers?get_all=1");t.data.status=="success"&&(this.customers=((e=t.data)==null?void 0:e.data)||[])}},watch:{"formData.product_items":{handler(t){if(!Array.isArray(t)){this.formData.subtotal=0;return}const e=t.reduce((a,o)=>(o.subtotal=(o.quantity||0)*(o.price||0),a+o.subtotal),0);this.formData.subtotal=e},deep:!0},formData:{handler:function(t){const{subtotal:e,discount:a,paid:o}=t;this.formData.total=Number(e)-Number(a),this.formData.due=Number(this.formData.total)-Number(o)},deep:!0}},computed:{...q(bt,{item:"item"})}},gW={class:"card"},vW=s("div",{class:"card-header d-flex justify-content-between"},[s("h5",{class:"text-capitalize"},"Create Sales Order"),s("div",null,[s("a",{href:"#/purchase-order/all",class:"btn btn-outline-warning btn-sm"},"All Sales Order")])],-1),yW={class:"card-body card_body_fixed_height"},$W={class:"row"},bW={class:"col-md-6"},wW={class:"form-group"},kW=s("label",{for:""},"Enter your title",-1),xW={class:"mt-1 mb-3"},CW={class:"col-md-6"},SW={class:"form-group"},DW=s("label",{for:""},"Enter your reference",-1),AW={class:"mt-1 mb-3"},TW={class:"col-md-6"},EW={class:"form-group"},jW=s("label",{for:""},"Select Customer",-1),RW={class:"mt-1 mb-3"},OW=s("option",{value:""},"Select customer",-1),IW=["value"],FW={class:"col-md-6"},PW={class:"form-group"},BW=s("label",{for:""},"Select date",-1),qW={class:"mt-1 mb-3"},LW={class:"row justify-content-center my-3"},UW={class:"col-md-7"},NW={class:"form-group"},VW=s("label",{for:""},"Select Products",-1),HW=s("option",{value:""},"Select Product",-1),zW=["value"],MW={class:"table table-bordered table-hover table-striped"},WW=s("thead",null,[s("tr",null,[s("th",null,"Product Name"),s("th",null,"Quantity"),s("th",null,"Available Quantity"),s("th",null,"Price"),s("th",null,"SubTotal"),s("th",null,"Actions")])],-1),JW=["onUpdate:modelValue"],KW=["onUpdate:modelValue"],YW=["onUpdate:modelValue"],GW=["onUpdate:modelValue"],QW=["onUpdate:modelValue"],XW=["onUpdate:modelValue"],ZW=["onClick"],tJ=s("i",{class:"fa fa-trash"},null,-1),eJ=[tJ],sJ={class:"row justify-content-end my-3"},aJ={class:"col-md-4"},oJ={class:"table table-bordered table-hover table-striped"},nJ=s("td",{colspan:"2"},"Total",-1),lJ=s("td",{colspan:"2"},"Discount",-1),iJ=s("td",{colspan:"2"},"Grand Total",-1),rJ={key:0},dJ=s("td",{colspan:"2"},"Paid",-1),cJ=s("td",{colspan:"2"},"Due",-1),_J=s("div",{class:"card-footer text-center"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5 w-25"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function uJ(t,e,a,o,l,n){return c(),u("div",null,[s("form",{onSubmit:e[10]||(e[10]=g((...i)=>n.submitHandler&&n.submitHandler(...i),["prevent"]))},[s("div",gW,[vW,s("div",yW,[s("div",$W,[s("div",bW,[s("div",wW,[kW,s("div",xW,[P(s("input",{class:"form-control form-control-square mb-2",type:"text",name:"title",id:"title","onUpdate:modelValue":e[0]||(e[0]=i=>t.formData.title=i)},null,512),[[M,t.formData.title]])])])]),s("div",CW,[s("div",SW,[DW,s("div",AW,[P(s("input",{class:"form-control form-control-square mb-2",type:"text",name:"reference",id:"reference","onUpdate:modelValue":e[1]||(e[1]=i=>t.formData.reference=i)},null,512),[[M,t.formData.reference]])])])]),s("div",TW,[s("div",EW,[jW,s("div",RW,[P(s("select",{class:"form-control form-control-square mb-2",name:"customer_id",id:"customer_id","onUpdate:modelValue":e[2]||(e[2]=i=>t.formData.customer_id=i)},[OW,(c(!0),u(C,null,F(t.customers,i=>(c(),u("option",{key:i,value:i.id},p(i.name),9,IW))),128))],512),[[J,t.formData.customer_id]])])])]),s("div",FW,[s("div",PW,[BW,s("div",qW,[P(s("input",{class:"form-control form-control-square mb-2",type:"date",name:"date",id:"date","onUpdate:modelValue":e[3]||(e[3]=i=>t.formData.date=i)},null,512),[[M,t.formData.date]])])])])]),s("div",LW,[s("div",UW,[s("div",NW,[VW,s("select",{name:"",id:"",class:"form-control",onChange:e[4]||(e[4]=i=>n.set_product_item(i.target.value))},[HW,(c(!0),u(C,null,F(t.products,i=>(c(),u("option",{value:i.id,key:i.id},p(i.title),9,zW))),128))],32)])])]),s("div",null,[s("table",MW,[WW,s("tbody",null,[(c(!0),u(C,null,F(t.formData.product_items,(i,d)=>(c(),u("tr",{key:d},[s("td",null,[P(s("input",{class:"form-control form-control-square",type:"hidden","onUpdate:modelValue":r=>i.product_id=r},null,8,JW),[[M,i.product_id]]),P(s("input",{class:"form-control form-control-square",type:"text",readonly:"","onUpdate:modelValue":r=>i.product_name=r},null,8,KW),[[M,i.product_name]])]),s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number","onUpdate:modelValue":r=>i.quantity=r},null,8,YW),[[M,i.quantity]])]),s("td",null,[P(s("input",{readonly:"",class:"form-control form-control-square",type:"number","onUpdate:modelValue":r=>i.available_quantity=r},null,8,GW),[[M,i.available_quantity]])]),s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number","onUpdate:modelValue":r=>i.price=r},null,8,QW),[[M,i.price]])]),s("td",null,[P(s("input",{class:"form-control form-control-square",type:"text","onUpdate:modelValue":r=>i.subtotal=r},null,8,XW),[[M,i.subtotal]])]),s("td",null,[s("button",{type:"button",class:"btn btn-danger btn-outline-behance",onClick:r=>n.removeItem(d)},eJ,8,ZW)])]))),128))])]),s("div",sJ,[s("div",aJ,[s("table",oJ,[s("tr",null,[nJ,s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number",readonly:"","onUpdate:modelValue":e[5]||(e[5]=i=>t.formData.subtotal=i)},null,512),[[M,t.formData.subtotal]])])]),s("tr",null,[lJ,s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number","onUpdate:modelValue":e[6]||(e[6]=i=>t.formData.discount=i)},null,512),[[M,t.formData.discount]])])]),s("tr",null,[iJ,s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number",readonly:"","onUpdate:modelValue":e[7]||(e[7]=i=>t.formData.total=i)},null,512),[[M,t.formData.total]])])]),t.param_id?j("",!0):(c(),u("tr",rJ,[dJ,s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number","onUpdate:modelValue":e[8]||(e[8]=i=>t.formData.paid=i)},null,512),[[M,t.formData.paid]])])])),s("tr",null,[cJ,s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number",readonly:"","onUpdate:modelValue":e[9]||(e[9]=i=>t.formData.due=i)},null,512),[[M,t.formData.due]])])])])])])])]),_J])],32)])}const ho=k(hW,[["render",uJ]]);const pJ={props:["item"],data:()=>({setup:G}),components:{SelectAll:Hs,TableRowAction:zn,SelectSingle:Mn},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},fJ=t=>(ht("data-v-cbe780df"),t=t(),gt(),t),mJ=fJ(()=>s("th",{class:"text-center"},":",-1)),hJ={class:"text-trim"};function gJ(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),mJ,s("th",hJ,p(n.trim_content(a.item[i],i)),1)]))),128)}const vJ=k(pJ,[["render",gJ],["__scopeId","data-v-cbe780df"]]),yJ={components:{DataDetialsTableBody:vJ},data:()=>({setup:G,sales_order_logs:[]}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t),this.sales_order_logs=this.item.sales_order_logs},methods:{...H(bt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)},LogSearchHandler:async function(t){let e=this.param_id=this.$route.params.id,a=new FormData(t.target);a.append("slug",e);let o=await axios.post("/sales-orders/log-search",a);o.data.status=="success"&&(this.sales_order_logs=o.data.data,console.log(this.item))}},computed:{...w(bt,{item:"item"})}},$J={class:"card"},bJ={class:"card-header d-flex justify-content-between"},wJ={class:"text-capitalize"},kJ=s("input",{type:"date",class:"form-control",name:"start_date",id:""},null,-1),xJ=s("input",{type:"date",class:"form-control mx-2",name:"end_date",id:""},null,-1),CJ=s("button",{type:"submit",class:"btn btn-outline-success"},[s("i",{class:"fa fa-search"})],-1),SJ=[kJ,xJ,CJ],DJ={class:"card-body card_body_fixed_height"},AJ={class:"row gap-2 justify-content-center"},TJ={class:"d-flex flex-wrap gap-1"},EJ={class:"w-25"},jJ=s("label",{for:""},"created date",-1),RJ={class:""},OJ=["value"],IJ={class:"w-25"},FJ=s("label",{for:""},"title",-1),PJ={class:""},BJ=["value"],qJ={class:"w-25"},LJ=s("label",{for:""},"Reference",-1),UJ={class:""},NJ=["value"],VJ={class:"w-25"},HJ=s("label",{for:""},"customer_id",-1),zJ={class:""},MJ=["value"],WJ={class:"table quick_modal_table table-bordered"},JJ=s("tr",null,[s("th",null,"Product Name"),s("th",null,"Quantity"),s("th",null,"Price"),s("th",null,"SubTotal")],-1);function KJ(t,e,a,o,l,n){const i=y("router-link");return c(),u("div",null,[s("form",{onSubmit:e[1]||(e[1]=g((...d)=>t.submitHandler&&t.submitHandler(...d),["prevent"]))},[s("div",$J,[s("div",bJ,[s("h5",wJ,p(t.setup.prefix)+" Log History ",1),s("div",null,[s("form",{onSubmit:e[0]||(e[0]=g((...d)=>n.LogSearchHandler&&n.LogSearchHandler(...d),["prevent"])),class:"d-flex justify-content-evenly align-items-center"},SJ,32)]),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",DJ,[s("div",AJ,[(c(!0),u(C,null,F(t.sales_order_logs,(d,r)=>(c(),u("div",{class:"col-lg-6 my-2 p-2 border rounded-3",key:r},[s("div",TJ,[s("div",EJ,[jJ,s("div",RJ,[s("input",{class:"form-control form-control-square mb-2",readonly:"",value:new Date(d.created_at).toDateString()},null,8,OJ)])]),s("div",IJ,[FJ,s("div",PJ,[s("input",{class:"form-control form-control-square mb-2",readonly:"",value:d.title},null,8,BJ)])]),s("div",qJ,[LJ,s("div",UJ,[s("input",{class:"form-control form-control-square mb-2",readonly:"",value:d.reference},null,8,NJ)])]),s("div",VJ,[HJ,s("div",zJ,[s("input",{class:"form-control form-control-square mb-2",readonly:"",value:d.customer_id},null,8,MJ)])])]),s("table",WJ,[s("tbody",null,[JJ,(c(!0),u(C,null,F(d.sales_order_products,m=>(c(),u("tr",{key:m.id},[s("td",null,p(m.product_name),1),s("td",null,p(m.quantity),1),s("td",null,p(m.price),1),s("td",null,p(m.subtotal),1)]))),128))])])]))),128))])])])],32)])}const YJ=k(yJ,[["render",KJ]]),GJ={};function QJ(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const XJ=k(GJ,[["render",QJ]]);const ZJ={data:()=>({setup:G}),created:async function(){let t=this.param_id=this.$route.params.id;t&&await this.details(t)},methods:{...H(bt,{details:"details"}),print(){window.print()},convert_amount:function(t){return convert(t)}},computed:{...q(bt,{item:"item"})}},tK={class:"container card"},eK=s("div",{class:"bill-header"},[s("h2",{class:"bill-title"},"BAIYUAN MACHINERY CO."),s("p",null," House # 20, Road # 33, Sector # 07, Uttara, Dhaka-1230, Bangladesh "),s("p",null,[s("strong",null,"Phone:"),f(" +880 17676 88801, +880 1949323555"),s("br"),s("strong",null,"Email:"),f(" baiyuanbd@gmail.com ")]),s("hr")],-1),sK={class:"bill-info"},aK={class:"d-flex justify-content-between"},oK=s("strong",null,"Bill No: ",-1),nK={class:"underline"},lK=s("strong",null,"Challan No: ",-1),iK={class:"underline"},rK=s("strong",null,"Date: ",-1),dK={class:"underline"},cK={class:"d-flex justify-content-between mt-3 gap-2"},_K=s("strong",null,"Name: ",-1),uK={class:"underline"},pK={class:"text-start"},fK=s("strong",null,"Address:",-1),mK={class:"underline"},hK={class:"border border-top-0 border-right-0 border-left-0"},gK={class:"table table-bordered mt-4"},vK=s("thead",null,[s("tr",null,[s("th",null,"NO."),s("th",null,"DESCRIPTION OF GOODS"),s("th",null,"QUANTITY"),s("th",null,"UNIT PRICE"),s("th",null,"TOTAL PRICE")])],-1),yK=s("tr",null,null,-1),$K={colspan:"3",class:"text-left py-4"},bK={class:"underline text-capitalize"},wK=s("td",{class:"text-right"},[s("strong",null,"Total Amount:")],-1),kK=s("div",{class:"footer-section"},[s("div",{class:"d-flex justify-content-between my-5"},[s("div",null,[s("p",null,"__________________________"),s("p",null,[s("strong",null,"Received by:")])]),s("div",{class:"text-right"},[s("p",null,"__________________________"),s("p",null,"For: Baiyuan Machinery Co.")])])],-1);function xK(t,e,a,o,l,n){var i;return c(),u("div",null,[s("div",tK,[eK,s("div",sK,[s("div",aK,[s("div",null,[oK,s("span",nK,p(t.item.id),1)]),s("div",null,[lK,s("span",iK,p(t.item.order_id),1)]),s("div",null,[rK,s("span",dK,p(t.item.date),1)])]),s("div",cK,[s("div",null,[_K,s("span",uK,p((i=t.item.suppliyer)==null?void 0:i.name),1)]),s("div",pK,[fK,s("span",mK,p(t.item.address??"N/A"),1)])])]),s("div",hK,[s("table",gK,[vK,s("tbody",null,[(c(!0),u(C,null,F(t.item.sales_order_products,(d,r)=>(c(),u("tr",null,[s("td",null,p(r+1),1),s("td",null,p(d.product_name),1),s("td",null,p(d.quantity),1),s("td",null,p(d.price),1),s("td",null,p(d.subtotal),1)]))),256)),yK,s("tr",null,[s("td",$K,[s("strong",null,[f(" Taka in Words: "),s("span",bK,p(n.convert_amount(Number(t.item.total))),1)])]),wK,s("td",null,p(t.item.total),1)])])])]),kK]),s("button",{class:"btn btn-primary print-btn my-3 text-center mx-auto d-block",onClick:e[0]||(e[0]=(...d)=>n.print&&n.print(...d))}," Print ")])}const CK=k(ZJ,[["render",xK]]);let ge=G.route_prefix,SK=G.route_path;const DK={path:SK,component:XJ,children:[{path:"all",name:"All"+ge,component:mW},{path:"create",name:"Create"+ge,component:ho},{path:"details/:id",name:"Details"+ge,component:YJ},{path:"edit/:id",name:"Edit"+ge,component:ho},{path:"invoice/:id",name:"Invoice"+ge,component:CK}]},le="WarehouseProductOut",it={prefix:le,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"warehouse-product-outs",module_name:"warehouse-product-out",store_prefix:"warehouse_product_out",route_prefix:"WarehouseProductOut",route_path:"warehouse-product-out",select_fields:["id","warehouse_id","sales_order_id","date","status","slug","created_at","deleted_at"],sort_by_cols:["id","warehouse_id","sales_order_id","date","status","created_at"],table_header_data:["id","warehouse","sales order","date","status","created_at"],table_row_data:["id","warehouse","sales_order","date","status","created_at"],layout_title:le+" Management",page_title:`${le} Management`,all_page_title:"All "+le,details_page_title:"Details "+le,create_page_title:"Create "+le,edit_page_title:"Edit "+le},AK={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:it.select_fields,sort_by_cols:it.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function go(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function vo(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return go({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw go({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function TK(t){return t/1024}async function yo(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),vo(t,r,i)):a=await vo(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:TK(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:EK,api_version:jK,api_end_point:RK}=it;let OK=async()=>{let t=w(jt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${EK}/${jK}/${RK}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await yo(o,n)):a=await yo(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function IK(t){let e=`${it.api_host}/${it.api_version}/${it.api_end_point}/store`;try{return await A.post(e,t)}catch(a){return a.response.status==422&&window.s_alert("Fill the required input fields.","error"),a.response}}async function FK(t){let e=w(jt,["item"]),a=`${it.api_host}/${it.api_version}/${it.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function PK(t){let e=q(jt,["item"]),a=`${it.api_host}/${it.api_version}/${it.api_end_point}/update/${e.item().slug}`;try{return await A.post(a,t)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function BK(){let t=q(jt,["item"]),e=`${it.api_host}/${it.api_version}/${it.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function qK(){let t=q(jt,["item"]),e=`${it.api_host}/${it.api_version}/${it.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function LK(){let t=q(jt,["item"]),e=`${it.api_host}/${it.api_version}/${it.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function UK(){let t=q(jt,["item"]),e=`${it.api_host}/${it.api_version}/${it.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function NK(t,e){let a=`${it.api_host}/${it.api_version}/${it.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function VK(t){let e=t.target,a=new FormData(e),o=`${it.api_host}/${it.api_version}/${it.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function HK(t={}){let e=jt();e.filter_criteria={...e.filter_criteria,...t}}async function zK(t={}){w(jt,["item"]).item.set(t)}async function MK(t=!0){w(jt,["only_latest_data"]).only_latest_data.set(t)}async function WK(t=1){w(jt,["page"]).page.set(t)}async function JK(t=10){w(jt,["paginate"]).paginate.set(t)}async function KK(t=!0){w(jt,["show_details_canvas"]).show_details_canvas.set(t)}async function YK(t=!0){w(jt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function GK(t="active"){w(jt,["status"]).status.set(t)}async function QK(){w(jt,["selected"]).selected.set([])}const jt=Vt(it.store_prefix,{state:()=>AK,getters:{},actions:{get_all:OK,create:IK,update:PK,details:FK,update_status:qK,soft_delete:BK,restore:LK,destroy:UK,bulk_action:NK,import_data:VK,set_page:WK,set_paginate:JK,set_show_details_canvas:KK,set_item:zK,set_show_filter_canvas:YK,set_filter_criteria:HK,set_status:GK,set_only_latest_data:MK,clear_selected:QK}});var XK=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),ZK=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var tY=function(t){ZK(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(XK);const zs=tY;let eY=it.store_prefix;async function sY(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${it.api_host}/${it.api_version}/${it.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=aY(d.data.data.data[0],o);l=new zs(`${eY}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>oY(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function aY(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function oY(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let nY=it.store_prefix;function lY(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new zs(`${nY}_list.csv`).setColumns(a).addRows(o).exportFile(),w(jt,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let iY=it.store_prefix;function rY(){const t=it.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new zs(`${iY}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var dY="Expected a function",$o=0/0,cY="[object Symbol]",_Y=/^\s+|\s+$/g,uY=/^[-+]0x[0-9a-f]+$/i,pY=/^0b[01]+$/i,fY=/^0o[0-7]+$/i,mY=parseInt,hY=typeof global=="object"&&global&&global.Object===Object&&global,gY=typeof self=="object"&&self&&self.Object===Object&&self,vY=hY||gY||Function("return this")(),yY=Object.prototype,$Y=yY.toString,bY=Math.max,wY=Math.min,Ye=function(){return vY.Date.now()};function kY(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(dY);e=bo(e)||0,ms(a)&&(v=!!a.leading,b="maxWait"in a,n=b?bY(bo(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?wY(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=Ye();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(Ye())}function D(){var h=Ye(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function ms(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function xY(t){return!!t&&typeof t=="object"}function CY(t){return typeof t=="symbol"||xY(t)&&$Y.call(t)==cY}function bo(t){if(typeof t=="number")return t;if(CY(t))return $o;if(ms(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ms(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(_Y,"");var a=pY.test(t);return a||fY.test(t)?mY(t.slice(2),a?2:8):uY.test(t)?$o:+t}function SY(t){console.log(t.target.checked);const e=w(jt,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const DY={methods:{set_all_item_selectd:SY}};function AY(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Ms=k(DY,[["render",AY]]);const TY={data:()=>({setup:it}),components:{SelectAll:Ms}},EY=t=>(ht("data-v-8944634a"),t=t(),gt(),t),jY=EY(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),RY={class:"w-10 text-center"};function OY(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[jY,s("th",RY,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const IY=k(TY,[["render",OY],["__scopeId","data-v-8944634a"]]);function FY(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const PY={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:it})},BY=s("i",{class:"fa fa-eye text-secondary"},null,-1);function qY(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[BY,f(" Show ")]),_:1},8,["to"])}const LY=k(PY,[["render",qY]]),UY={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:it})},NY=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function VY(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[NY,f(" Edit ")]),_:1},8,["to"])}const HY=k(UY,[["render",VY]]),zY={props:{item:{slug:""}},methods:{...H(jt,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},MY=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),WY=s("i",{class:"fa fa-eye text-warning"},null,-1);function JY(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[MY,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[WY,f(" Active ")])):j("",!0)],64)}const KY=k(zY,[["render",JY]]),YY={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(jt,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},GY=s("i",{class:"fa fa-ban text-warning"},null,-1),QY=s("i",{class:"fa fa-ban text-warning"},null,-1);function XY(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[GY,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[QY,f(" Restore data ")])):j("",!0)],64)}const ZY=k(YY,[["render",XY]]),tG={props:{item:{slug:""}},methods:{...H(jt,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},eG=s("i",{class:"fa fa-trash text-danger"},null,-1);function sG(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[eG,f(" Destroy ")])}const aG=k(tG,[["render",sG]]),oG={props:{item:{type:Object,default:{}}},components:{DetailsBtn:LY,Edit:HY,StatusButton:KY,Destroy:aG,DeleteRestore:ZY},methods:{active_row:FY}},nG={class:"table_action_btns"};function lG(t,e,a,o,l,n){const i=y("details-btn"),d=y("edit"),r=y("status-button"),m=y("delete-restore"),v=y("destroy");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(b=>n.active_row(b),["prevent"])),class:"icon"}),s("div",nG,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const Wn=k(oG,[["render",lG]]);function iG(t,e){const a=w(jt,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const rG={props:["data"],created:function(){},methods:{set_item_selectd:iG},computed:{...q(jt,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},dG=["checked"];function cG(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,dG)}const Jn=k(rG,[["render",cG]]);const _G={props:["data"],data:()=>({setup:it}),components:{SelectAll:Ms,TableRowAction:Wn,SelectSingle:Jn},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},uG={key:0},pG={key:1,class:"text-wrap max-w-120"};function fG(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,(r,m)=>(c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),(c(!0),u(C,null,F(t.setup.table_row_data,(v,b)=>(c(),u(C,{key:b},[v=="id"?(c(),u("td",uG,p(m+1),1)):(c(),u("td",pG,p(n.trim_content(r[v],v)),1))],64))),128))],2))),128)}const mG=k(_G,[["render",fG],["__scopeId","data-v-e3effa4d"]]),hG={components:{TableHead:IY,TableBody:mG},data:()=>({setup:it,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:sY,export_selected_csv:lY,export_demo_csv:rY,...H(jt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:kY(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w(jt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},gG={class:"row"},vG={class:"col-sm-12"},yG={class:"card"},$G={class:"card-header"},bG={class:"row align-items-center"},wG={class:"col-12 col-md-3 mb-2 mb-md-0"},kG={class:"text-capitalize mb-0"},xG={class:"col-12 col-md-6 mb-2 mb-md-0"},CG={class:"col-12 col-md-3 text-md-right text-sm-left"},SG=s("i",{class:"fa fa-gear mx-2"},null,-1),DG={class:"card-body"},AG={class:"table-responsive table_responsive card_body_fixed_height"},TG={class:"table table-hover text-center table-bordered"},EG={key:0},jG={class:"mx-3"},RG={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},OG={class:"pagination my-2",style:{"font-size":"11px"}},IG=["onClick","href","innerHTML"],FG={class:"d-flex",style:{gap:"5px"}},PG=s("span",null,null,-1),BG=s("span",null,"-",-1),qG=s("span",null,"of",-1),LG={class:"d-flex",style:{gap:"5px"}},UG=s("span",null,null,-1),NG=s("span",null," Limit ",-1),VG=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),HG=[VG],zG={class:"card-footer py-2"},MG={class:"d-flex flex-wrap align-items-center"},WG={class:"mr-2 mb-2"},JG=s("i",{class:"fa fa-edit mr-2"},null,-1),KG={class:"mr-2 mb-2"},YG=s("i",{class:"fa fa-print mr-2"},null,-1),GG={key:0,class:"mr-2 mb-2"},QG=s("i",{class:"fa fa-sign-out mr-2"},null,-1),XG={class:"mr-2 mb-2"},ZG=s("i",{class:"fa fa-download mr-2"},null,-1),tQ={class:"mr-2 mb-2"},eQ=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),sQ={class:"mr-2 mb-2"},aQ=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),oQ={class:"mr-2 mb-2"},nQ=s("i",{class:"fa fa-trash mr-2"},null,-1),lQ={key:1,class:"mr-2 mb-2"},iQ=K('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),rQ=[iQ],dQ=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),cQ={class:"off_canvas_body"},_Q={class:"header"},uQ=s("h3",{class:"heading_text"},"Filter",-1),pQ=s("span",{class:"fa fa-close border p-2"},null,-1),fQ=[pQ],mQ={class:"data_content"},hQ={class:"filter_item"},gQ=s("label",{for:"start_date"},"Start Date",-1),vQ={for:"start_date",class:"text-capitalize d-block date_custom_control"},yQ={class:"filter_item"},$Q=s("label",{for:"end_date"},"End Date",-1),bQ={for:"end_date",class:"text-capitalize d-block date_custom_control"},wQ={class:"filter_item"},kQ=s("label",{for:"sort_by_col"},"Sort By Col",-1),xQ={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},CQ={class:"filter_item"},SQ=s("label",{for:"sort_by_col"},"Sort Type",-1),DQ={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},AQ={class:"filter_item"},TQ=s("div",{class:"off_canvas_overlay"},null,-1),EQ={class:"modal-dialog modal-dialog-centered"},jQ={class:"modal-content border-primary"},RQ={class:"modal-header bg-primary"},OQ={class:"modal-title text-white"},IQ=s("span",{"aria-hidden":"true"},"×",-1),FQ=[IQ],PQ={class:"modal-body"},BQ=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),qQ=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),LQ={class:"modal-footer"},UQ=s("i",{class:"fa fa-times"},null,-1),NQ=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function VQ(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",gG,[s("div",vG,[s("div",yG,[s("div",$G,[s("div",bG,[s("div",wG,[s("h5",kG,p(t.setup.all_page_title),1)]),s("div",xG,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",CG,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[SG,f("Filter ")])])])]),s("div",DG,[s("div",AG,[s("table",TG,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",EG,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",jG,[s("nav",RG,[s("ul",OG,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,IG)],2)}),128))]),s("div",FG,[PG,s("span",null,p((S=t.all)==null?void 0:S.from),1),BG,s("span",null,p((z=t.all)==null?void 0:z.to),1),qG,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",LG,[UG,NG,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},HG,544),[[J,t.paginate]])])])]),s("div",zG,[s("div",MG,[s("div",WG,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[JG,f(" Create ")]),_:1},8,["to"])]),s("div",KG,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[YG,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",GG,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[QG,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",XG,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[ZG,f(" Import ")])]),s("div",tQ,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[eQ,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",sQ,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[aQ,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",oQ,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[nQ,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",lQ,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},rQ,32)])):j("",!0)])])])])]),dQ,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",cQ,[s("div",_Q,[uQ,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},fQ)]),s("div",mQ,[s("div",hQ,[gQ,s("label",vQ,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",yQ,[$Q,s("label",bQ,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",wQ,[kQ,s("label",xQ,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",CQ,[SQ,s("label",DQ,[P(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",AQ,[s("button",{onClick:e[16]||(e[16]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),TQ],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",EQ,[s("form",{onSubmit:e[20]||(e[20]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",jQ,[s("div",RQ,[s("h5",OQ," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},FQ)]),s("div",PQ,[BQ,qQ,s("a",{href:"",onClick:e[18]||(e[18]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",LQ,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[UQ,f(" Close ")]),NQ])])],32)])],2)])}const HQ=k(hG,[["render",VQ]]),zQ=[{name:"warehouse_id",label:"Enter your warehouse id",type:"number",value:""},{name:"purchase_order_id",label:"Enter your purchase order id",type:"text",value:""},{name:"date",label:"Enter your date",type:"datetime",value:""}],MQ={data:()=>({setup:it,form_fields:zQ,param_id:null,warehouses:[],sales_orders:[],products:[],formData:{warehouse_id:"",sales_order_id:"",date:"",product_items:{}},product_id:""}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t),await this.get_all_sales_orders()},methods:{...H(jt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&(this.formData.warehouse_id=this.item.warehouse_id,this.formData.sales_order_id=this.item.sales_order_id,this.formData.date=this.item.date,this.formData.product_items=this.item.ware_house_product_out_products[0],this.product_id=this.formData.product_items.product_id,this.get_all_product_by_sales_order_id(this.formData.sales_order_id))},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(this.formData);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`All${this.setup.route_prefix}`}))}else{let e=await this.create(this.formData);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}},set_product_item:async function(t){let e=this.products.find(o=>o.product_id==t);this.formData.product_items={};let a={product_id:e.product_id,product_name:e.product_name,quantity:e.quantity};this.formData.product_items=a},get_all_product_by_sales_order_id:async function(t){var a;let e=await A.get(`get-sales-order-products-by-order-id/${t}`);e.data.status==="success"&&(this.products=(a=e.data)==null?void 0:a.data,console.log(this.formData.product_items))},removeItem:function(t){this.formData.product_items=this.formData.product_items.filter((e,a)=>t!=a)},get_all_warehouses:async function(){var e,a;let t=await A.get("ware-houses");t.data.status=="success"&&(this.warehouses=((a=(e=t.data)==null?void 0:e.data)==null?void 0:a.data)||[])},get_all_sales_orders:async function(){var e,a;let t=await A.get("sales-orders");t.data.status=="success"&&(this.sales_orders=((a=(e=t.data)==null?void 0:e.data)==null?void 0:a.data)||[])},get_product_relatated_warehouses_by_sales_order_id_and_product_id:async function(){if(this.formData.sales_order_id&&this.product_id){let t=await A.get(`get-product-related-warehouse-by-order-id-and-product-id?sales_order_id=${this.formData.sales_order_id}&product_id=${this.product_id}`);t.data.status=="success"&&(this.warehouses=t.data.data)}}},computed:{...q(jt,{item:"item"})},watch:{"formData.sales_order_id":{handler:function(){this.get_product_relatated_warehouses_by_sales_order_id_and_product_id()}},product_id:{handler:function(){this.get_product_relatated_warehouses_by_sales_order_id_and_product_id()}}}},WQ={class:"card"},JQ=s("div",{class:"card-header d-flex justify-content-between"},[s("h5",{class:"text-capitalize"},"Create WareHouse Product Out"),s("div",null,[s("a",{href:"#/ware-house-product-stock/all",class:"btn btn-outline-warning btn-sm"},"All WareHouse Product Stock")])],-1),KQ={class:"card-body card_body_fixed_height"},YQ={class:"row"},GQ={class:"col-md-6"},QQ={class:"form-group"},XQ=s("label",{for:""},"Select sales order ",-1),ZQ={class:"mt-1 mb-3"},tX=s("option",{value:""},"Select sales order",-1),eX=["value"],sX={class:"col-md-6"},aX={class:"form-group"},oX=s("label",{for:""},"Select Products",-1),nX=s("option",{value:"",disabled:""},"Select Product",-1),lX=["value"],iX={class:"col-md-6"},rX={class:"form-group"},dX=s("label",{for:""},"Select warehouse ",-1),cX={class:"mt-1 mb-3"},_X=s("option",{value:"",disabled:""},"Select warehouse",-1),uX=["value"],pX={class:"text-danger"},fX={class:"col-md-6"},mX={class:"form-group"},hX=s("label",{for:""},"Select date",-1),gX={class:"mt-1 mb-3"},vX={class:"table table-bordered table-hover table-striped"},yX=s("thead",null,[s("tr",null,[s("th",null,"Product Name"),s("th",null,"quantity"),s("th",null,"Actions")])],-1),$X={key:0},bX=s("i",{class:"fa fa-trash"},null,-1),wX=[bX],kX=s("div",{class:"card-footer text-center"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5 w-25"},[s("i",{class:"icon-lock"}),f(" Submit")])],-1);function xX(t,e,a,o,l,n){return c(),u("div",null,[s("form",{onSubmit:e[10]||(e[10]=g((...i)=>n.submitHandler&&n.submitHandler(...i),["prevent"]))},[s("div",WQ,[JQ,s("div",KQ,[s("div",YQ,[s("div",GQ,[s("div",QQ,[XQ,s("div",ZQ,[P(s("select",{class:"form-control form-control-square mb-2",name:"sales_order_id",id:"sales_order_id","onUpdate:modelValue":e[0]||(e[0]=i=>t.formData.sales_order_id=i),onChange:e[1]||(e[1]=i=>n.get_all_product_by_sales_order_id(t.formData.sales_order_id))},[tX,(c(!0),u(C,null,F(t.sales_orders,i=>(c(),u("option",{key:i,value:i.id},p(`${i.title}-${i.reference}`),9,eX))),128))],544),[[J,t.formData.sales_order_id]])])])]),s("div",sX,[s("div",aX,[oX,P(s("select",{name:"",id:"",class:"form-control",onChange:e[2]||(e[2]=i=>n.set_product_item(i.target.value)),"onUpdate:modelValue":e[3]||(e[3]=i=>t.product_id=i)},[nX,(c(!0),u(C,null,F(t.products,i=>(c(),u("option",{value:i.product_id,key:i.id},p(i.product_name),9,lX))),128))],544),[[J,t.product_id]])])]),s("div",iX,[s("div",rX,[dX,s("div",cX,[P(s("select",{class:"form-control form-control-square mb-2",name:"warehouse_id",id:"warehouse_id","onUpdate:modelValue":e[4]||(e[4]=i=>t.formData.warehouse_id=i)},[_X,(c(!0),u(C,null,F(t.warehouses,i=>(c(),u("option",{key:i,value:i.id},[f(p(i.name.substr(20))+" ",1),s("span",pX,"(Available qty : "+p(i.quantity)+")",1)],8,uX))),128))],512),[[J,t.formData.warehouse_id]])])])]),s("div",fX,[s("div",mX,[hX,s("div",gX,[P(s("input",{class:"form-control form-control-square mb-2",type:"date",name:"date",id:"date","onUpdate:modelValue":e[5]||(e[5]=i=>t.formData.date=i)},null,512),[[M,t.formData.date]])])])])]),s("div",null,[s("table",vX,[yX,s("tbody",null,[t.formData.product_items?(c(),u("tr",$X,[s("td",null,[P(s("input",{class:"form-control form-control-square",type:"hidden","onUpdate:modelValue":e[6]||(e[6]=i=>t.formData.product_items.product_id=i)},null,512),[[M,t.formData.product_items.product_id]]),P(s("input",{class:"form-control form-control-square",type:"text",readonly:"","onUpdate:modelValue":e[7]||(e[7]=i=>t.formData.product_items.product_name=i)},null,512),[[M,t.formData.product_items.product_name]])]),s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number","onUpdate:modelValue":e[8]||(e[8]=i=>t.formData.product_items.quantity=i)},null,512),[[M,t.formData.product_items.quantity]])]),s("td",null,[s("button",{type:"button",class:"btn btn-danger btn-outline-behance",onClick:e[9]||(e[9]=i=>n.removeItem(t.index))},wX)])])):j("",!0)])])])]),kX])],32)])}const wo=k(MQ,[["render",xX]]);const CX={props:["item"],data:()=>({setup:it}),components:{SelectAll:Ms,TableRowAction:Wn,SelectSingle:Jn},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},SX=t=>(ht("data-v-329a6fe9"),t=t(),gt(),t),DX=SX(()=>s("th",{class:"text-center"},":",-1)),AX={class:"text-trim"};function TX(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),DX,s("th",AX,p(n.trim_content(a.item[i],i)),1)]))),128)}const EX=k(CX,[["render",TX],["__scopeId","data-v-329a6fe9"]]),jX={components:{DataDetialsTableBody:EX},data:()=>({setup:it}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(jt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...w(jt,{item:"item"})}},RX={class:"card"},OX={class:"card-header d-flex justify-content-between"},IX={class:"text-capitalize"},FX={class:"card-body card_body_fixed_height"},PX={class:"row"},BX={class:"col-lg-8"},qX={class:"table quick_modal_table table-bordered"},LX={class:"card-footer"},UX=s("i",{class:"fa fa-angle-left"},null,-1),NX=s("i",{class:"fa fa-angle-right"},null,-1);function VX(t,e,a,o,l,n){const i=y("router-link"),d=y("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=g((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",RX,[s("div",OX,[s("h5",IX,p(t.setup.details_page_title),1),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",FX,[s("div",PX,[s("div",BX,[s("table",qX,[s("tbody",null,[x(d,{item:t.item},null,8,["item"])])])])])]),s("div",LX,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(r=>n.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[UX,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):j("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(r=>n.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),NX])):j("",!0)])])],32)])}const HX=k(jX,[["render",VX]]),zX={};function MX(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const WX=k(zX,[["render",MX]]);let Te=it.route_prefix,JX=it.route_path;const KX={path:JX,component:WX,children:[{path:"all",name:"All"+Te,component:HQ},{path:"create",name:"Create"+Te,component:wo},{path:"details/:id",name:"Details"+Te,component:HX},{path:"edit/:id",name:"Edit"+Te,component:wo}]},ie="WareHouseProductStock",rt={prefix:ie,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"ware-house-product-stocks",module_name:"ware-house-product-stock",store_prefix:"ware_house_product_stock",route_prefix:"WareHouseProductStock",route_path:"ware-house-product-stock",select_fields:["id","warehouse_id","purchase_order_id","date","status","slug","created_at","deleted_at"],sort_by_cols:["id","warehouse_id","purchase_order_id","date","status","created_at"],table_header_data:["id","warehouse","purchase order","Total Stock","date","status","created_at"],table_row_data:["id","warehouse","purcahase_order","ware_house_product_stock_products_count","date","status","created_at"],layout_title:ie+" Management",page_title:`${ie} Management`,all_page_title:"All "+ie,details_page_title:"Details "+ie,create_page_title:"Create "+ie,edit_page_title:"Edit "+ie},YX={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:rt.select_fields,sort_by_cols:rt.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function ko(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function xo(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return ko({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw ko({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function GX(t){return t/1024}async function Co(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),xo(t,r,i)):a=await xo(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:GX(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:QX,api_version:XX,api_end_point:ZX}=rt;let tZ=async()=>{let t=w(Rt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${QX}/${XX}/${ZX}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await Co(o,n)):a=await Co(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function eZ(t){let e=`${rt.api_host}/${rt.api_version}/${rt.api_end_point}/store`;try{return await A.post(e,t)}catch(a){return a.response.status==422&&window.s_alert("Fill the required input fields.","error"),a.response}}async function sZ(t){let e=w(Rt,["item"]),a=`${rt.api_host}/${rt.api_version}/${rt.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function aZ(t){let e=q(Rt,["item"]),a=`${rt.api_host}/${rt.api_version}/${rt.api_end_point}/update/${e.item().slug}`;try{return await A.post(a,t)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function oZ(){let t=q(Rt,["item"]),e=`${rt.api_host}/${rt.api_version}/${rt.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function nZ(){let t=q(Rt,["item"]),e=`${rt.api_host}/${rt.api_version}/${rt.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function lZ(){let t=q(Rt,["item"]),e=`${rt.api_host}/${rt.api_version}/${rt.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function iZ(){let t=q(Rt,["item"]),e=`${rt.api_host}/${rt.api_version}/${rt.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function rZ(t,e){let a=`${rt.api_host}/${rt.api_version}/${rt.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function dZ(t){let e=t.target,a=new FormData(e),o=`${rt.api_host}/${rt.api_version}/${rt.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function cZ(t={}){let e=Rt();e.filter_criteria={...e.filter_criteria,...t}}async function _Z(t={}){w(Rt,["item"]).item.set(t)}async function uZ(t=!0){w(Rt,["only_latest_data"]).only_latest_data.set(t)}async function pZ(t=1){w(Rt,["page"]).page.set(t)}async function fZ(t=10){w(Rt,["paginate"]).paginate.set(t)}async function mZ(t=!0){w(Rt,["show_details_canvas"]).show_details_canvas.set(t)}async function hZ(t=!0){w(Rt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function gZ(t="active"){w(Rt,["status"]).status.set(t)}async function vZ(){w(Rt,["selected"]).selected.set([])}const Rt=Vt(rt.store_prefix,{state:()=>YX,getters:{},actions:{get_all:tZ,create:eZ,update:aZ,details:sZ,update_status:nZ,soft_delete:oZ,restore:lZ,destroy:iZ,bulk_action:rZ,import_data:dZ,set_page:pZ,set_paginate:fZ,set_show_details_canvas:mZ,set_item:_Z,set_show_filter_canvas:hZ,set_filter_criteria:cZ,set_status:gZ,set_only_latest_data:uZ,clear_selected:vZ}});var yZ=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),$Z=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var bZ=function(t){$Z(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(yZ);const Ws=bZ;let wZ=rt.store_prefix;async function kZ(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${rt.api_host}/${rt.api_version}/${rt.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=xZ(d.data.data.data[0],o);l=new Ws(`${wZ}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>CZ(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function xZ(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function CZ(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let SZ=rt.store_prefix;function DZ(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new Ws(`${SZ}_list.csv`).setColumns(a).addRows(o).exportFile(),w(Rt,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let AZ=rt.store_prefix;function TZ(){const t=rt.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new Ws(`${AZ}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var EZ="Expected a function",So=0/0,jZ="[object Symbol]",RZ=/^\s+|\s+$/g,OZ=/^[-+]0x[0-9a-f]+$/i,IZ=/^0b[01]+$/i,FZ=/^0o[0-7]+$/i,PZ=parseInt,BZ=typeof global=="object"&&global&&global.Object===Object&&global,qZ=typeof self=="object"&&self&&self.Object===Object&&self,LZ=BZ||qZ||Function("return this")(),UZ=Object.prototype,NZ=UZ.toString,VZ=Math.max,HZ=Math.min,Ge=function(){return LZ.Date.now()};function zZ(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(EZ);e=Do(e)||0,hs(a)&&(v=!!a.leading,b="maxWait"in a,n=b?VZ(Do(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?HZ(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=Ge();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(Ge())}function D(){var h=Ge(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function hs(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function MZ(t){return!!t&&typeof t=="object"}function WZ(t){return typeof t=="symbol"||MZ(t)&&NZ.call(t)==jZ}function Do(t){if(typeof t=="number")return t;if(WZ(t))return So;if(hs(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=hs(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(RZ,"");var a=IZ.test(t);return a||FZ.test(t)?PZ(t.slice(2),a?2:8):OZ.test(t)?So:+t}function JZ(t){console.log(t.target.checked);const e=w(Rt,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const KZ={methods:{set_all_item_selectd:JZ}};function YZ(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Js=k(KZ,[["render",YZ]]);const GZ={data:()=>({setup:rt}),components:{SelectAll:Js}},QZ=t=>(ht("data-v-937ec639"),t=t(),gt(),t),XZ=QZ(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),ZZ={class:"w-10 text-center"};function ttt(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[XZ,s("th",ZZ,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const ett=k(GZ,[["render",ttt],["__scopeId","data-v-937ec639"]]);function stt(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const att={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:rt})},ott=s("i",{class:"fa fa-eye text-secondary"},null,-1);function ntt(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[ott,f(" Show ")]),_:1},8,["to"])}const ltt=k(att,[["render",ntt]]),itt={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:rt})},rtt=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function dtt(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[rtt,f(" Edit ")]),_:1},8,["to"])}const ctt=k(itt,[["render",dtt]]),_tt={props:{item:{slug:""}},methods:{...H(Rt,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},utt=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),ptt=s("i",{class:"fa fa-eye text-warning"},null,-1);function ftt(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[utt,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[ptt,f(" Active ")])):j("",!0)],64)}const mtt=k(_tt,[["render",ftt]]),htt={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(Rt,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},gtt=s("i",{class:"fa fa-ban text-warning"},null,-1),vtt=s("i",{class:"fa fa-ban text-warning"},null,-1);function ytt(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[gtt,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[vtt,f(" Restore data ")])):j("",!0)],64)}const $tt=k(htt,[["render",ytt]]),btt={props:{item:{slug:""}},methods:{...H(Rt,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},wtt=s("i",{class:"fa fa-trash text-danger"},null,-1);function ktt(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[wtt,f(" Destroy ")])}const xtt=k(btt,[["render",ktt]]),Ctt={props:{item:{type:Object,default:{}}},components:{DetailsBtn:ltt,Edit:ctt,StatusButton:mtt,Destroy:xtt,DeleteRestore:$tt},methods:{active_row:stt}},Stt={class:"table_action_btns"};function Dtt(t,e,a,o,l,n){const i=y("details-btn"),d=y("edit"),r=y("status-button"),m=y("delete-restore"),v=y("destroy");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(b=>n.active_row(b),["prevent"])),class:"icon"}),s("div",Stt,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const Kn=k(Ctt,[["render",Dtt]]);function Att(t,e){const a=w(Rt,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const Ttt={props:["data"],created:function(){},methods:{set_item_selectd:Att},computed:{...q(Rt,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},Ett=["checked"];function jtt(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,Ett)}const Yn=k(Ttt,[["render",jtt]]);const Rtt={props:["data"],data:()=>({setup:rt}),components:{SelectAll:Js,TableRowAction:Kn,SelectSingle:Yn},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t||""}}},Ott={key:0},Itt={key:1,class:"text-wrap max-w-120"};function Ftt(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,(r,m)=>(c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),(c(!0),u(C,null,F(t.setup.table_row_data,(v,b)=>(c(),u(C,{key:b},[v=="id"?(c(),u("td",Ott,p(m+1),1)):(c(),u("td",Itt,p(n.trim_content(r[v],v)),1))],64))),128))],2))),128)}const Ptt=k(Rtt,[["render",Ftt],["__scopeId","data-v-8de03d06"]]),Btt={components:{TableHead:ett,TableBody:Ptt},data:()=>({setup:rt,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:kZ,export_selected_csv:DZ,export_demo_csv:TZ,...H(Rt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:zZ(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w(Rt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},qtt={class:"row"},Ltt={class:"col-sm-12"},Utt={class:"card"},Ntt={class:"card-header"},Vtt={class:"row align-items-center"},Htt={class:"col-12 col-md-3 mb-2 mb-md-0"},ztt={class:"text-capitalize mb-0"},Mtt={class:"col-12 col-md-6 mb-2 mb-md-0"},Wtt={class:"col-12 col-md-3 text-md-right text-sm-left"},Jtt=s("i",{class:"fa fa-gear mx-2"},null,-1),Ktt={class:"card-body"},Ytt={class:"table-responsive table_responsive card_body_fixed_height"},Gtt={class:"table table-hover text-center table-bordered"},Qtt={key:0},Xtt={class:"mx-3"},Ztt={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},tet={class:"pagination my-2",style:{"font-size":"11px"}},eet=["onClick","href","innerHTML"],set={class:"d-flex",style:{gap:"5px"}},aet=s("span",null,null,-1),oet=s("span",null,"-",-1),net=s("span",null,"of",-1),iet={class:"d-flex",style:{gap:"5px"}},ret=s("span",null,null,-1),det=s("span",null," Limit ",-1),cet=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),_et=[cet],uet={class:"card-footer py-2"},pet={class:"d-flex flex-wrap align-items-center"},fet={class:"mr-2 mb-2"},met=s("i",{class:"fa fa-edit mr-2"},null,-1),het={class:"mr-2 mb-2"},get=s("i",{class:"fa fa-print mr-2"},null,-1),vet={key:0,class:"mr-2 mb-2"},yet=s("i",{class:"fa fa-sign-out mr-2"},null,-1),$et={class:"mr-2 mb-2"},bet=s("i",{class:"fa fa-download mr-2"},null,-1),wet={class:"mr-2 mb-2"},ket=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),xet={class:"mr-2 mb-2"},Cet=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),Det={class:"mr-2 mb-2"},Aet=s("i",{class:"fa fa-trash mr-2"},null,-1),Tet={key:1,class:"mr-2 mb-2"},Eet=K('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),jet=[Eet],Ret=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),Oet={class:"off_canvas_body"},Iet={class:"header"},Fet=s("h3",{class:"heading_text"},"Filter",-1),Pet=s("span",{class:"fa fa-close border p-2"},null,-1),Bet=[Pet],qet={class:"data_content"},Let={class:"filter_item"},Uet=s("label",{for:"start_date"},"Start Date",-1),Net={for:"start_date",class:"text-capitalize d-block date_custom_control"},Vet={class:"filter_item"},Het=s("label",{for:"end_date"},"End Date",-1),zet={for:"end_date",class:"text-capitalize d-block date_custom_control"},Met={class:"filter_item"},Wet=s("label",{for:"sort_by_col"},"Sort By Col",-1),Jet={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},Ket={class:"filter_item"},Yet=s("label",{for:"sort_by_col"},"Sort Type",-1),Get={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},Qet={class:"filter_item"},Xet=s("div",{class:"off_canvas_overlay"},null,-1),Zet={class:"modal-dialog modal-dialog-centered"},tst={class:"modal-content border-primary"},est={class:"modal-header bg-primary"},sst={class:"modal-title text-white"},ast=s("span",{"aria-hidden":"true"},"×",-1),ost=[ast],nst={class:"modal-body"},lst=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),ist=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),rst={class:"modal-footer"},dst=s("i",{class:"fa fa-times"},null,-1),cst=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function _st(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",qtt,[s("div",Ltt,[s("div",Utt,[s("div",Ntt,[s("div",Vtt,[s("div",Htt,[s("h5",ztt,p(t.setup.all_page_title),1)]),s("div",Mtt,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",Wtt,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[Jtt,f("Filter ")])])])]),s("div",Ktt,[s("div",Ytt,[s("table",Gtt,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",Qtt,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",Xtt,[s("nav",Ztt,[s("ul",tet,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,eet)],2)}),128))]),s("div",set,[aet,s("span",null,p((S=t.all)==null?void 0:S.from),1),oet,s("span",null,p((z=t.all)==null?void 0:z.to),1),net,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",iet,[ret,det,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},_et,544),[[J,t.paginate]])])])]),s("div",uet,[s("div",pet,[s("div",fet,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[met,f(" Create ")]),_:1},8,["to"])]),s("div",het,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[get,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",vet,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[yet,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",$et,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[bet,f(" Import ")])]),s("div",wet,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[ket,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",xet,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[Cet,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",Det,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[Aet,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",Tet,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},jet,32)])):j("",!0)])])])])]),Ret,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",Oet,[s("div",Iet,[Fet,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},Bet)]),s("div",qet,[s("div",Let,[Uet,s("label",Net,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",Vet,[Het,s("label",zet,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",Met,[Wet,s("label",Jet,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",Ket,[Yet,s("label",Get,[P(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",Qet,[s("button",{onClick:e[16]||(e[16]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),Xet],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",Zet,[s("form",{onSubmit:e[20]||(e[20]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",tst,[s("div",est,[s("h5",sst," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},ost)]),s("div",nst,[lst,ist,s("a",{href:"",onClick:e[18]||(e[18]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",rst,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[dst,f(" Close ")]),cst])])],32)])],2)])}const ust=k(Btt,[["render",_st]]),pst=[{name:"warehouse_id",label:"Enter your warehouse id",type:"number",value:""},{name:"purchase_order_id",label:"Enter your purchase order id",type:"number",value:""},{name:"date",label:"Enter your date",type:"datetime",value:""}],fst={data:()=>({setup:rt,form_fields:pst,param_id:null,warehouses:[],purchase_orders:[],products:[],formData:{warehouse_id:"",purchase_order_id:"",date:"",product_items:[]}}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t),await this.get_all_warehouses(),await this.get_all_purchase_orders()},methods:{...H(Rt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&(this.formData.warehouse_id=this.item.warehouse_id,this.formData.purchase_order_id=this.item.purchase_order_id,this.formData.suppliyer_id=this.item.suppliyer_id,this.formData.date=this.item.date,this.formData.product_items=this.item.ware_house_product_stock_products,this.get_all_product_by_order_id(this.formData.purchase_order_id))},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(this.formData);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`All${this.setup.route_prefix}`}))}else{let e=await this.create(this.formData);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}},set_product_item:async function(t){let e=this.products.find(a=>a.product_id==t);if(this.formData.product_items.some(a=>a.product_id==t)){alert("Product  already exists ");return}this.formData.product_items.push({product_id:e.product_id,product_name:e.product_name,quantity:0,available_for_stock:e.available_for_stock})},get_all_product_by_order_id:async function(t){var a;let e=await A.get(`get-purchase-order-products-by-order-id/${t}`);e.data.status==="success"&&(this.products=(a=e.data)==null?void 0:a.data,console.log(this.formData.product_items))},removeItem:function(t){this.formData.product_items=this.formData.product_items.filter((e,a)=>t!=a)},get_all_warehouses:async function(){var e,a;let t=await A.get("ware-houses");t.data.status=="success"&&(this.warehouses=((a=(e=t.data)==null?void 0:e.data)==null?void 0:a.data)||[])},get_all_purchase_orders:async function(){var e,a;let t=await A.get("purchase-orders");t.data.status=="success"&&(this.purchase_orders=((a=(e=t.data)==null?void 0:e.data)==null?void 0:a.data)||[])}},computed:{...q(Rt,{item:"item"})}},mst={class:"card"},hst=s("div",{class:"card-header d-flex justify-content-between"},[s("h5",{class:"text-capitalize"}," Create WareHouse Product Stock "),s("div",null,[s("a",{href:"#/ware-house-product-stock/all",class:"btn btn-outline-warning btn-sm"},"All WareHouse Product Stock")])],-1),gst={class:"card-body card_body_fixed_height"},vst={class:"row"},yst={class:"col-md-6"},$st={class:"form-group"},bst=s("label",{for:""},"Select warehouse ",-1),wst={class:"mt-1 mb-3"},kst=s("option",{value:""}," Select warehouse ",-1),xst=["value"],Cst={class:"col-md-6"},Sst={class:"form-group"},Dst=s("label",{for:""},"Select purchase order ",-1),Ast={class:"mt-1 mb-3"},Tst=s("option",{value:""},"Select order",-1),Est=["value"],jst={class:"col-md-6"},Rst={class:"form-group"},Ost=s("label",{for:""},"Select date",-1),Ist={class:"mt-1 mb-3"},Fst={class:"row justify-content-center my-3"},Pst={class:"col-md-7"},Bst={class:"form-group"},qst=s("label",{for:""},"Select Products",-1),Lst=s("option",{value:""},"Select Product",-1),Ust=["value"],Nst={class:"table table-bordered table-hover table-striped"},Vst=s("thead",null,[s("tr",null,[s("th",null,"Product Name"),s("th",null,"quantity"),s("th",null,"Available for stock quantity"),s("th",null,"Actions")])],-1),Hst=["onUpdate:modelValue"],zst=["onUpdate:modelValue"],Mst=["onUpdate:modelValue"],Wst=["onUpdate:modelValue"],Jst=["onClick"],Kst=s("i",{class:"fa fa-trash"},null,-1),Yst=[Kst],Gst=s("div",{class:"card-footer text-center"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5 w-25"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function Qst(t,e,a,o,l,n){return c(),u("div",null,[s("form",{onSubmit:e[5]||(e[5]=g((...i)=>n.submitHandler&&n.submitHandler(...i),["prevent"]))},[s("div",mst,[hst,s("div",gst,[s("div",vst,[s("div",yst,[s("div",$st,[bst,s("div",wst,[P(s("select",{class:"form-control form-control-square mb-2",name:"warehouse_id",id:"warehouse_id","onUpdate:modelValue":e[0]||(e[0]=i=>t.formData.warehouse_id=i)},[kst,(c(!0),u(C,null,F(t.warehouses,i=>(c(),u("option",{key:i,value:i.id},p(i.name),9,xst))),128))],512),[[J,t.formData.warehouse_id]])])])]),s("div",Cst,[s("div",Sst,[Dst,s("div",Ast,[P(s("select",{class:"form-control form-control-square mb-2",name:"purchase_order_id",id:"purchase_order_id","onUpdate:modelValue":e[1]||(e[1]=i=>t.formData.purchase_order_id=i),onChange:e[2]||(e[2]=i=>n.get_all_product_by_order_id(t.formData.purchase_order_id))},[Tst,(c(!0),u(C,null,F(t.purchase_orders,i=>(c(),u("option",{key:i,value:i.id},p(`${i.title}-${i.reference}`),9,Est))),128))],544),[[J,t.formData.purchase_order_id]])])])]),s("div",jst,[s("div",Rst,[Ost,s("div",Ist,[P(s("input",{class:"form-control form-control-square mb-2",type:"date",name:"date",id:"date","onUpdate:modelValue":e[3]||(e[3]=i=>t.formData.date=i)},null,512),[[M,t.formData.date]])])])])]),s("div",Fst,[s("div",Pst,[s("div",Bst,[qst,s("select",{name:"",id:"",class:"form-control",onChange:e[4]||(e[4]=i=>n.set_product_item(i.target.value))},[Lst,(c(!0),u(C,null,F(t.products,i=>(c(),u("option",{value:i.product_id,key:i.id},p(i.product_name),9,Ust))),128))],32)])])]),s("div",null,[s("table",Nst,[Vst,s("tbody",null,[(c(!0),u(C,null,F(t.formData.product_items,(i,d)=>(c(),u("tr",{key:d},[s("td",null,[P(s("input",{class:"form-control form-control-square",type:"hidden","onUpdate:modelValue":r=>i.product_id=r},null,8,Hst),[[M,i.product_id]]),P(s("input",{class:"form-control form-control-square",type:"text",readonly:"","onUpdate:modelValue":r=>i.product_name=r},null,8,zst),[[M,i.product_name]])]),s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number","onUpdate:modelValue":r=>i.quantity=r},null,8,Mst),[[M,i.quantity]])]),s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number","onUpdate:modelValue":r=>i.available_for_stock=r,readonly:""},null,8,Wst),[[M,i.available_for_stock]])]),s("td",null,[s("button",{type:"button",class:"btn btn-danger btn-outline-behance",onClick:r=>n.removeItem(d)},Yst,8,Jst)])]))),128))])])])]),Gst])],32)])}const Ao=k(fst,[["render",Qst]]);const Xst={props:["item"],data:()=>({setup:rt}),components:{SelectAll:Js,TableRowAction:Kn,SelectSingle:Yn},methods:{trim_content(t,e=null){if(typeof t=="string"||typeof t=="number")return t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title;if(a==="name"&&t.name)return t.name}return t}}},Zst=t=>(ht("data-v-231fc0d8"),t=t(),gt(),t),tat=Zst(()=>s("th",{class:"text-center"},":",-1)),eat={class:"text-trim"};function sat(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),tat,s("th",eat,p(n.trim_content(a.item[i],i)),1)]))),128)}const aat=k(Xst,[["render",sat],["__scopeId","data-v-231fc0d8"]]),oat={components:{DataDetialsTableBody:aat},data:()=>({setup:rt}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(Rt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...w(Rt,{item:"item"})}},nat={class:"card"},lat={class:"card-header d-flex justify-content-between"},iat={class:"text-capitalize"},rat={class:"card-body card_body_fixed_height"},dat={class:"row"},cat={class:"col-lg-8"},_at={class:"table quick_modal_table table-bordered"},uat={class:"col-lg-8"},pat={class:"table quick_modal_table table-bordered"},fat=s("thead",null,[s("tr",null,[s("th",null,"Product Name"),s("th",null,"Stock quantity")])],-1),mat={class:"card-footer"},hat=s("i",{class:"fa fa-angle-left"},null,-1),gat=s("i",{class:"fa fa-angle-right"},null,-1);function vat(t,e,a,o,l,n){const i=y("router-link"),d=y("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=g((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",nat,[s("div",lat,[s("h5",iat,p(t.setup.details_page_title),1),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",rat,[s("div",dat,[s("div",cat,[s("table",_at,[s("tbody",null,[x(d,{item:t.item},null,8,["item"])])])]),s("div",uat,[s("table",pat,[fat,s("tbody",null,[(c(!0),u(C,null,F(t.item.ware_house_product_stock_products,(r,m)=>(c(),u("tr",{key:m},[s("td",null,p(r.product_name),1),s("td",null,p(r.quantity),1)]))),128))])])])])]),s("div",mat,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(r=>n.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[hat,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):j("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(r=>n.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),gat])):j("",!0)])])],32)])}const yat=k(oat,[["render",vat]]),$at={};function bat(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const wat=k($at,[["render",bat]]);let Ee=rt.route_prefix,kat=rt.route_path;const xat={path:kat,component:wat,children:[{path:"all",name:"All"+Ee,component:ust},{path:"create",name:"Create"+Ee,component:Ao},{path:"details/:id",name:"Details"+Ee,component:yat},{path:"edit/:id",name:"Edit"+Ee,component:Ao}]},re="WareHouse",dt={prefix:re,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"ware-houses",module_name:"ware-house",store_prefix:"ware_house",route_prefix:"WareHouse",route_path:"ware-house",select_fields:["id","name","address","status","slug","created_at","deleted_at"],sort_by_cols:["id","name","address","status","created_at"],table_header_data:["id","name","address","status","created_at"],table_row_data:["id","name","address","status","created_at"],layout_title:re+" Management",page_title:`${re} Management`,all_page_title:"All "+re,details_page_title:"Details "+re,create_page_title:"Create "+re,edit_page_title:"Edit "+re},Cat={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:dt.select_fields,sort_by_cols:dt.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function To(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function Eo(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return To({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw To({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function Sat(t){return t/1024}async function jo(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),Eo(t,r,i)):a=await Eo(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:Sat(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:Dat,api_version:Aat,api_end_point:Tat}=dt;let Eat=async()=>{let t=w(Ot,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${Dat}/${Aat}/${Tat}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await jo(o,n)):a=await jo(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function jat(t){let e=t.target,a=new FormData(e),o=`${dt.api_host}/${dt.api_version}/${dt.api_end_point}/store`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Rat(t){let e=w(Ot,["item"]),a=`${dt.api_host}/${dt.api_version}/${dt.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function Oat(t){let e=q(Ot,["item"]),a=t.target,o=new FormData(a);o.append("id",e.item().id);let l=`${dt.api_host}/${dt.api_version}/${dt.api_end_point}/update/${e.item().slug}`;try{return await A.post(l,o)}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function Iat(){let t=q(Ot,["item"]),e=`${dt.api_host}/${dt.api_version}/${dt.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Fat(){let t=q(Ot,["item"]),e=`${dt.api_host}/${dt.api_version}/${dt.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function Pat(){let t=q(Ot,["item"]),e=`${dt.api_host}/${dt.api_version}/${dt.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Bat(){let t=q(Ot,["item"]),e=`${dt.api_host}/${dt.api_version}/${dt.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function qat(t,e){let a=`${dt.api_host}/${dt.api_version}/${dt.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function Lat(t){let e=t.target,a=new FormData(e),o=`${dt.api_host}/${dt.api_version}/${dt.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Uat(t={}){let e=Ot();e.filter_criteria={...e.filter_criteria,...t}}async function Nat(t={}){w(Ot,["item"]).item.set(t)}async function Vat(t=!0){w(Ot,["only_latest_data"]).only_latest_data.set(t)}async function Hat(t=1){w(Ot,["page"]).page.set(t)}async function zat(t=10){w(Ot,["paginate"]).paginate.set(t)}async function Mat(t=!0){w(Ot,["show_details_canvas"]).show_details_canvas.set(t)}async function Wat(t=!0){w(Ot,["show_filter_canvas"]).show_filter_canvas.set(t)}async function Jat(t="active"){w(Ot,["status"]).status.set(t)}async function Kat(){w(Ot,["selected"]).selected.set([])}const Ot=Vt(dt.store_prefix,{state:()=>Cat,getters:{},actions:{get_all:Eat,create:jat,update:Oat,details:Rat,update_status:Fat,soft_delete:Iat,restore:Pat,destroy:Bat,bulk_action:qat,import_data:Lat,set_page:Hat,set_paginate:zat,set_show_details_canvas:Mat,set_item:Nat,set_show_filter_canvas:Wat,set_filter_criteria:Uat,set_status:Jat,set_only_latest_data:Vat,clear_selected:Kat}});var Yat=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),Gat=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var Qat=function(t){Gat(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(Yat);const Ks=Qat;let Xat=dt.store_prefix;async function Zat(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${dt.api_host}/${dt.api_version}/${dt.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=tot(d.data.data.data[0],o);l=new Ks(`${Xat}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>eot(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function tot(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function eot(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let sot=dt.store_prefix;function aot(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new Ks(`${sot}_list.csv`).setColumns(a).addRows(o).exportFile(),w(Ot,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let oot=dt.store_prefix;function not(){const t=dt.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new Ks(`${oot}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var lot="Expected a function",Ro=0/0,iot="[object Symbol]",rot=/^\s+|\s+$/g,dot=/^[-+]0x[0-9a-f]+$/i,cot=/^0b[01]+$/i,_ot=/^0o[0-7]+$/i,uot=parseInt,pot=typeof global=="object"&&global&&global.Object===Object&&global,fot=typeof self=="object"&&self&&self.Object===Object&&self,mot=pot||fot||Function("return this")(),hot=Object.prototype,got=hot.toString,vot=Math.max,yot=Math.min,Qe=function(){return mot.Date.now()};function $ot(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(lot);e=Oo(e)||0,gs(a)&&(v=!!a.leading,b="maxWait"in a,n=b?vot(Oo(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?yot(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=Qe();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(Qe())}function D(){var h=Qe(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function gs(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function bot(t){return!!t&&typeof t=="object"}function wot(t){return typeof t=="symbol"||bot(t)&&got.call(t)==iot}function Oo(t){if(typeof t=="number")return t;if(wot(t))return Ro;if(gs(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=gs(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(rot,"");var a=cot.test(t);return a||_ot.test(t)?uot(t.slice(2),a?2:8):dot.test(t)?Ro:+t}function kot(t){console.log(t.target.checked);const e=w(Ot,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const xot={methods:{set_all_item_selectd:kot}};function Cot(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Ys=k(xot,[["render",Cot]]);const Sot={data:()=>({setup:dt}),components:{SelectAll:Ys}},Dot=t=>(ht("data-v-a083da2c"),t=t(),gt(),t),Aot=Dot(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),Tot={class:"w-10 text-center"};function Eot(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[Aot,s("th",Tot,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const jot=k(Sot,[["render",Eot],["__scopeId","data-v-a083da2c"]]);function Rot(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const Oot={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:dt})},Iot=s("i",{class:"fa fa-eye text-secondary"},null,-1);function Fot(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[Iot,f(" Show ")]),_:1},8,["to"])}const Pot=k(Oot,[["render",Fot]]),Bot={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:dt})},qot=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function Lot(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[qot,f(" Edit ")]),_:1},8,["to"])}const Uot=k(Bot,[["render",Lot]]),Not={props:{item:{slug:""}},methods:{...H(Ot,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},Vot=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),Hot=s("i",{class:"fa fa-eye text-warning"},null,-1);function zot(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[Vot,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[Hot,f(" Active ")])):j("",!0)],64)}const Mot=k(Not,[["render",zot]]),Wot={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(Ot,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},Jot=s("i",{class:"fa fa-ban text-warning"},null,-1),Kot=s("i",{class:"fa fa-ban text-warning"},null,-1);function Yot(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[Jot,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[Kot,f(" Restore data ")])):j("",!0)],64)}const Got=k(Wot,[["render",Yot]]),Qot={props:{item:{slug:""}},methods:{...H(Ot,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},Xot=s("i",{class:"fa fa-trash text-danger"},null,-1);function Zot(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[Xot,f(" Destroy ")])}const tnt=k(Qot,[["render",Zot]]),ent={props:{item:{type:Object,default:{}}},components:{DetailsBtn:Pot,Edit:Uot,StatusButton:Mot,Destroy:tnt,DeleteRestore:Got},methods:{active_row:Rot}},snt={class:"table_action_btns"};function ant(t,e,a,o,l,n){const i=y("details-btn"),d=y("edit"),r=y("status-button"),m=y("delete-restore"),v=y("destroy");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(b=>n.active_row(b),["prevent"])),class:"icon"}),s("div",snt,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const Gn=k(ent,[["render",ant]]);function ont(t,e){const a=w(Ot,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const nnt={props:["data"],created:function(){},methods:{set_item_selectd:ont},computed:{...q(Ot,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},lnt=["checked"];function int(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,lnt)}const Qn=k(nnt,[["render",int]]);const rnt={props:["data"],data:()=>({setup:dt}),components:{SelectAll:Ys,TableRowAction:Gn,SelectSingle:Qn},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t:t}}},dnt={key:0},cnt={key:1,class:"text-wrap max-w-120"};function _nt(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,(r,m)=>(c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),(c(!0),u(C,null,F(t.setup.table_row_data,(v,b)=>(c(),u(C,{key:b},[v=="id"?(c(),u("td",dnt,p(m+1),1)):(c(),u("td",cnt,p(n.trim_content(r[v],v)),1))],64))),128))],2))),128)}const unt=k(rnt,[["render",_nt],["__scopeId","data-v-f515994f"]]),pnt={components:{TableHead:jot,TableBody:unt},data:()=>({setup:dt,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:Zat,export_selected_csv:aot,export_demo_csv:not,...H(Ot,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:$ot(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w(Ot,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},fnt={class:"row"},mnt={class:"col-sm-12"},hnt={class:"card"},gnt={class:"card-header"},vnt={class:"row align-items-center"},ynt={class:"col-12 col-md-3 mb-2 mb-md-0"},$nt={class:"text-capitalize mb-0"},bnt={class:"col-12 col-md-6 mb-2 mb-md-0"},wnt={class:"col-12 col-md-3 text-md-right text-sm-left"},knt=s("i",{class:"fa fa-gear mx-2"},null,-1),xnt={class:"card-body"},Cnt={class:"table-responsive table_responsive card_body_fixed_height"},Snt={class:"table table-hover text-center table-bordered"},Dnt={key:0},Ant={class:"mx-3"},Tnt={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},Ent={class:"pagination my-2",style:{"font-size":"11px"}},jnt=["onClick","href","innerHTML"],Rnt={class:"d-flex",style:{gap:"5px"}},Ont=s("span",null,null,-1),Int=s("span",null,"-",-1),Fnt=s("span",null,"of",-1),Pnt={class:"d-flex",style:{gap:"5px"}},Bnt=s("span",null,null,-1),qnt=s("span",null," Limit ",-1),Lnt=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),Unt=[Lnt],Nnt={class:"card-footer py-2"},Vnt={class:"d-flex flex-wrap align-items-center"},Hnt={class:"mr-2 mb-2"},znt=s("i",{class:"fa fa-edit mr-2"},null,-1),Mnt={class:"mr-2 mb-2"},Wnt=s("i",{class:"fa fa-print mr-2"},null,-1),Jnt={key:0,class:"mr-2 mb-2"},Knt=s("i",{class:"fa fa-sign-out mr-2"},null,-1),Ynt={class:"mr-2 mb-2"},Gnt=s("i",{class:"fa fa-download mr-2"},null,-1),Qnt={class:"mr-2 mb-2"},Xnt=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),Znt={class:"mr-2 mb-2"},tlt=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),elt={class:"mr-2 mb-2"},slt=s("i",{class:"fa fa-trash mr-2"},null,-1),alt={key:1,class:"mr-2 mb-2"},olt=K('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),nlt=[olt],llt=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),ilt={class:"off_canvas_body"},rlt={class:"header"},dlt=s("h3",{class:"heading_text"},"Filter",-1),clt=s("span",{class:"fa fa-close border p-2"},null,-1),_lt=[clt],ult={class:"data_content"},plt={class:"filter_item"},flt=s("label",{for:"start_date"},"Start Date",-1),mlt={for:"start_date",class:"text-capitalize d-block date_custom_control"},hlt={class:"filter_item"},glt=s("label",{for:"end_date"},"End Date",-1),vlt={for:"end_date",class:"text-capitalize d-block date_custom_control"},ylt={class:"filter_item"},$lt=s("label",{for:"sort_by_col"},"Sort By Col",-1),blt={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},wlt={class:"filter_item"},klt=s("label",{for:"sort_by_col"},"Sort Type",-1),xlt={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},Clt={class:"filter_item"},Slt=s("div",{class:"off_canvas_overlay"},null,-1),Dlt={class:"modal-dialog modal-dialog-centered"},Alt={class:"modal-content border-primary"},Tlt={class:"modal-header bg-primary"},Elt={class:"modal-title text-white"},jlt=s("span",{"aria-hidden":"true"},"×",-1),Rlt=[jlt],Olt={class:"modal-body"},Ilt=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),Flt=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),Plt={class:"modal-footer"},Blt=s("i",{class:"fa fa-times"},null,-1),qlt=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function Llt(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",fnt,[s("div",mnt,[s("div",hnt,[s("div",gnt,[s("div",vnt,[s("div",ynt,[s("h5",$nt,p(t.setup.all_page_title),1)]),s("div",bnt,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",wnt,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[knt,f("Filter ")])])])]),s("div",xnt,[s("div",Cnt,[s("table",Snt,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",Dnt,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",Ant,[s("nav",Tnt,[s("ul",Ent,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,jnt)],2)}),128))]),s("div",Rnt,[Ont,s("span",null,p((S=t.all)==null?void 0:S.from),1),Int,s("span",null,p((z=t.all)==null?void 0:z.to),1),Fnt,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",Pnt,[Bnt,qnt,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},Unt,544),[[J,t.paginate]])])])]),s("div",Nnt,[s("div",Vnt,[s("div",Hnt,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[znt,f(" Create ")]),_:1},8,["to"])]),s("div",Mnt,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[Wnt,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",Jnt,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[Knt,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",Ynt,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[Gnt,f(" Import ")])]),s("div",Qnt,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[Xnt,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",Znt,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[tlt,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",elt,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[slt,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",alt,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},nlt,32)])):j("",!0)])])])])]),llt,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",ilt,[s("div",rlt,[dlt,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},_lt)]),s("div",ult,[s("div",plt,[flt,s("label",mlt,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",hlt,[glt,s("label",vlt,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",ylt,[$lt,s("label",blt,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",wlt,[klt,s("label",xlt,[P(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",Clt,[s("button",{onClick:e[16]||(e[16]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),Slt],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",Dlt,[s("form",{onSubmit:e[20]||(e[20]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",Alt,[s("div",Tlt,[s("h5",Elt," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},Rlt)]),s("div",Olt,[Ilt,Flt,s("a",{href:"",onClick:e[18]||(e[18]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",Plt,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[Blt,f(" Close ")]),qlt])])],32)])],2)])}const Ult=k(pnt,[["render",Llt]]),Nlt=[{name:"name",label:"Enter your name",type:"text",value:""},{name:"address",label:"Enter your address",type:"text",value:""}],Vlt={data:()=>({setup:dt,form_fields:Nlt,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t)},methods:{...H(Ot,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(o=>{e.name==o[0]&&(this.form_fields[a].value=o[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}}},computed:{...q(Ot,{item:"item"})}},Hlt={class:"card"},zlt={class:"card-header d-flex justify-content-between"},Mlt={class:"text-capitalize"},Wlt={class:"card-body card_body_fixed_height"},Jlt={class:"row"},Klt=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function Ylt(t,e,a,o,l,n){const i=y("router-link"),d=y("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=g((...r)=>n.submitHandler&&n.submitHandler(...r),["prevent"]))},[s("div",Hlt,[s("div",zlt,[s("h5",Mlt,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),W(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):j("",!0),x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",Wlt,[s("div",Jlt,[(c(!0),u(C,null,F(t.form_fields,(r,m)=>(c(),W(d,{key:m,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),Klt])],32)])}const Io=k(Vlt,[["render",Ylt]]);const Glt={props:["item"],data:()=>({setup:dt}),components:{SelectAll:Ys,TableRowAction:Gn,SelectSingle:Qn},methods:{trim_content(t,e=null){return t}}},Qlt=t=>(ht("data-v-985b38e5"),t=t(),gt(),t),Xlt=Qlt(()=>s("th",{class:"text-center"},":",-1)),Zlt={class:"text-trim"};function tit(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),Xlt,s("th",Zlt,p(n.trim_content(a.item[i],i)),1)]))),128)}const eit=k(Glt,[["render",tit],["__scopeId","data-v-985b38e5"]]),sit={components:{DataDetialsTableBody:eit},data:()=>({setup:dt}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(Ot,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...w(Ot,{item:"item"})}},ait={class:"card"},oit={class:"card-header d-flex justify-content-between"},nit={class:"text-capitalize"},lit={class:"card-body card_body_fixed_height"},iit={class:"row"},rit={class:"col-lg-8"},dit={class:"table quick_modal_table table-bordered"},cit={class:"card-footer"},_it=s("i",{class:"fa fa-angle-left"},null,-1),uit=s("i",{class:"fa fa-angle-right"},null,-1);function pit(t,e,a,o,l,n){const i=y("router-link"),d=y("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=g((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",ait,[s("div",oit,[s("h5",nit,p(t.setup.details_page_title),1),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",lit,[s("div",iit,[s("div",rit,[s("table",dit,[s("tbody",null,[x(d,{item:t.item},null,8,["item"])])])])])]),s("div",cit,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(r=>n.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[_it,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):j("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(r=>n.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),uit])):j("",!0)])])],32)])}const fit=k(sit,[["render",pit]]),mit={};function hit(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const git=k(mit,[["render",hit]]);let je=dt.route_prefix,vit=dt.route_path;const yit={path:vit,component:git,children:[{path:"all",name:"All"+je,component:Ult},{path:"create",name:"Create"+je,component:Io},{path:"details/:id",name:"Details"+je,component:fit},{path:"edit/:id",name:"Edit"+je,component:Io}]},de="PurchaseOrder",Q={prefix:de,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"purchase-orders",module_name:"purchase-order",store_prefix:"purchase_order",route_prefix:"PurchaseOrder",route_path:"purchase-order",select_fields:["id","title","reference","suppliyer_id","date","currency_id","currency_exchange_rate","expected_time_of_delivery","subtotal","discount","total","total_in_bdt","status","slug","date","deleted_at"],sort_by_cols:["id","title","reference","suppliyer_id","date","currency_id","currency_exchange_rate","expected_time_of_delivery","subtotal","discount","total","total_in_bdt","status","date"],table_header_data:["id","title","expected delivery time","total","total in bdt","status","date"],table_row_data:["id","title","expected_time_of_delivery","total","total_in_bdt","status","date"],layout_title:de+" Management",page_title:`${de} Management`,all_page_title:"All "+de,details_page_title:"Details "+de,create_page_title:"Create "+de,edit_page_title:"Edit "+de},$it={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:Q.select_fields,sort_by_cols:Q.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function Fo(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function Po(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return Fo({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw Fo({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function bit(t){return t/1024}async function Bo(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),Po(t,r,i)):a=await Po(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:bit(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:wit,api_version:kit,api_end_point:xit}=Q;let Cit=async()=>{let t=w(wt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${wit}/${kit}/${xit}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await Bo(o,n)):a=await Bo(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function Sit(t){let e=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/store`;try{return await A.post(e,t)}catch(a){return a.response.status==422&&window.s_alert("Fill the required input fields.","error"),a.response}}async function Dit(t){let e=w(wt,["item"]),a=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function Ait(t){let e=q(wt,["item"]),a=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/update/${e.item().slug}`;try{return await A.post(a,t)}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function Tit(){let t=q(wt,["item"]),e=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Eit(){let t=q(wt,["item"]),e=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function jit(){let t=q(wt,["item"]),e=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Rit(){let t=q(wt,["item"]),e=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Oit(t,e){let a=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function Iit(t){let e=t.target,a=new FormData(e),o=`${Q.api_host}/${Q.api_version}/${Q.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Fit(t={}){let e=wt();e.filter_criteria={...e.filter_criteria,...t}}async function Pit(t={}){w(wt,["item"]).item.set(t)}async function Bit(t=!0){w(wt,["only_latest_data"]).only_latest_data.set(t)}async function qit(t=1){w(wt,["page"]).page.set(t)}async function Lit(t=10){w(wt,["paginate"]).paginate.set(t)}async function Uit(t=!0){w(wt,["show_details_canvas"]).show_details_canvas.set(t)}async function Nit(t=!0){w(wt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function Vit(t="active"){w(wt,["status"]).status.set(t)}async function Hit(){w(wt,["selected"]).selected.set([])}const wt=Vt(Q.store_prefix,{state:()=>$it,getters:{},actions:{get_all:Cit,create:Sit,update:Ait,details:Dit,update_status:Eit,soft_delete:Tit,restore:jit,destroy:Rit,bulk_action:Oit,import_data:Iit,set_page:qit,set_paginate:Lit,set_show_details_canvas:Uit,set_item:Pit,set_show_filter_canvas:Nit,set_filter_criteria:Fit,set_status:Vit,set_only_latest_data:Bit,clear_selected:Hit}});var zit=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),Mit=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var Wit=function(t){Mit(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(zit);const Gs=Wit;let Jit=Q.store_prefix;async function Kit(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${Q.api_host}/${Q.api_version}/${Q.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=Yit(d.data.data.data[0],o);l=new Gs(`${Jit}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>Git(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function Yit(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function Git(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let Qit=Q.store_prefix;function Xit(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new Gs(`${Qit}_list.csv`).setColumns(a).addRows(o).exportFile(),w(wt,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let Zit=Q.store_prefix;function trt(){const t=Q.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new Gs(`${Zit}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var ert="Expected a function",qo=0/0,srt="[object Symbol]",art=/^\s+|\s+$/g,ort=/^[-+]0x[0-9a-f]+$/i,nrt=/^0b[01]+$/i,lrt=/^0o[0-7]+$/i,irt=parseInt,rrt=typeof global=="object"&&global&&global.Object===Object&&global,drt=typeof self=="object"&&self&&self.Object===Object&&self,crt=rrt||drt||Function("return this")(),_rt=Object.prototype,urt=_rt.toString,prt=Math.max,frt=Math.min,Xe=function(){return crt.Date.now()};function mrt(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(ert);e=Lo(e)||0,vs(a)&&(v=!!a.leading,b="maxWait"in a,n=b?prt(Lo(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?frt(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=Xe();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(Xe())}function D(){var h=Xe(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function vs(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function hrt(t){return!!t&&typeof t=="object"}function grt(t){return typeof t=="symbol"||hrt(t)&&urt.call(t)==srt}function Lo(t){if(typeof t=="number")return t;if(grt(t))return qo;if(vs(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vs(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(art,"");var a=nrt.test(t);return a||lrt.test(t)?irt(t.slice(2),a?2:8):ort.test(t)?qo:+t}function vrt(t){console.log(t.target.checked);const e=w(wt,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const yrt={methods:{set_all_item_selectd:vrt}};function $rt(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Qs=k(yrt,[["render",$rt]]);const brt={data:()=>({setup:Q}),components:{SelectAll:Qs}},wrt=t=>(ht("data-v-22d39a4f"),t=t(),gt(),t),krt=wrt(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),xrt={class:"w-10 text-center"};function Crt(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[krt,s("th",xrt,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const Srt=k(brt,[["render",Crt],["__scopeId","data-v-22d39a4f"]]);function Drt(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const Art={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:Q})},Trt=s("i",{class:"fa fa-history text-secondary"},null,-1);function Ert(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[Trt,f(" Log ")]),_:1},8,["to"])}const jrt=k(Art,[["render",Ert]]),Rrt={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:Q})},Ort=s("i",{class:"fa fa-file text-secondary"},null,-1);function Irt(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Invoice${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[Ort,f(" Invoice ")]),_:1},8,["to"])}const Frt=k(Rrt,[["render",Irt]]),Prt={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:Q})},Brt=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function qrt(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[Brt,f(" Edit ")]),_:1},8,["to"])}const Lrt=k(Prt,[["render",qrt]]),Urt={props:{item:{slug:""}},methods:{...H(wt,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},Nrt=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),Vrt=s("i",{class:"fa fa-eye text-warning"},null,-1);function Hrt(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[Nrt,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[Vrt,f(" Active ")])):j("",!0)],64)}const zrt=k(Urt,[["render",Hrt]]),Mrt={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(wt,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},Wrt=s("i",{class:"fa fa-ban text-warning"},null,-1),Jrt=s("i",{class:"fa fa-ban text-warning"},null,-1);function Krt(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[Wrt,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[Jrt,f(" Restore data ")])):j("",!0)],64)}const Yrt=k(Mrt,[["render",Krt]]),Grt={props:{item:{slug:""}},methods:{...H(wt,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},Qrt=s("i",{class:"fa fa-trash text-danger"},null,-1);function Xrt(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[Qrt,f(" Destroy ")])}const Zrt=k(Grt,[["render",Xrt]]),tdt={props:{item:{type:Object,default:{}}},components:{Invoice:Frt,DataLog:jrt,Edit:Lrt,StatusButton:zrt,Destroy:Zrt,DeleteRestore:Yrt},methods:{active_row:Drt}},edt={class:"table_action_btns"};function sdt(t,e,a,o,l,n){const i=y("edit"),d=y("status-button"),r=y("delete-restore"),m=y("destroy"),v=y("data-log"),b=y("invoice");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(B=>n.active_row(B),["prevent"])),class:"icon"}),s("div",edt,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),s("li",null,[x(b,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const Xn=k(tdt,[["render",sdt]]);function adt(t,e){const a=w(wt,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const odt={props:["data"],created:function(){},methods:{set_item_selectd:adt},computed:{...q(wt,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},ndt=["checked"];function ldt(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,ndt)}const Zn=k(odt,[["render",ldt]]);const idt={props:["data"],data:()=>({setup:Q}),components:{SelectAll:Qs,TableRowAction:Xn,SelectSingle:Zn},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t:t}}},rdt={key:0},ddt={key:1,class:"text-wrap max-w-120"};function cdt(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,(r,m)=>(c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),(c(!0),u(C,null,F(t.setup.table_row_data,(v,b)=>(c(),u(C,{key:b},[v=="id"?(c(),u("td",rdt,p(m+1),1)):(c(),u("td",ddt,p(n.trim_content(r[v],v)),1))],64))),128))],2))),128)}const _dt=k(idt,[["render",cdt],["__scopeId","data-v-a1552008"]]),udt={components:{TableHead:Srt,TableBody:_dt},data:()=>({setup:Q,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:Kit,export_selected_csv:Xit,export_demo_csv:trt,...H(wt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:mrt(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w(wt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},pdt={class:"row"},fdt={class:"col-sm-12"},mdt={class:"card"},hdt={class:"card-header"},gdt={class:"row align-items-center"},vdt={class:"col-12 col-md-3 mb-2 mb-md-0"},ydt={class:"text-capitalize mb-0"},$dt={class:"col-12 col-md-6 mb-2 mb-md-0"},bdt={class:"col-12 col-md-3 text-md-right text-sm-left"},wdt=s("i",{class:"fa fa-gear mx-2"},null,-1),kdt={class:"card-body"},xdt={class:"table-responsive table_responsive card_body_fixed_height"},Cdt={class:"table table-hover text-center table-bordered"},Sdt={key:0},Ddt={class:"mx-3"},Adt={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},Tdt={class:"pagination my-2",style:{"font-size":"11px"}},Edt=["onClick","href","innerHTML"],jdt={class:"d-flex",style:{gap:"5px"}},Rdt=s("span",null,null,-1),Odt=s("span",null,"-",-1),Idt=s("span",null,"of",-1),Fdt={class:"d-flex",style:{gap:"5px"}},Pdt=s("span",null,null,-1),Bdt=s("span",null," Limit ",-1),qdt=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),Ldt=[qdt],Udt={class:"card-footer py-2"},Ndt={class:"d-flex flex-wrap align-items-center"},Vdt={class:"mr-2 mb-2"},Hdt=s("i",{class:"fa fa-edit mr-2"},null,-1),zdt={class:"mr-2 mb-2"},Mdt=s("i",{class:"fa fa-print mr-2"},null,-1),Wdt={key:0,class:"mr-2 mb-2"},Jdt=s("i",{class:"fa fa-sign-out mr-2"},null,-1),Kdt={class:"mr-2 mb-2"},Ydt=s("i",{class:"fa fa-download mr-2"},null,-1),Gdt={class:"mr-2 mb-2"},Qdt=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),Xdt={class:"mr-2 mb-2"},Zdt=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),tct={class:"mr-2 mb-2"},ect=s("i",{class:"fa fa-trash mr-2"},null,-1),sct={key:1,class:"mr-2 mb-2"},act=K('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),oct=[act],nct=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),lct={class:"off_canvas_body"},ict={class:"header"},rct=s("h3",{class:"heading_text"},"Filter",-1),dct=s("span",{class:"fa fa-close border p-2"},null,-1),cct=[dct],_ct={class:"data_content"},uct={class:"filter_item"},pct=s("label",{for:"start_date"},"Start Date",-1),fct={for:"start_date",class:"text-capitalize d-block date_custom_control"},mct={class:"filter_item"},hct=s("label",{for:"end_date"},"End Date",-1),gct={for:"end_date",class:"text-capitalize d-block date_custom_control"},vct={class:"filter_item"},yct=s("label",{for:"sort_by_col"},"Sort By Col",-1),$ct={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},bct={class:"filter_item"},wct=s("label",{for:"sort_by_col"},"Sort Type",-1),kct={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},xct={class:"filter_item"},Cct=s("div",{class:"off_canvas_overlay"},null,-1),Sct={class:"modal-dialog modal-dialog-centered"},Dct={class:"modal-content border-primary"},Act={class:"modal-header bg-primary"},Tct={class:"modal-title text-white"},Ect=s("span",{"aria-hidden":"true"},"×",-1),jct=[Ect],Rct={class:"modal-body"},Oct=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),Ict=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),Fct={class:"modal-footer"},Pct=s("i",{class:"fa fa-times"},null,-1),Bct=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function qct(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",pdt,[s("div",fdt,[s("div",mdt,[s("div",hdt,[s("div",gdt,[s("div",vdt,[s("h5",ydt,p(t.setup.all_page_title),1)]),s("div",$dt,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",bdt,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[wdt,f("Filter ")])])])]),s("div",kdt,[s("div",xdt,[s("table",Cdt,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",Sdt,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",Ddt,[s("nav",Adt,[s("ul",Tdt,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,Edt)],2)}),128))]),s("div",jdt,[Rdt,s("span",null,p((S=t.all)==null?void 0:S.from),1),Odt,s("span",null,p((z=t.all)==null?void 0:z.to),1),Idt,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",Fdt,[Pdt,Bdt,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},Ldt,544),[[J,t.paginate]])])])]),s("div",Udt,[s("div",Ndt,[s("div",Vdt,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[Hdt,f(" Create ")]),_:1},8,["to"])]),s("div",zdt,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[Mdt,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",Wdt,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[Jdt,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",Kdt,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[Ydt,f(" Import ")])]),s("div",Gdt,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[Qdt,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",Xdt,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[Zdt,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",tct,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[ect,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",sct,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},oct,32)])):j("",!0)])])])])]),nct,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",lct,[s("div",ict,[rct,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},cct)]),s("div",_ct,[s("div",uct,[pct,s("label",fct,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",mct,[hct,s("label",gct,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",vct,[yct,s("label",$ct,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",bct,[wct,s("label",kct,[P(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",xct,[s("button",{onClick:e[16]||(e[16]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),Cct],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",Sct,[s("form",{onSubmit:e[20]||(e[20]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",Dct,[s("div",Act,[s("h5",Tct," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},jct)]),s("div",Rct,[Oct,Ict,s("a",{href:"",onClick:e[18]||(e[18]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",Fct,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[Pct,f(" Close ")]),Bct])])],32)])],2)])}const Lct=k(udt,[["render",qct]]),Uct=[{name:"title",label:"Enter your title",type:"text",value:""},{name:"reference",label:"Enter your reference",type:"text",value:""},{name:"suppliyer_id",label:"Select  suppliyer ",type:"number",value:""},{name:"date",label:"Enter your date",type:"date",value:""},{name:"currency_id",label:"Select your currency",type:"number",value:""},{name:"currency_exchange_rate",label:"Enter your currency exchange rate",type:"number",value:""},{name:"address",label:"Enter address",type:"number",value:""},{name:"expected_time_of_delivery",label:"Enter your expected time of delivery",type:"date",value:""},{name:"subtotal",label:"Enter your subtotal",type:"number",value:""},{name:"discount",label:"Enter your discount",type:"number",value:""},{name:"total",label:"Enter your total",type:"text",value:""},{name:"total_in_bd",label:"Enter your total in bd",type:"number",value:""}],Nct={data:()=>({setup:Q,form_fields:Uct,param_id:null,products:[],suppliyers:[],product_items:[],formData:{title:"",reference:"",suppliyer_id:"",date:"",currency_id:1,currency_exchange_rate:"",expected_time_of_delivery:"",paid:0,due:0},update_total_price:{subtotal:0,discount:0,other_cost:0,total:0,total_in_bdt:0}}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t),await this.get_all_products(),await this.get_all_suppliyers()},methods:{...H(wt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&(this.formData.title=this.item.title,this.formData.reference=this.item.reference,this.formData.suppliyer_id=this.item.suppliyer_id,this.formData.date=this.item.date,this.formData.currency_id=this.item.currency_id,this.formData.currency_exchange_rate=this.item.currency_exchange_rate,this.formData.expected_time_of_delivery=this.item.expected_time_of_delivery,this.formData.paid=this.item.paid,this.formData.due=this.item.due,this.update_total_price.subtotal=this.item.subtotal,this.update_total_price.discount=this.item.discount,this.update_total_price.other_cost=this.item.other_cost,this.update_total_price.total=this.item.total,this.update_total_price.total_in_bdt=this.item.total_in_bdt,this.product_items=this.item.purchase_order_products)},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e={...this.formData,product_items:this.product_items,update_total_price:this.update_total_price},a=await this.update(e);[200,201].includes(a.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`All${this.setup.route_prefix}`}))}else{let e={...this.formData,product_items:this.product_items,update_total_price:this.update_total_price},a=await this.create(e);[200,201].includes(a.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}},get_all_products:async function(){var e;let t=await axios.get("products?get_all=1");t.data.status==="success"&&(this.products=(e=t.data)==null?void 0:e.data)},set_product_item:function(t){let e=this.products.find(a=>a.id==t);if(this.product_items.some(a=>a.product_id==t)){alert("Product  already exists ");return}this.product_items.push({product_id:e.id,product_name:e.title,quantity:0,price:0,currency_id:1,subtotal_in_bdt:0,subtotal:0})},removeItem:function(t){this.product_items=this.product_items.filter((e,a)=>t!=a),this.product_items.length===0&&(this.update_total_price={subtotal:0,discount:0,other_cost:0,total:0,total_in_bdt:0})},get_all_suppliyers:async function(){var e;let t=await axios.get("suppliyers?get_all=1");t.data.status=="success"&&(this.suppliyers=((e=t.data)==null?void 0:e.data)||[])},recalculateProductItems(){const t=this.product_items.reduce((e,a)=>(a.subtotal=a.quantity*a.price,a.subtotal_in_bdt=Number(a.subtotal)*Number(this.formData.currency_exchange_rate),e+a.subtotal),0);this.update_total_price.subtotal=t,this.update_total_price.total_in_bdt=Number(t)*Number(this.formData.currency_exchange_rate)},recalculateUpdateTotalPrice(){const{subtotal:t,discount:e,other_cost:a}=this.update_total_price;this.update_total_price.total=Number(t)+Number(a)-Number(e)}},watch:{product_items:{handler(t){const e=t.reduce((a,o)=>(o.subtotal=o.quantity*o.price,o.subtotal_in_bdt=Number(o.subtotal)*Number(this.formData.currency_exchange_rate),a+o.subtotal),0);this.update_total_price.subtotal=e,this.update_total_price.total_in_bdt=Number(e)*Number(this.formData.currency_exchange_rate)},deep:!0},update_total_price:{handler:function(t){const{subtotal:e,discount:a,other_cost:o}=t;this.update_total_price.total=Number(e)+Number(o)-Number(a)},deep:!0},"formData.currency_exchange_rate":{handler(){this.recalculateProductItems(),this.recalculateUpdateTotalPrice()},deep:!0},"formData.paid":{handler:function(t){console.log(this.formData),this.formData.due=Number(this.update_total_price.total)-Number(t)},deep:!0}},computed:{...q(wt,{item:"item"})}},Vct={class:"card"},Hct=s("div",{class:"card-header d-flex justify-content-between"},[s("h5",{class:"text-capitalize"},"Create PurchaseOrder"),s("div",null,[s("a",{href:"#/purchase-order/all",class:"btn btn-outline-warning btn-sm"},"All PurchaseOrder")])],-1),zct={class:"card-body card_body_fixed_height"},Mct={class:"row"},Wct={class:"col-md-6"},Jct={class:"form-group"},Kct=s("label",{for:""},"Enter your title",-1),Yct={class:"mt-1 mb-3"},Gct={class:"col-md-6"},Qct={class:"form-group"},Xct=s("label",{for:""},"Enter your reference",-1),Zct={class:"mt-1 mb-3"},t_t={class:"col-md-6"},e_t={class:"form-group"},s_t=s("label",{for:""},"Slect suppliyer",-1),a_t={class:"mt-1 mb-3"},o_t=s("option",{value:""},"Select suppliyer",-1),n_t=["value"],l_t={class:"col-md-6"},i_t={class:"form-group"},r_t=s("label",{for:""},"Select date",-1),d_t={class:"mt-1 mb-3"},c_t={class:"col-md-6"},__t={class:"form-group"},u_t=s("label",{for:""},"Select your currency",-1),p_t={class:"mt-1 mb-3"},f_t=s("option",{value:"1"},"Chinese Yuan",-1),m_t=s("option",{value:"2"},"BDT",-1),h_t=[f_t,m_t],g_t={class:"col-md-6"},v_t={class:"form-group"},y_t=s("label",{for:""},"Enter your currency exchange rate",-1),$_t={class:"mt-1 mb-3"},b_t={class:"col-md-6"},w_t={class:"form-group"},k_t=s("label",{for:""},"Enter your expected time of delivery",-1),x_t={class:"mt-1 mb-3"},C_t={class:"row justify-content-center my-3"},S_t={class:"col-md-7"},D_t={class:"form-group"},A_t=s("label",{for:""},"Select Products",-1),T_t=s("option",{value:""},"Select Product",-1),E_t=["value"],j_t={class:"table table-bordered table-hover table-striped"},R_t=s("thead",null,[s("tr",null,[s("th",null,"Product Name"),s("th",null,"Quantity"),s("th",null,"Price"),s("th",null,"Currency"),s("th",null,"SubTotal In BDT"),s("th",null,"SubTotal"),s("th",null,"Actions")])],-1),O_t=["onUpdate:modelValue"],I_t=["onUpdate:modelValue"],F_t=["onUpdate:modelValue"],P_t=["onUpdate:modelValue"],B_t=["onUpdate:modelValue"],q_t=s("option",{value:"1"},"Chinese Yuan",-1),L_t=s("option",{value:"2"},"BDT",-1),U_t=[q_t,L_t],N_t=["onUpdate:modelValue"],V_t=["onUpdate:modelValue"],H_t=["onClick"],z_t=s("i",{class:"fa fa-trash"},null,-1),M_t=[z_t],W_t={class:"row justify-content-end my-3"},J_t={class:"col-md-4"},K_t={class:"table table-bordered table-hover table-striped"},Y_t=s("td",{colspan:"2"},"Total",-1),G_t=s("td",{colspan:"2"},"Total in BDT",-1),Q_t=s("td",{colspan:"2"},"Ohter Cost",-1),X_t=s("td",{colspan:"2"},"Discount",-1),Z_t=s("td",{colspan:"2"},"Grand Total",-1),tut={key:0},eut=s("td",{colspan:"2"},"Paid",-1),sut=s("td",{colspan:"2"},"Due",-1),aut=s("div",{class:"card-footer text-center"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5 w-25"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function out(t,e,a,o,l,n){return c(),u("div",null,[s("form",{onSubmit:e[15]||(e[15]=g((...i)=>n.submitHandler&&n.submitHandler(...i),["prevent"]))},[s("div",Vct,[Hct,s("div",zct,[s("div",Mct,[s("div",Wct,[s("div",Jct,[Kct,s("div",Yct,[P(s("input",{class:"form-control form-control-square mb-2",type:"text",name:"title",id:"title","onUpdate:modelValue":e[0]||(e[0]=i=>t.formData.title=i)},null,512),[[M,t.formData.title]])])])]),s("div",Gct,[s("div",Qct,[Xct,s("div",Zct,[P(s("input",{class:"form-control form-control-square mb-2",type:"text",name:"reference",id:"reference","onUpdate:modelValue":e[1]||(e[1]=i=>t.formData.reference=i)},null,512),[[M,t.formData.reference]])])])]),s("div",t_t,[s("div",e_t,[s_t,s("div",a_t,[P(s("select",{class:"form-control form-control-square mb-2",name:"suppliyer_id",id:"suppliyer_id","onUpdate:modelValue":e[2]||(e[2]=i=>t.formData.suppliyer_id=i)},[o_t,(c(!0),u(C,null,F(t.suppliyers,i=>(c(),u("option",{key:i,value:i.id},p(i.name),9,n_t))),128))],512),[[J,t.formData.suppliyer_id]])])])]),s("div",l_t,[s("div",i_t,[r_t,s("div",d_t,[P(s("input",{class:"form-control form-control-square mb-2",type:"date",name:"date",id:"date","onUpdate:modelValue":e[3]||(e[3]=i=>t.formData.date=i)},null,512),[[M,t.formData.date]])])])]),s("div",c_t,[s("div",__t,[u_t,s("div",p_t,[P(s("select",{class:"form-control form-control-square mb-2",name:"currency_id",id:"currency_id","onUpdate:modelValue":e[4]||(e[4]=i=>t.formData.currency_id=i)},h_t,512),[[J,t.formData.currency_id]])])])]),s("div",g_t,[s("div",v_t,[y_t,s("div",$_t,[P(s("input",{class:"form-control form-control-square mb-2",type:"number",name:"currency_exchange_rate",id:"currency_exchange_rate","onUpdate:modelValue":e[5]||(e[5]=i=>t.formData.currency_exchange_rate=i)},null,512),[[M,t.formData.currency_exchange_rate]])])])]),s("div",b_t,[s("div",w_t,[k_t,s("div",x_t,[P(s("input",{class:"form-control form-control-square mb-2",type:"date",name:"expected_time_of_delivery",id:"expected_time_of_delivery","onUpdate:modelValue":e[6]||(e[6]=i=>t.formData.expected_time_of_delivery=i)},null,512),[[M,t.formData.expected_time_of_delivery]])])])])]),s("div",C_t,[s("div",S_t,[s("div",D_t,[A_t,s("select",{name:"",id:"",class:"form-control",onChange:e[7]||(e[7]=i=>n.set_product_item(i.target.value))},[T_t,(c(!0),u(C,null,F(t.products,i=>(c(),u("option",{value:i.id,key:i.id},p(i.title),9,E_t))),128))],32)])])]),s("div",null,[s("table",j_t,[R_t,s("tbody",null,[(c(!0),u(C,null,F(t.product_items,(i,d)=>(c(),u("tr",{key:d},[s("td",null,[P(s("input",{class:"form-control form-control-square",type:"hidden","onUpdate:modelValue":r=>i.product_id=r},null,8,O_t),[[M,i.product_id]]),P(s("input",{class:"form-control form-control-square",type:"text",readonly:"","onUpdate:modelValue":r=>i.product_name=r},null,8,I_t),[[M,i.product_name]])]),s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number","onUpdate:modelValue":r=>i.quantity=r},null,8,F_t),[[M,i.quantity]])]),s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number","onUpdate:modelValue":r=>i.price=r},null,8,P_t),[[M,i.price]])]),s("td",null,[P(s("select",{"onUpdate:modelValue":r=>i.currency_id=r,class:"form-control form-control-square"},U_t,8,B_t),[[J,i.currency_id]])]),s("td",null,[P(s("input",{class:"form-control form-control-square",type:"text","onUpdate:modelValue":r=>i.subtotal_in_bdt=r},null,8,N_t),[[M,i.subtotal_in_bdt]])]),s("td",null,[P(s("input",{class:"form-control form-control-square",type:"text","onUpdate:modelValue":r=>i.subtotal=r},null,8,V_t),[[M,i.subtotal]])]),s("td",null,[s("button",{type:"button",class:"btn btn-danger btn-outline-behance",onClick:r=>n.removeItem(d)},M_t,8,H_t)])]))),128))])]),s("div",W_t,[s("div",J_t,[s("table",K_t,[s("tr",null,[Y_t,s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number",readonly:"","onUpdate:modelValue":e[8]||(e[8]=i=>t.update_total_price.subtotal=i)},null,512),[[M,t.update_total_price.subtotal]])])]),s("tr",null,[G_t,s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number",readonly:"","onUpdate:modelValue":e[9]||(e[9]=i=>t.update_total_price.total_in_bdt=i)},null,512),[[M,t.update_total_price.total_in_bdt]])])]),s("tr",null,[Q_t,s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number","onUpdate:modelValue":e[10]||(e[10]=i=>t.update_total_price.other_cost=i)},null,512),[[M,t.update_total_price.other_cost]])])]),s("tr",null,[X_t,s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number","onUpdate:modelValue":e[11]||(e[11]=i=>t.update_total_price.discount=i)},null,512),[[M,t.update_total_price.discount]])])]),s("tr",null,[Z_t,s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number",readonly:"","onUpdate:modelValue":e[12]||(e[12]=i=>t.update_total_price.total=i)},null,512),[[M,t.update_total_price.total]])])]),t.param_id?j("",!0):(c(),u("tr",tut,[eut,s("td",null,[P(s("input",{class:"form-control form-control-square",required:"",type:"number","onUpdate:modelValue":e[13]||(e[13]=i=>t.formData.paid=i)},null,512),[[M,t.formData.paid]])])])),s("tr",null,[sut,s("td",null,[P(s("input",{class:"form-control form-control-square",type:"number",readonly:"","onUpdate:modelValue":e[14]||(e[14]=i=>t.formData.due=i)},null,512),[[M,t.formData.due]])])])])])])])]),aut])],32)])}const Uo=k(Nct,[["render",out]]);const nut={props:["item"],data:()=>({setup:Q}),components:{SelectAll:Qs,TableRowAction:Xn,SelectSingle:Zn},methods:{trim_content(t,e=null){return t}}},lut=t=>(ht("data-v-b4869b85"),t=t(),gt(),t),iut=lut(()=>s("th",{class:"text-center"},":",-1)),rut={class:"text-trim"};function dut(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),iut,s("th",rut,p(n.trim_content(a.item[i],i)),1)]))),128)}const cut=k(nut,[["render",dut],["__scopeId","data-v-b4869b85"]]),_ut={components:{DataDetialsTableBody:cut},data:()=>({setup:Q,purchase_order_logs:[]}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t),this.purchase_order_logs=this.item.purchase_order_logs},methods:{...H(wt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)},LogSearchHandler:async function(t){let e=this.param_id=this.$route.params.id,a=new FormData(t.target);a.append("slug",e);let o=await axios.post("/purchase-orders/log-search",a);o.data.status=="success"&&(this.purchase_order_logs=o.data.data,console.log(this.item))}},computed:{...w(wt,{item:"item"})}},uut={class:"card"},put={class:"card-header d-flex justify-content-between"},fut={class:"text-capitalize"},mut=s("input",{type:"date",class:"form-control",name:"start_date",id:""},null,-1),hut=s("input",{type:"date",class:"form-control mx-2",name:"end_date",id:""},null,-1),gut=s("button",{type:"submit",class:"btn btn-outline-success"},[s("i",{class:"fa fa-search"})],-1),vut=[mut,hut,gut],yut={class:"card-body card_body_fixed_height"},$ut={class:"row gap-2 justify-content-center"},but={class:"d-flex flex-wrap gap-1"},wut={class:"w-25"},kut=s("label",{for:""},"created date",-1),xut={class:""},Cut=["value"],Sut={class:"w-25"},Dut=s("label",{for:""},"title",-1),Aut={class:""},Tut=["value"],Eut={class:"w-25"},jut=s("label",{for:""},"Reference",-1),Rut={class:""},Out=["value"],Iut={class:"w-25"},Fut=s("label",{for:""},"suppliyer_id",-1),Put={class:""},But=["value"],qut={class:"w-25"},Lut=s("label",{for:""}," date",-1),Uut={class:""},Nut=["value"],Vut={class:"w-25"},Hut=s("label",{for:""},"currency",-1),zut={class:""},Mut=["value"],Wut={class:"w-25"},Jut=s("label",{for:""},"currency exchange rate",-1),Kut={class:""},Yut=["value"],Gut={class:"w-25"},Qut=s("label",{for:""},"expected time of delivery",-1),Xut={class:""},Zut=["value"],tpt={class:"table quick_modal_table table-bordered"},ept=s("tr",null,[s("th",null,"Product Name"),s("th",null,"Quantity"),s("th",null,"Price"),s("th",null,"SubTotal"),s("th",null,"SubTotal In BDT")],-1);function spt(t,e,a,o,l,n){const i=y("router-link");return c(),u("div",null,[s("form",{onSubmit:e[1]||(e[1]=g((...d)=>t.submitHandler&&t.submitHandler(...d),["prevent"]))},[s("div",uut,[s("div",put,[s("h5",fut,p(t.setup.prefix)+" Log History ",1),s("div",null,[s("form",{onSubmit:e[0]||(e[0]=g((...d)=>n.LogSearchHandler&&n.LogSearchHandler(...d),["prevent"])),class:"d-flex justify-content-evenly align-items-center"},vut,32)]),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",yut,[s("div",$ut,[(c(!0),u(C,null,F(t.purchase_order_logs,(d,r)=>(c(),u("div",{class:"col-lg-6 my-2 p-2 border rounded-3",key:r},[s("div",but,[s("div",wut,[kut,s("div",xut,[s("input",{class:"form-control form-control-square mb-2",value:new Date(d.created_at).toDateString()},null,8,Cut)])]),s("div",Sut,[Dut,s("div",Aut,[s("input",{class:"form-control form-control-square mb-2",value:d.title},null,8,Tut)])]),s("div",Eut,[jut,s("div",Rut,[s("input",{class:"form-control form-control-square mb-2",value:d.reference},null,8,Out)])]),s("div",Iut,[Fut,s("div",Put,[s("input",{class:"form-control form-control-square mb-2",value:d.suppliyer_id},null,8,But)])]),s("div",qut,[Lut,s("div",Uut,[s("input",{class:"form-control form-control-square mb-2",value:new Date(d.date).toDateString()},null,8,Nut)])]),s("div",Vut,[Hut,s("div",zut,[s("input",{class:"form-control form-control-square mb-2",value:d.currency_id==2?"BDT":"Chinese Yuan"},null,8,Mut)])]),s("div",Wut,[Jut,s("div",Kut,[s("input",{class:"form-control form-control-square mb-2",value:d.currency_exchange_rate},null,8,Yut)])]),s("div",Gut,[Qut,s("div",Xut,[s("input",{class:"form-control form-control-square mb-2",value:d.expected_time_of_delivery},null,8,Zut)])])]),s("table",tpt,[s("tbody",null,[ept,(c(!0),u(C,null,F(d.purchase_order_products,m=>(c(),u("tr",{key:m.id},[s("td",null,p(m.product_name),1),s("td",null,p(m.quantity),1),s("td",null,p(m.price),1),s("td",null,p(m.subtotal),1),s("td",null,p(m.subtotal_in_bdt),1)]))),128))])])]))),128))])])])],32)])}const apt=k(_ut,[["render",spt]]);const opt={data:()=>({setup:Q}),created:async function(){let t=this.param_id=this.$route.params.id;t&&await this.details(t)},methods:{...H(wt,{details:"details"}),print(){window.print()},convert_amount:function(t){return convert(t)??0}},computed:{...q(wt,{item:"item"})}},npt={class:"container card"},lpt=s("div",{class:"bill-header"},[s("h2",{class:"bill-title"},"BAIYUAN MACHINERY CO."),s("p",null," House # 20, Road # 33, Sector # 07, Uttara, Dhaka-1230, Bangladesh "),s("p",null,[s("strong",null,"Phone:"),f(" +880 17676 88801, +880 1949323555"),s("br"),s("strong",null,"Email:"),f(" baiyuanbd@gmail.com ")]),s("hr")],-1),ipt={class:"bill-info"},rpt={class:"d-flex justify-content-between"},dpt=s("strong",null,"Bill No: ",-1),cpt={class:"underline"},_pt=s("strong",null,"Challan No: ",-1),upt={class:"underline"},ppt=s("strong",null,"Date: ",-1),fpt={class:"underline"},mpt={class:"d-flex justify-content-between mt-3 gap-2"},hpt=s("strong",null,"Name: ",-1),gpt={class:"underline"},vpt={class:"text-start"},ypt=s("strong",null,"Address:",-1),$pt={class:"underline"},bpt={class:"border border-top-0 border-right-0 border-left-0"},wpt={class:"table table-bordered mt-4"},kpt=s("thead",null,[s("tr",null,[s("th",null,"NO."),s("th",null,"DESCRIPTION OF GOODS"),s("th",null,"QUANTITY"),s("th",null,"UNIT PRICE"),s("th",null,"TOTAL PRICE")])],-1),xpt=s("tr",null,null,-1),Cpt={colspan:"3",class:"text-left py-4"},Spt={class:"underline text-capitalize"},Dpt=s("td",{class:"text-right"},[s("strong",null,"Total Amount:")],-1),Apt=s("div",{class:"footer-section"},[s("div",{class:"d-flex justify-content-between my-5"},[s("div",null,[s("p",null,"__________________________"),s("p",null,[s("strong",null,"Received by:")])]),s("div",{class:"text-right"},[s("p",null,"__________________________"),s("p",null,"For: Baiyuan Machinery Co.")])])],-1);function Tpt(t,e,a,o,l,n){var i;return c(),u("div",null,[s("div",npt,[lpt,s("div",ipt,[s("div",rpt,[s("div",null,[dpt,s("span",cpt,p(t.item.id),1)]),s("div",null,[_pt,s("span",upt,p(t.item.order_id),1)]),s("div",null,[ppt,s("span",fpt,p(t.item.date),1)])]),s("div",mpt,[s("div",null,[hpt,s("span",gpt,p((i=t.item.suppliyer)==null?void 0:i.name),1)]),s("div",vpt,[ypt,s("span",$pt,p(t.item.address??"N/A"),1)])])]),s("div",bpt,[s("table",wpt,[kpt,s("tbody",null,[(c(!0),u(C,null,F(t.item.purchase_order_products,(d,r)=>(c(),u("tr",null,[s("td",null,p(r+1),1),s("td",null,p(d.product_name),1),s("td",null,p(d.quantity),1),s("td",null,p(d.price),1),s("td",null,p(d.subtotal),1)]))),256)),xpt,s("tr",null,[s("td",Cpt,[s("strong",null,[f(" Taka in Words: "),s("span",Spt,p(n.convert_amount(Number(t.item.total))),1)])]),Dpt,s("td",null,p(t.item.total),1)])])])]),Apt]),s("button",{class:"btn btn-primary print-btn my-3 text-center mx-auto d-block",onClick:e[0]||(e[0]=(...d)=>n.print&&n.print(...d))}," Print ")])}const Ept=k(opt,[["render",Tpt]]),jpt={};function Rpt(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const Opt=k(jpt,[["render",Rpt]]);let ve=Q.route_prefix,Ipt=Q.route_path;const Fpt={path:Ipt,component:Opt,children:[{path:"all",name:"All"+ve,component:Lct},{path:"create",name:"Create"+ve,component:Uo},{path:"details/:id",name:"Details"+ve,component:apt},{path:"edit/:id",name:"Edit"+ve,component:Uo},{path:"invoice/:id",name:"Invoice"+ve,component:Ept}]},ce="Suppliyer",ct={prefix:ce,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"suppliyers",module_name:"suppliyer",store_prefix:"suppliyer",route_prefix:"Suppliyer",route_path:"suppliyer",select_fields:["id","name","phone","email","address","comment","country","status","slug","created_at","deleted_at"],sort_by_cols:["id","name","phone","email","address","comment","country","status","created_at"],table_header_data:["id","name","phone","email","address","comment","country","status","created_at"],table_row_data:["id","name","phone","email","address","comment","country","status","created_at"],layout_title:ce+" Management",page_title:`${ce} Management`,all_page_title:"All "+ce,details_page_title:"Details "+ce,create_page_title:"Create "+ce,edit_page_title:"Edit "+ce},Ppt={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:ct.select_fields,sort_by_cols:ct.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function No(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function Vo(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return No({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw No({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function Bpt(t){return t/1024}async function Ho(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),Vo(t,r,i)):a=await Vo(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:Bpt(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:qpt,api_version:Lpt,api_end_point:Upt}=ct;let Npt=async()=>{let t=w(It,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${qpt}/${Lpt}/${Upt}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await Ho(o,n)):a=await Ho(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function Vpt(t){let e=t.target,a=new FormData(e),o=`${ct.api_host}/${ct.api_version}/${ct.api_end_point}/store`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Hpt(t){let e=w(It,["item"]),a=`${ct.api_host}/${ct.api_version}/${ct.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function zpt(t){let e=q(It,["item"]),a=t.target,o=new FormData(a);o.append("id",e.item().id);let l=`${ct.api_host}/${ct.api_version}/${ct.api_end_point}/update/${e.item().slug}`;try{return await A.post(l,o)}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function Mpt(){let t=q(It,["item"]),e=`${ct.api_host}/${ct.api_version}/${ct.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Wpt(){let t=q(It,["item"]),e=`${ct.api_host}/${ct.api_version}/${ct.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function Jpt(){let t=q(It,["item"]),e=`${ct.api_host}/${ct.api_version}/${ct.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Kpt(){let t=q(It,["item"]),e=`${ct.api_host}/${ct.api_version}/${ct.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Ypt(t,e){let a=`${ct.api_host}/${ct.api_version}/${ct.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function Gpt(t){let e=t.target,a=new FormData(e),o=`${ct.api_host}/${ct.api_version}/${ct.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Qpt(t={}){let e=It();e.filter_criteria={...e.filter_criteria,...t}}async function Xpt(t={}){w(It,["item"]).item.set(t)}async function Zpt(t=!0){w(It,["only_latest_data"]).only_latest_data.set(t)}async function tft(t=1){w(It,["page"]).page.set(t)}async function eft(t=10){w(It,["paginate"]).paginate.set(t)}async function sft(t=!0){w(It,["show_details_canvas"]).show_details_canvas.set(t)}async function aft(t=!0){w(It,["show_filter_canvas"]).show_filter_canvas.set(t)}async function oft(t="active"){w(It,["status"]).status.set(t)}async function nft(){w(It,["selected"]).selected.set([])}const It=Vt(ct.store_prefix,{state:()=>Ppt,getters:{},actions:{get_all:Npt,create:Vpt,update:zpt,details:Hpt,update_status:Wpt,soft_delete:Mpt,restore:Jpt,destroy:Kpt,bulk_action:Ypt,import_data:Gpt,set_page:tft,set_paginate:eft,set_show_details_canvas:sft,set_item:Xpt,set_show_filter_canvas:aft,set_filter_criteria:Qpt,set_status:oft,set_only_latest_data:Zpt,clear_selected:nft}});var lft=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),ift=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var rft=function(t){ift(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(lft);const Xs=rft;let dft=ct.store_prefix;async function cft(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${ct.api_host}/${ct.api_version}/${ct.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=_ft(d.data.data.data[0],o);l=new Xs(`${dft}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>uft(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function _ft(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function uft(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let pft=ct.store_prefix;function fft(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new Xs(`${pft}_list.csv`).setColumns(a).addRows(o).exportFile(),w(It,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let mft=ct.store_prefix;function hft(){const t=ct.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new Xs(`${mft}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var gft="Expected a function",zo=0/0,vft="[object Symbol]",yft=/^\s+|\s+$/g,$ft=/^[-+]0x[0-9a-f]+$/i,bft=/^0b[01]+$/i,wft=/^0o[0-7]+$/i,kft=parseInt,xft=typeof global=="object"&&global&&global.Object===Object&&global,Cft=typeof self=="object"&&self&&self.Object===Object&&self,Sft=xft||Cft||Function("return this")(),Dft=Object.prototype,Aft=Dft.toString,Tft=Math.max,Eft=Math.min,Ze=function(){return Sft.Date.now()};function jft(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(gft);e=Mo(e)||0,ys(a)&&(v=!!a.leading,b="maxWait"in a,n=b?Tft(Mo(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?Eft(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=Ze();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(Ze())}function D(){var h=Ze(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function ys(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Rft(t){return!!t&&typeof t=="object"}function Oft(t){return typeof t=="symbol"||Rft(t)&&Aft.call(t)==vft}function Mo(t){if(typeof t=="number")return t;if(Oft(t))return zo;if(ys(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ys(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(yft,"");var a=bft.test(t);return a||wft.test(t)?kft(t.slice(2),a?2:8):$ft.test(t)?zo:+t}function Ift(t){console.log(t.target.checked);const e=w(It,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const Fft={methods:{set_all_item_selectd:Ift}};function Pft(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const Zs=k(Fft,[["render",Pft]]);const Bft={data:()=>({setup:ct}),components:{SelectAll:Zs}},qft=t=>(ht("data-v-871440a3"),t=t(),gt(),t),Lft=qft(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),Uft={class:"w-10 text-center"};function Nft(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[Lft,s("th",Uft,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const Vft=k(Bft,[["render",Nft],["__scopeId","data-v-871440a3"]]);function Hft(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const zft={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:ct})},Mft=s("i",{class:"fa fa-eye text-secondary"},null,-1);function Wft(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[Mft,f(" Show ")]),_:1},8,["to"])}const Jft=k(zft,[["render",Wft]]),Kft={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:ct})},Yft=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function Gft(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[Yft,f(" Edit ")]),_:1},8,["to"])}const Qft=k(Kft,[["render",Gft]]),Xft={props:{item:{slug:""}},methods:{...H(It,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},Zft=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),tmt=s("i",{class:"fa fa-eye text-warning"},null,-1);function emt(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[Zft,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[tmt,f(" Active ")])):j("",!0)],64)}const smt=k(Xft,[["render",emt]]),amt={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(It,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},omt=s("i",{class:"fa fa-ban text-warning"},null,-1),nmt=s("i",{class:"fa fa-ban text-warning"},null,-1);function lmt(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[omt,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[nmt,f(" Restore data ")])):j("",!0)],64)}const imt=k(amt,[["render",lmt]]),rmt={props:{item:{slug:""}},methods:{...H(It,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},dmt=s("i",{class:"fa fa-trash text-danger"},null,-1);function cmt(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[dmt,f(" Destroy ")])}const _mt=k(rmt,[["render",cmt]]),umt={props:{item:{type:Object,default:{}}},components:{DetailsBtn:Jft,Edit:Qft,StatusButton:smt,Destroy:_mt,DeleteRestore:imt},methods:{active_row:Hft}},pmt={class:"table_action_btns"};function fmt(t,e,a,o,l,n){const i=y("details-btn"),d=y("edit"),r=y("status-button"),m=y("delete-restore"),v=y("destroy");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(b=>n.active_row(b),["prevent"])),class:"icon"}),s("div",pmt,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const tl=k(umt,[["render",fmt]]);function mmt(t,e){const a=w(It,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const hmt={props:["data"],created:function(){},methods:{set_item_selectd:mmt},computed:{...q(It,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},gmt=["checked"];function vmt(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,gmt)}const el=k(hmt,[["render",vmt]]);const ymt={props:["data"],data:()=>({setup:ct}),components:{SelectAll:Zs,TableRowAction:tl,SelectSingle:el},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t:typeof t=="object"?t!=null&&t.title?t==null?void 0:t.title:t==null?void 0:t.name:t}}},$mt={key:0},bmt={key:1,class:"text-wrap max-w-120"};function wmt(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,(r,m)=>(c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),(c(!0),u(C,null,F(t.setup.table_row_data,(v,b)=>(c(),u(C,{key:b},[v=="id"?(c(),u("td",$mt,p(m+1),1)):(c(),u("td",bmt,p(n.trim_content(r[v],v)),1))],64))),128))],2))),128)}const kmt=k(ymt,[["render",wmt],["__scopeId","data-v-52422c36"]]),xmt={components:{TableHead:Vft,TableBody:kmt},data:()=>({setup:ct,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:cft,export_selected_csv:fft,export_demo_csv:hft,...H(It,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:jft(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w(It,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},Cmt={class:"row"},Smt={class:"col-sm-12"},Dmt={class:"card"},Amt={class:"card-header"},Tmt={class:"row align-items-center"},Emt={class:"col-12 col-md-3 mb-2 mb-md-0"},jmt={class:"text-capitalize mb-0"},Rmt={class:"col-12 col-md-6 mb-2 mb-md-0"},Omt={class:"col-12 col-md-3 text-md-right text-sm-left"},Imt=s("i",{class:"fa fa-gear mx-2"},null,-1),Fmt={class:"card-body"},Pmt={class:"table-responsive table_responsive card_body_fixed_height"},Bmt={class:"table table-hover text-center table-bordered"},qmt={key:0},Lmt={class:"mx-3"},Umt={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},Nmt={class:"pagination my-2",style:{"font-size":"11px"}},Vmt=["onClick","href","innerHTML"],Hmt={class:"d-flex",style:{gap:"5px"}},zmt=s("span",null,null,-1),Mmt=s("span",null,"-",-1),Wmt=s("span",null,"of",-1),Jmt={class:"d-flex",style:{gap:"5px"}},Kmt=s("span",null,null,-1),Ymt=s("span",null," Limit ",-1),Gmt=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),Qmt=[Gmt],Xmt={class:"card-footer py-2"},Zmt={class:"d-flex flex-wrap align-items-center"},tht={class:"mr-2 mb-2"},eht=s("i",{class:"fa fa-edit mr-2"},null,-1),sht={class:"mr-2 mb-2"},aht=s("i",{class:"fa fa-print mr-2"},null,-1),oht={key:0,class:"mr-2 mb-2"},nht=s("i",{class:"fa fa-sign-out mr-2"},null,-1),lht={class:"mr-2 mb-2"},iht=s("i",{class:"fa fa-download mr-2"},null,-1),rht={class:"mr-2 mb-2"},dht=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),cht={class:"mr-2 mb-2"},_ht=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),uht={class:"mr-2 mb-2"},pht=s("i",{class:"fa fa-trash mr-2"},null,-1),fht={key:1,class:"mr-2 mb-2"},mht=K('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),hht=[mht],ght=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),vht={class:"off_canvas_body"},yht={class:"header"},$ht=s("h3",{class:"heading_text"},"Filter",-1),bht=s("span",{class:"fa fa-close border p-2"},null,-1),wht=[bht],kht={class:"data_content"},xht={class:"filter_item"},Cht=s("label",{for:"start_date"},"Start Date",-1),Sht={for:"start_date",class:"text-capitalize d-block date_custom_control"},Dht={class:"filter_item"},Aht=s("label",{for:"end_date"},"End Date",-1),Tht={for:"end_date",class:"text-capitalize d-block date_custom_control"},Eht={class:"filter_item"},jht=s("label",{for:"sort_by_col"},"Sort By Col",-1),Rht={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},Oht={class:"filter_item"},Iht=s("label",{for:"sort_by_col"},"Sort Type",-1),Fht={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},Pht={class:"filter_item"},Bht=s("div",{class:"off_canvas_overlay"},null,-1),qht={class:"modal-dialog modal-dialog-centered"},Lht={class:"modal-content border-primary"},Uht={class:"modal-header bg-primary"},Nht={class:"modal-title text-white"},Vht=s("span",{"aria-hidden":"true"},"×",-1),Hht=[Vht],zht={class:"modal-body"},Mht=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),Wht=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),Jht={class:"modal-footer"},Kht=s("i",{class:"fa fa-times"},null,-1),Yht=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function Ght(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",Cmt,[s("div",Smt,[s("div",Dmt,[s("div",Amt,[s("div",Tmt,[s("div",Emt,[s("h5",jmt,p(t.setup.all_page_title),1)]),s("div",Rmt,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",Omt,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[Imt,f("Filter ")])])])]),s("div",Fmt,[s("div",Pmt,[s("table",Bmt,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",qmt,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",Lmt,[s("nav",Umt,[s("ul",Nmt,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,Vmt)],2)}),128))]),s("div",Hmt,[zmt,s("span",null,p((S=t.all)==null?void 0:S.from),1),Mmt,s("span",null,p((z=t.all)==null?void 0:z.to),1),Wmt,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",Jmt,[Kmt,Ymt,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},Qmt,544),[[J,t.paginate]])])])]),s("div",Xmt,[s("div",Zmt,[s("div",tht,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[eht,f(" Create ")]),_:1},8,["to"])]),s("div",sht,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[aht,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",oht,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[nht,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",lht,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[iht,f(" Import ")])]),s("div",rht,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[dht,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",cht,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[_ht,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",uht,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[pht,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",fht,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},hht,32)])):j("",!0)])])])])]),ght,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",vht,[s("div",yht,[$ht,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},wht)]),s("div",kht,[s("div",xht,[Cht,s("label",Sht,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",Dht,[Aht,s("label",Tht,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",Eht,[jht,s("label",Rht,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",Oht,[Iht,s("label",Fht,[P(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",Pht,[s("button",{onClick:e[16]||(e[16]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),Bht],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",qht,[s("form",{onSubmit:e[20]||(e[20]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",Lht,[s("div",Uht,[s("h5",Nht," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},Hht)]),s("div",zht,[Mht,Wht,s("a",{href:"",onClick:e[18]||(e[18]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",Jht,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[Kht,f(" Close ")]),Yht])])],32)])],2)])}const Qht=k(xmt,[["render",Ght]]),Xht=[{name:"name",label:"Enter your name",type:"text",value:""},{name:"phone",label:"Enter your phone",type:"text",value:""},{name:"email",label:"Enter your email",type:"text",value:""},{name:"address",label:"Enter your address",type:"text",value:""},{name:"comment",label:"Enter your comment",type:"text",value:""},{name:"country",label:"Enter your country",type:"text",value:""}],Zht={data:()=>({setup:ct,form_fields:Xht,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t)},methods:{...H(It,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(o=>{e.name==o[0]&&(this.form_fields[a].value=o[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}}},computed:{...q(It,{item:"item"})}},tgt={class:"card"},egt={class:"card-header d-flex justify-content-between"},sgt={class:"text-capitalize"},agt={class:"card-body card_body_fixed_height"},ogt={class:"row"},ngt=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function lgt(t,e,a,o,l,n){const i=y("router-link"),d=y("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=g((...r)=>n.submitHandler&&n.submitHandler(...r),["prevent"]))},[s("div",tgt,[s("div",egt,[s("h5",sgt,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),W(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):j("",!0),x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",agt,[s("div",ogt,[(c(!0),u(C,null,F(t.form_fields,(r,m)=>(c(),W(d,{key:m,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),ngt])],32)])}const Wo=k(Zht,[["render",lgt]]);const igt={props:["item"],data:()=>({setup:ct}),components:{SelectAll:Zs,TableRowAction:tl,SelectSingle:el},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t:typeof t=="object"?t!=null&&t.title?t==null?void 0:t.title:t==null?void 0:t.name:t}}},rgt=t=>(ht("data-v-9c270486"),t=t(),gt(),t),dgt=rgt(()=>s("th",{class:"text-center"},":",-1)),cgt={class:"text-trim"};function _gt(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),dgt,s("th",cgt,p(n.trim_content(a.item[i],i)),1)]))),128)}const ugt=k(igt,[["render",_gt],["__scopeId","data-v-9c270486"]]),pgt={components:{DataDetialsTableBody:ugt},data:()=>({setup:ct}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(It,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...w(It,{item:"item"})}},fgt={class:"card"},mgt={class:"card-header d-flex justify-content-between"},hgt={class:"text-capitalize"},ggt={class:"card-body card_body_fixed_height"},vgt={class:"row"},ygt={class:"col-lg-8"},$gt={class:"table quick_modal_table table-bordered"},bgt={class:"card-footer"},wgt=s("i",{class:"fa fa-angle-left"},null,-1),kgt=s("i",{class:"fa fa-angle-right"},null,-1);function xgt(t,e,a,o,l,n){const i=y("router-link"),d=y("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=g((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",fgt,[s("div",mgt,[s("h5",hgt,p(t.setup.details_page_title),1),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",ggt,[s("div",vgt,[s("div",ygt,[s("table",$gt,[s("tbody",null,[x(d,{item:t.item},null,8,["item"])])])])])]),s("div",bgt,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(r=>n.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[wgt,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):j("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(r=>n.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),kgt])):j("",!0)])])],32)])}const Cgt=k(pgt,[["render",xgt]]),Sgt={};function Dgt(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const Agt=k(Sgt,[["render",Dgt]]);let Re=ct.route_prefix,Tgt=ct.route_path;const Egt={path:Tgt,component:Agt,children:[{path:"all",name:"All"+Re,component:Qht},{path:"create",name:"Create"+Re,component:Wo},{path:"details/:id",name:"Details"+Re,component:Cgt},{path:"edit/:id",name:"Edit"+Re,component:Wo}]},_e="Product",_t={prefix:_e,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"products",module_name:"product",store_prefix:"product",route_prefix:"Product",route_path:"product",select_fields:["id","title","description","image","suppliyer_id","product_category_id","product_sub_category_id","status","slug","created_at","deleted_at"],sort_by_cols:["id","title","description","suppliyer_id","product_category_id","product_sub_category_id","status","created_at"],table_header_data:["id","title","suppliyer","product category","product sub category","stock quantity","status","created_at","image"],table_row_data:["id","title","suppliyer","product_category","product_sub_category","total_stock_quantity","status","created_at","image"],layout_title:_e+" Management",page_title:`${_e} Management`,all_page_title:"All "+_e,details_page_title:"Details "+_e,create_page_title:"Create "+_e,edit_page_title:"Edit "+_e},jgt={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:_t.select_fields,sort_by_cols:_t.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",product_category_id:"",product_sub_category_id:"",suppliyer_id:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function Jo(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function Ko(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return Jo({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw Jo({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function Rgt(t){return t/1024}async function Yo(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),Ko(t,r,i)):a=await Ko(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:Rgt(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:Ogt,api_version:Igt,api_end_point:Fgt}=_t;let Pgt=async()=>{let t=w(Ft,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${Ogt}/${Igt}/${Fgt}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await Yo(o,n)):a=await Yo(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function Bgt(t){let e=t.target,a=new FormData(e),o=`${_t.api_host}/${_t.api_version}/${_t.api_end_point}/store`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function qgt(t){let e=w(Ft,["item"]),a=`${_t.api_host}/${_t.api_version}/${_t.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function Lgt(t){let e=q(Ft,["item"]),a=t.target,o=new FormData(a);o.append("id",e.item().id);let l=`${_t.api_host}/${_t.api_version}/${_t.api_end_point}/update/${e.item().slug}`;try{return await A.post(l,o)}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function Ugt(){let t=q(Ft,["item"]),e=`${_t.api_host}/${_t.api_version}/${_t.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Ngt(){let t=q(Ft,["item"]),e=`${_t.api_host}/${_t.api_version}/${_t.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function Vgt(){let t=q(Ft,["item"]),e=`${_t.api_host}/${_t.api_version}/${_t.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Hgt(){let t=q(Ft,["item"]),e=`${_t.api_host}/${_t.api_version}/${_t.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function zgt(t,e){let a=`${_t.api_host}/${_t.api_version}/${_t.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function Mgt(t){let e=t.target,a=new FormData(e),o=`${_t.api_host}/${_t.api_version}/${_t.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Wgt(t={}){console.log(t);let e=Ft();e.filter_criteria={...e.filter_criteria,...t}}async function Jgt(t={}){w(Ft,["item"]).item.set(t)}async function Kgt(t=!0){w(Ft,["only_latest_data"]).only_latest_data.set(t)}async function Ygt(t=1){w(Ft,["page"]).page.set(t)}async function Ggt(t=10){w(Ft,["paginate"]).paginate.set(t)}async function Qgt(t=!0){w(Ft,["show_details_canvas"]).show_details_canvas.set(t)}async function Xgt(t=!0){w(Ft,["show_filter_canvas"]).show_filter_canvas.set(t)}async function Zgt(t="active"){w(Ft,["status"]).status.set(t)}async function tvt(){w(Ft,["selected"]).selected.set([])}const Ft=Vt(_t.store_prefix,{state:()=>jgt,getters:{},actions:{get_all:Pgt,create:Bgt,update:Lgt,details:qgt,update_status:Ngt,soft_delete:Ugt,restore:Vgt,destroy:Hgt,bulk_action:zgt,import_data:Mgt,set_page:Ygt,set_paginate:Ggt,set_show_details_canvas:Qgt,set_item:Jgt,set_show_filter_canvas:Xgt,set_filter_criteria:Wgt,set_status:Zgt,set_only_latest_data:Kgt,clear_selected:tvt}});var evt=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),svt=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var avt=function(t){svt(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(evt);const ta=avt;let ovt=_t.store_prefix;async function nvt(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${_t.api_host}/${_t.api_version}/${_t.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=lvt(d.data.data.data[0],o);l=new ta(`${ovt}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>ivt(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function lvt(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function ivt(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let rvt=_t.store_prefix;function dvt(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new ta(`${rvt}_list.csv`).setColumns(a).addRows(o).exportFile(),w(Ft,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let cvt=_t.store_prefix;function _vt(){const t=_t.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new ta(`${cvt}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var uvt="Expected a function",Go=0/0,pvt="[object Symbol]",fvt=/^\s+|\s+$/g,mvt=/^[-+]0x[0-9a-f]+$/i,hvt=/^0b[01]+$/i,gvt=/^0o[0-7]+$/i,vvt=parseInt,yvt=typeof global=="object"&&global&&global.Object===Object&&global,$vt=typeof self=="object"&&self&&self.Object===Object&&self,bvt=yvt||$vt||Function("return this")(),wvt=Object.prototype,kvt=wvt.toString,xvt=Math.max,Cvt=Math.min,ts=function(){return bvt.Date.now()};function Svt(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(uvt);e=Qo(e)||0,$s(a)&&(v=!!a.leading,b="maxWait"in a,n=b?xvt(Qo(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?Cvt(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=ts();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(ts())}function D(){var h=ts(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function $s(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Dvt(t){return!!t&&typeof t=="object"}function Avt(t){return typeof t=="symbol"||Dvt(t)&&kvt.call(t)==pvt}function Qo(t){if(typeof t=="number")return t;if(Avt(t))return Go;if($s(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=$s(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(fvt,"");var a=hvt.test(t);return a||gvt.test(t)?vvt(t.slice(2),a?2:8):mvt.test(t)?Go:+t}function Tvt(t){console.log(t.target.checked);const e=w(Ft,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const Evt={methods:{set_all_item_selectd:Tvt}};function jvt(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const ea=k(Evt,[["render",jvt]]);const Rvt={data:()=>({setup:_t}),components:{SelectAll:ea}},Ovt=t=>(ht("data-v-f7e86ada"),t=t(),gt(),t),Ivt=Ovt(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),Fvt={class:"w-10 text-center"};function Pvt(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[Ivt,s("th",Fvt,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const Bvt=k(Rvt,[["render",Pvt],["__scopeId","data-v-f7e86ada"]]);function qvt(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const Lvt={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:_t})},Uvt=s("i",{class:"fa fa-eye text-secondary"},null,-1);function Nvt(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[Uvt,f(" Show ")]),_:1},8,["to"])}const Vvt=k(Lvt,[["render",Nvt]]),Hvt={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:_t})},zvt=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function Mvt(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[zvt,f(" Edit ")]),_:1},8,["to"])}const Wvt=k(Hvt,[["render",Mvt]]),Jvt={props:{item:{slug:""}},methods:{...H(Ft,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},Kvt=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),Yvt=s("i",{class:"fa fa-eye text-warning"},null,-1);function Gvt(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[Kvt,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[Yvt,f(" Active ")])):j("",!0)],64)}const Qvt=k(Jvt,[["render",Gvt]]),Xvt={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(Ft,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},Zvt=s("i",{class:"fa fa-ban text-warning"},null,-1),tyt=s("i",{class:"fa fa-ban text-warning"},null,-1);function eyt(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[Zvt,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[tyt,f(" Restore data ")])):j("",!0)],64)}const syt=k(Xvt,[["render",eyt]]),ayt={props:{item:{slug:""}},methods:{...H(Ft,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},oyt=s("i",{class:"fa fa-trash text-danger"},null,-1);function nyt(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[oyt,f(" Destroy ")])}const lyt=k(ayt,[["render",nyt]]),iyt={props:{item:{type:Object,default:{}}},components:{DetailsBtn:Vvt,Edit:Wvt,StatusButton:Qvt,Destroy:lyt,DeleteRestore:syt},methods:{active_row:qvt}},ryt={class:"table_action_btns"};function dyt(t,e,a,o,l,n){const i=y("details-btn"),d=y("edit"),r=y("status-button"),m=y("delete-restore"),v=y("destroy");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(b=>n.active_row(b),["prevent"])),class:"icon"}),s("div",ryt,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const sl=k(iyt,[["render",dyt]]);function cyt(t,e){const a=w(Ft,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const _yt={props:["data"],created:function(){},methods:{set_item_selectd:cyt},computed:{...q(Ft,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},uyt=["checked"];function pyt(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,uyt)}const al=k(_yt,[["render",pyt]]);const fyt={props:["data"],data:()=>({setup:_t}),components:{SelectAll:ea,TableRowAction:sl,SelectSingle:al},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>20?t.substring(0,20)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title.length>50?t.title.substring(0,50)+"...":t.title;if(a==="name"&&t.name)return t.name.substring(0,20)+"..."}return t}}},myt={key:0},hyt={key:1,class:"text-wrap max-w-120"},gyt=["src"];function vyt(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,(r,m)=>(c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),(c(!0),u(C,null,F(t.setup.table_row_data,(v,b)=>(c(),u(C,{key:b},[v=="id"?(c(),u("td",myt,p(m+1),1)):(c(),u("td",hyt,[v=="image"&&r[v]?(c(),u("img",{key:0,width:"70",src:r[v],alt:""},null,8,gyt)):(c(),u(C,{key:1},[f(p(n.trim_content(r[v],v)),1)],64))]))],64))),128))],2))),128)}const yyt=k(fyt,[["render",vyt],["__scopeId","data-v-8372341d"]]),$yt={components:{TableHead:Bvt,TableBody:yyt},data:()=>({setup:_t,is_trashed_data:!1,import_csv_modal_show:!1,product_categories:[],suppliyers:[],product_sub_categories:[],loaded:!1}),created:async function(){await this.get_all(),await this.get_all_categories(),await this.get_all_suppliers(),this.loaded=!0},methods:{export_all_csv:nvt,export_selected_csv:dvt,export_demo_csv:_vt,...H(Ft,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:Svt(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500),get_all_categories:async function(){var e,a;let t=await axios.get("product-categories");t.data.status=="success"&&(this.product_categories=((a=(e=t.data)==null?void 0:e.data)==null?void 0:a.data)||[])},get_sub_category:async function(t){var a,o;let e=await axios.get(`get-all-sub-category-by-category-id/${t}?get_all=true`);e.data.status=="success"&&(this.product_sub_categories=((o=(a=e.data)==null?void 0:a.data)==null?void 0:o.data)||[])},get_all_suppliers:async function(t){var a;let e=await axios.get("suppliyers?get_all=1");e.data.status=="success"&&(this.suppliyers=((a=e.data)==null?void 0:a.data)||[])}},computed:{...w(Ft,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","product_category_id","product_sub_category_id","suppliyer_id","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0},product_category_id:{handler:function(t){let e={product_category_id:t};this.set_filter_criteria(e)},deep:!0},product_sub_category_id:{handler:function(t){let e={product_sub_category_id:t};this.set_filter_criteria(e)},deep:!0},suppliyer_id:{handler:function(t){let e={suppliyer_id:t};this.set_filter_criteria(e)},deep:!0}}},byt={class:"row"},wyt={class:"col-sm-12"},kyt={class:"card"},xyt={class:"card-header"},Cyt={class:"row align-items-center"},Syt={class:"col-12 col-md-3 mb-2 mb-md-0"},Dyt={class:"text-capitalize mb-0"},Ayt={class:"col-12 col-md-6 mb-2 mb-md-0"},Tyt={class:"col-12 col-md-3 text-md-right text-sm-left"},Eyt=s("i",{class:"fa fa-gear mx-2"},null,-1),jyt={class:"card-body"},Ryt={class:"table-responsive table_responsive card_body_fixed_height"},Oyt={class:"table table-hover text-center table-bordered"},Iyt={key:0},Fyt={class:"mx-3"},Pyt={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},Byt={class:"pagination my-2",style:{"font-size":"11px"}},qyt=["onClick","href","innerHTML"],Lyt={class:"d-flex",style:{gap:"5px"}},Uyt=s("span",null,null,-1),Nyt=s("span",null,"-",-1),Vyt=s("span",null,"of",-1),Hyt={class:"d-flex",style:{gap:"5px"}},zyt=s("span",null,null,-1),Myt=s("span",null," Limit ",-1),Wyt=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),Jyt=[Wyt],Kyt={class:"card-footer py-2"},Yyt={class:"d-flex flex-wrap align-items-center"},Gyt={class:"mr-2 mb-2"},Qyt=s("i",{class:"fa fa-edit mr-2"},null,-1),Xyt={class:"mr-2 mb-2"},Zyt=s("i",{class:"fa fa-print mr-2"},null,-1),t$t={key:0,class:"mr-2 mb-2"},e$t=s("i",{class:"fa fa-sign-out mr-2"},null,-1),s$t={class:"mr-2 mb-2"},a$t=s("i",{class:"fa fa-download mr-2"},null,-1),o$t={class:"mr-2 mb-2"},n$t=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),l$t={class:"mr-2 mb-2"},i$t=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),r$t={class:"mr-2 mb-2"},d$t=s("i",{class:"fa fa-trash mr-2"},null,-1),c$t={key:1,class:"mr-2 mb-2"},_$t=K('<option disabled selected>Select action</option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete">Soft Delete</option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),u$t=[_$t],p$t=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),f$t={class:"off_canvas_body"},m$t={class:"header"},h$t=s("h3",{class:"heading_text"},"Filter",-1),g$t=s("span",{class:"fa fa-close border p-2"},null,-1),v$t=[g$t],y$t={class:"data_content"},$$t={class:"filter_item"},b$t=s("label",{for:"start_date"},"Start Date",-1),w$t={for:"start_date",class:"text-capitalize d-block date_custom_control"},k$t={class:"filter_item"},x$t=s("label",{for:"end_date"},"End Date",-1),C$t={for:"end_date",class:"text-capitalize d-block date_custom_control"},S$t={class:"filter_item"},D$t=s("label",{for:"product_category_id"}," Category",-1),A$t={for:"product_category_id",class:"text-capitalize d-block date_custom_control"},T$t=s("option",{value:""},"Select category",-1),E$t=["value"],j$t={class:"filter_item"},R$t=s("label",{for:"product_sub_category_id"}," Sub Category",-1),O$t={for:"product_sub_category_id",class:"text-capitalize d-block date_custom_control"},I$t=s("option",{value:""},"Select sub category",-1),F$t=["value"],P$t={class:"filter_item"},B$t=s("label",{for:"product_sub_category_id"}," Suppliyer",-1),q$t={for:"product_sub_category_id",class:"text-capitalize d-block date_custom_control"},L$t=s("option",{value:""},"Select Suppliyer",-1),U$t=["value"],N$t={class:"filter_item"},V$t=s("label",{for:"sort_by_col"},"Sort By Col",-1),H$t={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},z$t={class:"filter_item"},M$t=s("label",{for:"sort_by_col"},"Sort Type",-1),W$t={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},J$t={class:"filter_item"},K$t=s("div",{class:"off_canvas_overlay"},null,-1),Y$t={class:"modal-dialog modal-dialog-centered"},G$t={class:"modal-content border-primary"},Q$t={class:"modal-header bg-primary"},X$t={class:"modal-title text-white"},Z$t=s("span",{"aria-hidden":"true"},"×",-1),tbt=[Z$t],ebt={class:"modal-body"},sbt=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),abt=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),obt={class:"modal-footer"},nbt=s("i",{class:"fa fa-times"},null,-1),lbt=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function ibt(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",byt,[s("div",wyt,[s("div",kyt,[s("div",xyt,[s("div",Cyt,[s("div",Syt,[s("h5",Dyt,p(t.setup.all_page_title),1)]),s("div",Ayt,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",Tyt,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[Eyt,f("Filter ")])])])]),s("div",jyt,[s("div",Ryt,[s("table",Oyt,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",Iyt,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",Fyt,[s("nav",Pyt,[s("ul",Byt,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,qyt)],2)}),128))]),s("div",Lyt,[Uyt,s("span",null,p((S=t.all)==null?void 0:S.from),1),Nyt,s("span",null,p((z=t.all)==null?void 0:z.to),1),Vyt,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",Hyt,[zyt,Myt,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},Jyt,544),[[J,t.paginate]])])])]),s("div",Kyt,[s("div",Yyt,[s("div",Gyt,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[Qyt,f(" Create ")]),_:1},8,["to"])]),s("div",Xyt,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[Zyt,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",t$t,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[e$t,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",s$t,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[a$t,f(" Import ")])]),s("div",o$t,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[n$t,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",l$t,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[i$t,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",r$t,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[d$t,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",c$t,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},u$t,32)])):j("",!0)])])])])]),p$t,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",f$t,[s("div",m$t,[h$t,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},v$t)]),s("div",y$t,[s("div",$$t,[b$t,s("label",w$t,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",k$t,[x$t,s("label",C$t,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",S$t,[D$t,s("label",A$t,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.product_category_id=_),type:"date",id:"product_category_id",name:"product_category_id",class:"form-control",onChange:e[15]||(e[15]=_=>n.get_sub_category(t.product_category_id))},[T$t,(c(!0),u(C,null,F(t.product_categories,_=>(c(),u("option",{key:_,value:_.id},p(_.title),9,E$t))),128))],544),[[J,t.product_category_id]])])]),s("div",j$t,[R$t,s("label",O$t,[P(s("select",{"onUpdate:modelValue":e[16]||(e[16]=_=>t.product_sub_category_id=_),type:"date",id:"product_sub_category_id",name:"product_sub_category_id",class:"form-control"},[I$t,(c(!0),u(C,null,F(t.product_sub_categories,_=>(c(),u("option",{value:_.id,key:_},p(_.title),9,F$t))),128))],512),[[J,t.product_sub_category_id]])])]),s("div",P$t,[B$t,s("label",q$t,[P(s("select",{"onUpdate:modelValue":e[17]||(e[17]=_=>t.suppliyer_id=_),id:"suppliyer_id",name:"suppliyer_id",class:"form-control"},[L$t,(c(!0),u(C,null,F(t.suppliyers,_=>(c(),u("option",{value:_.id,key:_},p(_.name.substr(0,20)),9,U$t))),128))],512),[[J,t.suppliyer_id]])])]),s("div",N$t,[V$t,s("label",H$t,[P(s("select",{"onUpdate:modelValue":e[18]||(e[18]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",z$t,[M$t,s("label",W$t,[P(s("select",{"onUpdate:modelValue":e[19]||(e[19]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",J$t,[s("button",{onClick:e[20]||(e[20]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),K$t],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",Y$t,[s("form",{onSubmit:e[24]||(e[24]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",G$t,[s("div",Q$t,[s("h5",X$t,"Import "+p(t.setup.prefix),1),s("button",{onClick:e[21]||(e[21]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},tbt)]),s("div",ebt,[sbt,abt,s("a",{href:"",onClick:e[22]||(e[22]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",obt,[s("button",{onClick:e[23]||(e[23]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[nbt,f(" Close ")]),lbt])])],32)])],2)])}const rbt=k($yt,[["render",ibt]]),dbt=[{name:"title",label:"Enter your title",type:"text",value:""},{name:"suppliyer_id",label:"Select suppliyer",type:"select",value:""},{name:"product_category_id",label:"Select product category id",type:"select",value:"",onchangeAction:"get_product_sub_category_by_category_id"},{name:"product_sub_category_id",label:"Enter your product sub category id",type:"select",value:""},{name:"image",label:"Upload image",type:"file",value:""},{name:"description",label:"Enter your description",type:"textarea",value:"",row_col_class:"col-md-12"}],cbt={data:()=>({setup:_t,form_fields:dbt,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t),this.get_all_suppliyers(),this.get_all_categories()},methods:{...H(Ft,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(o=>{e.name==o[0]&&(this.form_fields[a].value=o[1]),e.name=="description"&&o[0]=="description"&&$("#description").summernote("code",o[1]),e.name=="product_category_id"&&o[0]=="product_category_id"&&(console.log(o[1]),this.get_sub_category(o[1]))})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){this.setSummerEditor();let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{this.setSummerEditor();let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}},get_all_suppliyers:async function(){var e;let t=await axios.get("suppliyers?get_all=1");if(t.data.status=="success"){const a=((e=t.data)==null?void 0:e.data)||[];this.form_fields[1].data_list=a.map(o=>({label:o.name,value:o.id}))}},get_all_categories:async function(){var e;let t=await axios.get("product-categories?get_all=1");if(t.data.status=="success"){const a=((e=t.data)==null?void 0:e.data)||[];this.form_fields[2].data_list=a.map(o=>({label:o.title,value:o.id}))}},changeAction:function(t,e,a){this[t](t,e,a)},get_product_sub_category_by_category_id:async function(t,e,a){let o=e.target.value;this.get_sub_category(o)},get_sub_category:async function(t){var a;let e=await axios.get(`get-all-sub-category-by-category-id/${t}?get_all=1`);if(e.data.status=="success"){const o=((a=e.data)==null?void 0:a.data)||[];this.form_fields[3].data_list=o.map(l=>({label:l.title,value:l.id}))}},setSummerEditor(){var t=$("#description").summernote("code"),e=document.createElement("input");e.setAttribute("name","description"),e.value=t,document.getElementById("description").appendChild(e)}},computed:{...q(Ft,{item:"item"})}},_bt={class:"card"},ubt={class:"card-header d-flex justify-content-between"},pbt={class:"text-capitalize"},fbt={class:"card-body card_body_fixed_height"},mbt={class:"row"},hbt=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function gbt(t,e,a,o,l,n){const i=y("router-link"),d=y("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=g((...r)=>n.submitHandler&&n.submitHandler(...r),["prevent"]))},[s("div",_bt,[s("div",ubt,[s("h5",pbt,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),W(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):j("",!0),x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",fbt,[s("div",mbt,[(c(!0),u(C,null,F(t.form_fields,(r,m)=>(c(),W(d,{key:m,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class,onchange:n.changeAction,onchangeAction:r.onchangeAction},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class","onchange","onchangeAction"]))),128))])]),hbt])],32)])}const Xo=k(cbt,[["render",gbt]]);const vbt={props:["item"],data:()=>({setup:_t}),components:{SelectAll:ea,TableRowAction:sl,SelectSingle:al},methods:{trim_content(t,e=null){if(typeof t=="string")return e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t;if(t&&typeof t=="object")for(const a of Object.keys(t)){if(a==="title"&&t.title)return t.title.length>50?t.title.substring(0,50)+"...":t.title;if(a==="name"&&t.name)return t.name.substring(0,20)+"..."}return t}}},ybt=t=>(ht("data-v-6d492dd8"),t=t(),gt(),t),$bt=ybt(()=>s("th",{class:"text-center"},":",-1)),bbt={class:"text-trim"},wbt=["src"];function kbt(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),$bt,s("th",bbt,[i=="image"&&a.item[i]?(c(),u("img",{key:0,class:"max-w-120",src:a.item[i],alt:""},null,8,wbt)):(c(),u(C,{key:1},[f(p(n.trim_content(a.item[i],i)),1)],64))])]))),128)}const xbt=k(vbt,[["render",kbt],["__scopeId","data-v-6d492dd8"]]),Cbt={components:{DataDetialsTableBody:xbt},data:()=>({setup:_t}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(Ft,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...w(Ft,{item:"item"})}},Sbt={class:"card"},Dbt={class:"card-header d-flex justify-content-between"},Abt={class:"text-capitalize"},Tbt={class:"card-body card_body_fixed_height"},Ebt={class:"row"},jbt={class:"col-lg-8"},Rbt={class:"table quick_modal_table table-bordered"},Obt={class:"card-footer"},Ibt=s("i",{class:"fa fa-angle-left"},null,-1),Fbt=s("i",{class:"fa fa-angle-right"},null,-1);function Pbt(t,e,a,o,l,n){const i=y("router-link"),d=y("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=g((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",Sbt,[s("div",Dbt,[s("h5",Abt,p(t.setup.details_page_title),1),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",Tbt,[s("div",Ebt,[s("div",jbt,[s("table",Rbt,[s("tbody",null,[x(d,{item:t.item},null,8,["item"])])])])])]),s("div",Obt,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(r=>n.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[Ibt,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):j("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(r=>n.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),Fbt])):j("",!0)])])],32)])}const Bbt=k(Cbt,[["render",Pbt]]),qbt={};function Lbt(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const Ubt=k(qbt,[["render",Lbt]]);let Oe=_t.route_prefix,Nbt=_t.route_path;const Vbt={path:Nbt,component:Ubt,children:[{path:"all",name:"All"+Oe,component:rbt},{path:"create",name:"Create"+Oe,component:Xo},{path:"details/:id",name:"Details"+Oe,component:Bbt},{path:"edit/:id",name:"Edit"+Oe,component:Xo}]},ue="ProductSubCategory",ut={prefix:ue,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"product-sub-categories",module_name:"product-sub-category",store_prefix:"product_sub_category",route_prefix:"ProductSubCategory",route_path:"product-sub-category",select_fields:["id","product_category_id","title","status","slug","created_at","deleted_at"],sort_by_cols:["id","product_category_id","title","status","created_at"],table_header_data:["id","product category","title","status","created_at"],table_row_data:["id","category","title","status","created_at"],layout_title:ue+" Management",page_title:`${ue} Management`,all_page_title:"All "+ue,details_page_title:"Details "+ue,create_page_title:"Create "+ue,edit_page_title:"Edit "+ue},Hbt={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:ut.select_fields,sort_by_cols:ut.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function Zo(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function tn(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return Zo({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw Zo({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function zbt(t){return t/1024}async function en(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),tn(t,r,i)):a=await tn(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:zbt(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:Mbt,api_version:Wbt,api_end_point:Jbt}=ut;let Kbt=async()=>{let t=w(Pt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${Mbt}/${Wbt}/${Jbt}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await en(o,n)):a=await en(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function Ybt(t){let e=t.target,a=new FormData(e),o=`${ut.api_host}/${ut.api_version}/${ut.api_end_point}/store`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Gbt(t){let e=w(Pt,["item"]),a=`${ut.api_host}/${ut.api_version}/${ut.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function Qbt(t){let e=q(Pt,["item"]),a=t.target,o=new FormData(a);o.append("id",e.item().id);let l=`${ut.api_host}/${ut.api_version}/${ut.api_end_point}/update/${e.item().slug}`;try{return await A.post(l,o)}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function Xbt(){let t=q(Pt,["item"]),e=`${ut.api_host}/${ut.api_version}/${ut.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Zbt(){let t=q(Pt,["item"]),e=`${ut.api_host}/${ut.api_version}/${ut.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function twt(){let t=q(Pt,["item"]),e=`${ut.api_host}/${ut.api_version}/${ut.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function ewt(){let t=q(Pt,["item"]),e=`${ut.api_host}/${ut.api_version}/${ut.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function swt(t,e){let a=`${ut.api_host}/${ut.api_version}/${ut.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function awt(t){let e=t.target,a=new FormData(e),o=`${ut.api_host}/${ut.api_version}/${ut.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function owt(t={}){let e=Pt();e.filter_criteria={...e.filter_criteria,...t}}async function nwt(t={}){w(Pt,["item"]).item.set(t)}async function lwt(t=!0){w(Pt,["only_latest_data"]).only_latest_data.set(t)}async function iwt(t=1){w(Pt,["page"]).page.set(t)}async function rwt(t=10){w(Pt,["paginate"]).paginate.set(t)}async function dwt(t=!0){w(Pt,["show_details_canvas"]).show_details_canvas.set(t)}async function cwt(t=!0){w(Pt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function _wt(t="active"){w(Pt,["status"]).status.set(t)}async function uwt(){w(Pt,["selected"]).selected.set([])}const Pt=Vt(ut.store_prefix,{state:()=>Hbt,getters:{},actions:{get_all:Kbt,create:Ybt,update:Qbt,details:Gbt,update_status:Zbt,soft_delete:Xbt,restore:twt,destroy:ewt,bulk_action:swt,import_data:awt,set_page:iwt,set_paginate:rwt,set_show_details_canvas:dwt,set_item:nwt,set_show_filter_canvas:cwt,set_filter_criteria:owt,set_status:_wt,set_only_latest_data:lwt,clear_selected:uwt}});var pwt=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),fwt=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var mwt=function(t){fwt(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(pwt);const sa=mwt;let hwt=ut.store_prefix;async function gwt(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${ut.api_host}/${ut.api_version}/${ut.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=vwt(d.data.data.data[0],o);l=new sa(`${hwt}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>ywt(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function vwt(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function ywt(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let $wt=ut.store_prefix;function bwt(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new sa(`${$wt}_list.csv`).setColumns(a).addRows(o).exportFile(),w(Pt,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let wwt=ut.store_prefix;function kwt(){const t=ut.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new sa(`${wwt}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var xwt="Expected a function",sn=0/0,Cwt="[object Symbol]",Swt=/^\s+|\s+$/g,Dwt=/^[-+]0x[0-9a-f]+$/i,Awt=/^0b[01]+$/i,Twt=/^0o[0-7]+$/i,Ewt=parseInt,jwt=typeof global=="object"&&global&&global.Object===Object&&global,Rwt=typeof self=="object"&&self&&self.Object===Object&&self,Owt=jwt||Rwt||Function("return this")(),Iwt=Object.prototype,Fwt=Iwt.toString,Pwt=Math.max,Bwt=Math.min,es=function(){return Owt.Date.now()};function qwt(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(xwt);e=an(e)||0,bs(a)&&(v=!!a.leading,b="maxWait"in a,n=b?Pwt(an(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?Bwt(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=es();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(es())}function D(){var h=es(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function bs(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Lwt(t){return!!t&&typeof t=="object"}function Uwt(t){return typeof t=="symbol"||Lwt(t)&&Fwt.call(t)==Cwt}function an(t){if(typeof t=="number")return t;if(Uwt(t))return sn;if(bs(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=bs(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Swt,"");var a=Awt.test(t);return a||Twt.test(t)?Ewt(t.slice(2),a?2:8):Dwt.test(t)?sn:+t}function Nwt(t){console.log(t.target.checked);const e=w(Pt,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const Vwt={methods:{set_all_item_selectd:Nwt}};function Hwt(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const aa=k(Vwt,[["render",Hwt]]);const zwt={data:()=>({setup:ut}),components:{SelectAll:aa}},Mwt=t=>(ht("data-v-02b11f3f"),t=t(),gt(),t),Wwt=Mwt(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),Jwt={class:"w-10 text-center"};function Kwt(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[Wwt,s("th",Jwt,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const Ywt=k(zwt,[["render",Kwt],["__scopeId","data-v-02b11f3f"]]);function Gwt(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const Qwt={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:ut})},Xwt=s("i",{class:"fa fa-eye text-secondary"},null,-1);function Zwt(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[Xwt,f(" Show ")]),_:1},8,["to"])}const t1t=k(Qwt,[["render",Zwt]]),e1t={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:ut})},s1t=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function a1t(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[s1t,f(" Edit ")]),_:1},8,["to"])}const o1t=k(e1t,[["render",a1t]]),n1t={props:{item:{slug:""}},methods:{...H(Pt,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},l1t=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),i1t=s("i",{class:"fa fa-eye text-warning"},null,-1);function r1t(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[l1t,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[i1t,f(" Active ")])):j("",!0)],64)}const d1t=k(n1t,[["render",r1t]]),c1t={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(Pt,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},_1t=s("i",{class:"fa fa-ban text-warning"},null,-1),u1t=s("i",{class:"fa fa-ban text-warning"},null,-1);function p1t(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[_1t,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[u1t,f(" Restore data ")])):j("",!0)],64)}const f1t=k(c1t,[["render",p1t]]),m1t={props:{item:{slug:""}},methods:{...H(Pt,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},h1t=s("i",{class:"fa fa-trash text-danger"},null,-1);function g1t(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[h1t,f(" Destroy ")])}const v1t=k(m1t,[["render",g1t]]),y1t={props:{item:{type:Object,default:{}}},components:{DetailsBtn:t1t,Edit:o1t,StatusButton:d1t,Destroy:v1t,DeleteRestore:f1t},methods:{active_row:Gwt}},$1t={class:"table_action_btns"};function b1t(t,e,a,o,l,n){const i=y("details-btn"),d=y("edit"),r=y("status-button"),m=y("delete-restore"),v=y("destroy");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(b=>n.active_row(b),["prevent"])),class:"icon"}),s("div",$1t,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const ol=k(y1t,[["render",b1t]]);function w1t(t,e){const a=w(Pt,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const k1t={props:["data"],created:function(){},methods:{set_item_selectd:w1t},computed:{...q(Pt,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},x1t=["checked"];function C1t(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,x1t)}const nl=k(k1t,[["render",C1t]]);const S1t={props:["data"],data:()=>({setup:ut}),components:{SelectAll:aa,TableRowAction:ol,SelectSingle:nl},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t:typeof t=="object"?t!=null&&t.title?t==null?void 0:t.title:t==null?void 0:t.name:t}}},D1t={key:0},A1t={key:1,class:"text-wrap max-w-120"};function T1t(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,(r,m)=>(c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),(c(!0),u(C,null,F(t.setup.table_row_data,(v,b)=>(c(),u(C,{key:b},[v=="id"?(c(),u("td",D1t,p(m+1),1)):(c(),u("td",A1t,p(n.trim_content(r[v],v)),1))],64))),128))],2))),128)}const E1t=k(S1t,[["render",T1t],["__scopeId","data-v-23c403de"]]),j1t={components:{TableHead:Ywt,TableBody:E1t},data:()=>({setup:ut,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:gwt,export_selected_csv:bwt,export_demo_csv:kwt,...H(Pt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:qwt(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w(Pt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},R1t={class:"row"},O1t={class:"col-sm-12"},I1t={class:"card"},F1t={class:"card-header"},P1t={class:"row align-items-center"},B1t={class:"col-12 col-md-3 mb-2 mb-md-0"},q1t={class:"text-capitalize mb-0"},L1t={class:"col-12 col-md-6 mb-2 mb-md-0"},U1t={class:"col-12 col-md-3 text-md-right text-sm-left"},N1t=s("i",{class:"fa fa-gear mx-2"},null,-1),V1t={class:"card-body"},H1t={class:"table-responsive table_responsive card_body_fixed_height"},z1t={class:"table table-hover text-center table-bordered"},M1t={key:0},W1t={class:"mx-3"},J1t={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},K1t={class:"pagination my-2",style:{"font-size":"11px"}},Y1t=["onClick","href","innerHTML"],G1t={class:"d-flex",style:{gap:"5px"}},Q1t=s("span",null,null,-1),X1t=s("span",null,"-",-1),Z1t=s("span",null,"of",-1),t2t={class:"d-flex",style:{gap:"5px"}},e2t=s("span",null,null,-1),s2t=s("span",null," Limit ",-1),a2t=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),o2t=[a2t],n2t={class:"card-footer py-2"},l2t={class:"d-flex flex-wrap align-items-center"},i2t={class:"mr-2 mb-2"},r2t=s("i",{class:"fa fa-edit mr-2"},null,-1),d2t={class:"mr-2 mb-2"},c2t=s("i",{class:"fa fa-print mr-2"},null,-1),_2t={key:0,class:"mr-2 mb-2"},u2t=s("i",{class:"fa fa-sign-out mr-2"},null,-1),p2t={class:"mr-2 mb-2"},f2t=s("i",{class:"fa fa-download mr-2"},null,-1),m2t={class:"mr-2 mb-2"},h2t=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),g2t={class:"mr-2 mb-2"},v2t=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),y2t={class:"mr-2 mb-2"},$2t=s("i",{class:"fa fa-trash mr-2"},null,-1),b2t={key:1,class:"mr-2 mb-2"},w2t=K('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),k2t=[w2t],x2t=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),C2t={class:"off_canvas_body"},S2t={class:"header"},D2t=s("h3",{class:"heading_text"},"Filter",-1),A2t=s("span",{class:"fa fa-close border p-2"},null,-1),T2t=[A2t],E2t={class:"data_content"},j2t={class:"filter_item"},R2t=s("label",{for:"start_date"},"Start Date",-1),O2t={for:"start_date",class:"text-capitalize d-block date_custom_control"},I2t={class:"filter_item"},F2t=s("label",{for:"end_date"},"End Date",-1),P2t={for:"end_date",class:"text-capitalize d-block date_custom_control"},B2t={class:"filter_item"},q2t=s("label",{for:"sort_by_col"},"Sort By Col",-1),L2t={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},U2t={class:"filter_item"},N2t=s("label",{for:"sort_by_col"},"Sort Type",-1),V2t={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},H2t={class:"filter_item"},z2t=s("div",{class:"off_canvas_overlay"},null,-1),M2t={class:"modal-dialog modal-dialog-centered"},W2t={class:"modal-content border-primary"},J2t={class:"modal-header bg-primary"},K2t={class:"modal-title text-white"},Y2t=s("span",{"aria-hidden":"true"},"×",-1),G2t=[Y2t],Q2t={class:"modal-body"},X2t=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),Z2t=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),t0t={class:"modal-footer"},e0t=s("i",{class:"fa fa-times"},null,-1),s0t=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function a0t(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",R1t,[s("div",O1t,[s("div",I1t,[s("div",F1t,[s("div",P1t,[s("div",B1t,[s("h5",q1t,p(t.setup.all_page_title),1)]),s("div",L1t,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",U1t,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[N1t,f("Filter ")])])])]),s("div",V1t,[s("div",H1t,[s("table",z1t,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",M1t,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",W1t,[s("nav",J1t,[s("ul",K1t,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,Y1t)],2)}),128))]),s("div",G1t,[Q1t,s("span",null,p((S=t.all)==null?void 0:S.from),1),X1t,s("span",null,p((z=t.all)==null?void 0:z.to),1),Z1t,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",t2t,[e2t,s2t,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},o2t,544),[[J,t.paginate]])])])]),s("div",n2t,[s("div",l2t,[s("div",i2t,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[r2t,f(" Create ")]),_:1},8,["to"])]),s("div",d2t,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[c2t,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",_2t,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[u2t,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",p2t,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[f2t,f(" Import ")])]),s("div",m2t,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[h2t,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",g2t,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[v2t,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",y2t,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[$2t,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",b2t,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},k2t,32)])):j("",!0)])])])])]),x2t,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",C2t,[s("div",S2t,[D2t,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},T2t)]),s("div",E2t,[s("div",j2t,[R2t,s("label",O2t,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",I2t,[F2t,s("label",P2t,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",B2t,[q2t,s("label",L2t,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",U2t,[N2t,s("label",V2t,[P(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",H2t,[s("button",{onClick:e[16]||(e[16]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),z2t],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",M2t,[s("form",{onSubmit:e[20]||(e[20]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",W2t,[s("div",J2t,[s("h5",K2t," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},G2t)]),s("div",Q2t,[X2t,Z2t,s("a",{href:"",onClick:e[18]||(e[18]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",t0t,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[e0t,f(" Close ")]),s0t])])],32)])],2)])}const o0t=k(j1t,[["render",a0t]]),n0t=[{name:"product_category_id",label:"Select product category",type:"select",value:"",data_list:[]},{name:"title",label:"Enter your title",type:"text",value:""}],l0t={data:()=>({setup:ut,form_fields:n0t,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t),this.get_all_product_categories()},methods:{...H(Pt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(o=>{e.name==o[0]&&(this.form_fields[a].value=o[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}},get_all_product_categories:async function(){var e;let t=await axios.get("product-categories?get_all=1");if(t.data.status=="success"){const a=((e=t.data)==null?void 0:e.data)||[];this.form_fields[0].data_list=a.map(o=>({label:o.title,value:o.id}))}}},computed:{...q(Pt,{item:"item"})}},i0t={class:"card"},r0t={class:"card-header d-flex justify-content-between"},d0t={class:"text-capitalize"},c0t={class:"card-body card_body_fixed_height"},_0t={class:"row"},u0t=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function p0t(t,e,a,o,l,n){const i=y("router-link"),d=y("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=g((...r)=>n.submitHandler&&n.submitHandler(...r),["prevent"]))},[s("div",i0t,[s("div",r0t,[s("h5",d0t,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),W(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):j("",!0),x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",c0t,[s("div",_0t,[(c(!0),u(C,null,F(t.form_fields,(r,m)=>(c(),W(d,{key:m,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),u0t])],32)])}const on=k(l0t,[["render",p0t]]);const f0t={props:["item"],data:()=>({setup:ut}),components:{SelectAll:aa,TableRowAction:ol,SelectSingle:nl},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t:typeof t=="object"?t!=null&&t.title?t==null?void 0:t.title:t==null?void 0:t.name:t}}},m0t=t=>(ht("data-v-71bb3248"),t=t(),gt(),t),h0t=m0t(()=>s("th",{class:"text-center"},":",-1)),g0t={class:"text-trim"};function v0t(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),h0t,s("th",g0t,p(n.trim_content(a.item[i],i)),1)]))),128)}const y0t=k(f0t,[["render",v0t],["__scopeId","data-v-71bb3248"]]),$0t={components:{DataDetialsTableBody:y0t},data:()=>({setup:ut}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(Pt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...w(Pt,{item:"item"})}},b0t={class:"card"},w0t={class:"card-header d-flex justify-content-between"},k0t={class:"text-capitalize"},x0t={class:"card-body card_body_fixed_height"},C0t={class:"row"},S0t={class:"col-lg-8"},D0t={class:"table quick_modal_table table-bordered"},A0t={class:"card-footer"},T0t=s("i",{class:"fa fa-angle-left"},null,-1),E0t=s("i",{class:"fa fa-angle-right"},null,-1);function j0t(t,e,a,o,l,n){const i=y("router-link"),d=y("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=g((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",b0t,[s("div",w0t,[s("h5",k0t,p(t.setup.details_page_title),1),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",x0t,[s("div",C0t,[s("div",S0t,[s("table",D0t,[s("tbody",null,[x(d,{item:t.item},null,8,["item"])])])])])]),s("div",A0t,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(r=>n.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[T0t,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):j("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(r=>n.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),E0t])):j("",!0)])])],32)])}const R0t=k($0t,[["render",j0t]]),O0t={};function I0t(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const F0t=k(O0t,[["render",I0t]]);let Ie=ut.route_prefix,P0t=ut.route_path;const B0t={path:P0t,component:F0t,children:[{path:"all",name:"All"+Ie,component:o0t},{path:"create",name:"Create"+Ie,component:on},{path:"details/:id",name:"Details"+Ie,component:R0t},{path:"edit/:id",name:"Edit"+Ie,component:on}]},pe="ProductCategory",pt={prefix:pe,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"product-categories",module_name:"product-category",store_prefix:"product_category",route_prefix:"ProductCategory",route_path:"product-category",select_fields:["id","title","status","slug","created_at","deleted_at"],sort_by_cols:["id","title","status","created_at"],table_header_data:["id","title","status","created_at"],table_row_data:["id","title","status","created_at"],layout_title:pe+" Management",page_title:`${pe} Management`,all_page_title:"All "+pe,details_page_title:"Details "+pe,create_page_title:"Create "+pe,edit_page_title:"Edit "+pe},q0t={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:pt.select_fields,sort_by_cols:pt.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function nn(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function ln(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return nn({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw nn({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function L0t(t){return t/1024}async function rn(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),ln(t,r,i)):a=await ln(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:L0t(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:U0t,api_version:N0t,api_end_point:V0t}=pt;let H0t=async()=>{let t=w(Bt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${U0t}/${N0t}/${V0t}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await rn(o,n)):a=await rn(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function z0t(t){let e=t.target,a=new FormData(e),o=`${pt.api_host}/${pt.api_version}/${pt.api_end_point}/store`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function M0t(t){let e=w(Bt,["item"]),a=`${pt.api_host}/${pt.api_version}/${pt.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function W0t(t){let e=q(Bt,["item"]),a=t.target,o=new FormData(a);o.append("id",e.item().id);let l=`${pt.api_host}/${pt.api_version}/${pt.api_end_point}/update/${e.item().slug}`;try{return await A.post(l,o)}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function J0t(){let t=q(Bt,["item"]),e=`${pt.api_host}/${pt.api_version}/${pt.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function K0t(){let t=q(Bt,["item"]),e=`${pt.api_host}/${pt.api_version}/${pt.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function Y0t(){let t=q(Bt,["item"]),e=`${pt.api_host}/${pt.api_version}/${pt.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function G0t(){let t=q(Bt,["item"]),e=`${pt.api_host}/${pt.api_version}/${pt.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function Q0t(t,e){let a=`${pt.api_host}/${pt.api_version}/${pt.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function X0t(t){let e=t.target,a=new FormData(e),o=`${pt.api_host}/${pt.api_version}/${pt.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function Z0t(t={}){let e=Bt();e.filter_criteria={...e.filter_criteria,...t}}async function tkt(t={}){w(Bt,["item"]).item.set(t)}async function ekt(t=!0){w(Bt,["only_latest_data"]).only_latest_data.set(t)}async function skt(t=1){w(Bt,["page"]).page.set(t)}async function akt(t=10){w(Bt,["paginate"]).paginate.set(t)}async function okt(t=!0){w(Bt,["show_details_canvas"]).show_details_canvas.set(t)}async function nkt(t=!0){w(Bt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function lkt(t="active"){w(Bt,["status"]).status.set(t)}async function ikt(){w(Bt,["selected"]).selected.set([])}const Bt=Vt(pt.store_prefix,{state:()=>q0t,getters:{},actions:{get_all:H0t,create:z0t,update:W0t,details:M0t,update_status:K0t,soft_delete:J0t,restore:Y0t,destroy:G0t,bulk_action:Q0t,import_data:X0t,set_page:skt,set_paginate:akt,set_show_details_canvas:okt,set_item:tkt,set_show_filter_canvas:nkt,set_filter_criteria:Z0t,set_status:lkt,set_only_latest_data:ekt,clear_selected:ikt}});var rkt=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),dkt=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var ckt=function(t){dkt(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(rkt);const oa=ckt;let _kt=pt.store_prefix;async function ukt(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${pt.api_host}/${pt.api_version}/${pt.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=pkt(d.data.data.data[0],o);l=new oa(`${_kt}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>fkt(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function pkt(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function fkt(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let mkt=pt.store_prefix;function hkt(t){const e=["deleted_at","created_at","updated_at"];let a=Object.keys(t[0]).filter(n=>!e.includes(n)),o=t.map(n=>a.map(i=>n[i]));new oa(`${mkt}_list.csv`).setColumns(a).addRows(o).exportFile(),w(Bt,["selected"]).selected.set([]),document.querySelector(".select_all_checkbox").checked=!1}let gkt=pt.store_prefix;function vkt(){const t=pt.select_fields,e=["id","created_at","slug","deleted_at","updated_at"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new oa(`${gkt}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var ykt="Expected a function",dn=0/0,$kt="[object Symbol]",bkt=/^\s+|\s+$/g,wkt=/^[-+]0x[0-9a-f]+$/i,kkt=/^0b[01]+$/i,xkt=/^0o[0-7]+$/i,Ckt=parseInt,Skt=typeof global=="object"&&global&&global.Object===Object&&global,Dkt=typeof self=="object"&&self&&self.Object===Object&&self,Akt=Skt||Dkt||Function("return this")(),Tkt=Object.prototype,Ekt=Tkt.toString,jkt=Math.max,Rkt=Math.min,ss=function(){return Akt.Date.now()};function Okt(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(ykt);e=cn(e)||0,ws(a)&&(v=!!a.leading,b="maxWait"in a,n=b?jkt(cn(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?Rkt(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=ss();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(ss())}function D(){var h=ss(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function ws(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Ikt(t){return!!t&&typeof t=="object"}function Fkt(t){return typeof t=="symbol"||Ikt(t)&&Ekt.call(t)==$kt}function cn(t){if(typeof t=="number")return t;if(Fkt(t))return dn;if(ws(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ws(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(bkt,"");var a=kkt.test(t);return a||xkt.test(t)?Ckt(t.slice(2),a?2:8):wkt.test(t)?dn:+t}function Pkt(t){console.log(t.target.checked);const e=w(Bt,["selected","all"]);if(t.target.checked){let a=e.selected.get();e.all.get().data.forEach(o=>{a=a.filter(l=>l.id!=o.id),a.push(o)}),console.log(a),e.selected.set(a)}else e.selected.set([])}const Bkt={methods:{set_all_item_selectd:Pkt}};function qkt(t,e,a,o,l,n){return c(),u("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[0]||(e[0]=i=>n.set_all_item_selectd(i)),type:"checkbox"},null,32)}const na=k(Bkt,[["render",qkt]]);const Lkt={data:()=>({setup:pt}),components:{SelectAll:na}},Ukt=t=>(ht("data-v-f0a8ae57"),t=t(),gt(),t),Nkt=Ukt(()=>s("th",{class:"w-10 text-center"},[s("span",{class:"icon"})],-1)),Vkt={class:"w-10 text-center"};function Hkt(t,e,a,o,l,n){const i=y("select-all");return c(),u("tr",null,[Nkt,s("th",Vkt,[x(i)]),(c(!0),u(C,null,F(t.setup.table_header_data,(d,r)=>(c(),u("th",{key:r,class:L(r==0?"w-10":"")},p(d),3))),128))])}const zkt=k(Lkt,[["render",Hkt],["__scopeId","data-v-f0a8ae57"]]);function Mkt(t){if(t.target){let e=t.target.parentNode;e&&e.parentNode&&(e=e.parentNode);const a=document.querySelectorAll(".table_rows");a.length&&[...a].forEach(o=>{o!==e&&o.classList.remove("active")}),e&&e.classList.toggle("active")}}const Wkt={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:pt})},Jkt=s("i",{class:"fa fa-eye text-secondary"},null,-1);function Kkt(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[Jkt,f(" Show ")]),_:1},8,["to"])}const Ykt=k(Wkt,[["render",Kkt]]),Gkt={props:{item:{type:Object,default:{slug:1}}},data:()=>({setup:pt})},Qkt=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1);function Xkt(t,e,a,o,l,n){const i=y("router-link");return c(),W(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:a.item.slug}},class:"border-secondary"},{default:U(()=>[Qkt,f(" Edit ")]),_:1},8,["to"])}const Zkt=k(Gkt,[["render",Xkt]]),txt={props:{item:{slug:""}},methods:{...H(Bt,["restore","deactive","get_all","set_only_latest_data","set_item","update_status"]),updateStatus:async function(t){var o,l;console.log(t);let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}}}},ext=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),sxt=s("i",{class:"fa fa-eye text-warning"},null,-1);function axt(t,e,a,o,l,n){return c(),u(C,null,[a.item.status=="active"?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[ext,f(" Inactive ")])):j("",!0),a.item.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(i=>n.updateStatus(a.item),["prevent"])),class:"border-warning"},[sxt,f(" Active ")])):j("",!0)],64)}const oxt=k(txt,[["render",axt]]),nxt={props:{item:{slug:""}},data:()=>({is_trashed_data:!1}),methods:{...H(Bt,["restore","destroy","get_all","set_only_latest_data","set_item","soft_delete"]),softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to soft delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}}}},lxt=s("i",{class:"fa fa-ban text-warning"},null,-1),ixt=s("i",{class:"fa fa-ban text-warning"},null,-1);function rxt(t,e,a,o,l,n){return c(),u(C,null,[a.item.deleted_at?j("",!0):(c(),u("a",{key:0,onClick:e[0]||(e[0]=g(i=>n.softDelete(a.item),["prevent"])),href:"",class:"border-danger"},[lxt,f(" Soft Delete ")])),a.item.deleted_at?(c(),u("a",{key:1,onClick:e[1]||(e[1]=g(i=>n.restore_data(a.item),["prevent"])),href:"",class:"border-danger"},[ixt,f(" Restore data ")])):j("",!0)],64)}const dxt=k(nxt,[["render",rxt]]),cxt={props:{item:{slug:""}},methods:{...H(Bt,["restore","destroy","get_all","set_only_latest_data","set_item"]),destroy_data:async function(){if(await window.s_confirm("Permanently delete")){this.set_item(this.item),this.set_only_latest_data(!0);let e=await this.destroy();await this.get_all(),e.data.status=="success"&&window.s_alert("Permanently deleted."),this.set_only_latest_data(!1)}}}},_xt=s("i",{class:"fa fa-trash text-danger"},null,-1);function uxt(t,e,a,o,l,n){return c(),u("a",{href:"/destroy",onClick:e[0]||(e[0]=g((...i)=>n.destroy_data&&n.destroy_data(...i),["prevent"])),class:"border-danger"},[_xt,f(" Destroy ")])}const pxt=k(cxt,[["render",uxt]]),fxt={props:{item:{type:Object,default:{}}},components:{DetailsBtn:Ykt,Edit:Zkt,StatusButton:oxt,Destroy:pxt,DeleteRestore:dxt},methods:{active_row:Mkt}},mxt={class:"table_action_btns"};function hxt(t,e,a,o,l,n){const i=y("details-btn"),d=y("edit"),r=y("status-button"),m=y("delete-restore"),v=y("destroy");return c(),u(C,null,[s("span",{onClick:e[0]||(e[0]=g(b=>n.active_row(b),["prevent"])),class:"icon"}),s("div",mxt,[s("ul",null,[s("li",null,[x(i,{item:a.item},null,8,["item"])]),s("li",null,[x(d,{item:a.item},null,8,["item"])]),s("li",null,[x(r,{item:a.item},null,8,["item"])]),s("li",null,[x(m,{item:a.item},null,8,["item"])]),s("li",null,[x(v,{item:a.item},null,8,["item"])]),zt(t.$slots,"default")])])],64)}const ll=k(fxt,[["render",hxt]]);function gxt(t,e){const a=w(Bt,["selected"]);let o=a.selected.get();e.target.checked?o.push(t):o=o.filter(i=>i.id!=t.id),a.selected.set(o);let n=document.querySelector(".select_all_checkbox");n&&(n.checked=!1)}const vxt={props:["data"],created:function(){},methods:{set_item_selectd:gxt},computed:{...q(Bt,["selected"]),exists:function(){return this.selected.find(t=>t.id===this.data.id)}}},yxt=["checked"];function $xt(t,e,a,o,l,n){return c(),u("input",{onChange:e[0]||(e[0]=i=>n.set_item_selectd(a.data,i)),checked:n.exists,class:"form-check-input ml-0",type:"checkbox"},null,40,yxt)}const il=k(vxt,[["render",$xt]]);const bxt={props:["data"],data:()=>({setup:pt}),components:{SelectAll:na,TableRowAction:ll,SelectSingle:il},methods:{trim_content(t,e=null){return typeof t=="string"?e=="created_at"||e=="updated_at"?new Date(t).toLocaleTimeString():t.length>50?t.substring(0,50)+"...":t:typeof t=="object"?t!=null&&t.title?t==null?void 0:t.title:t==null?void 0:t.name:t}}},wxt={key:0},kxt={key:1,class:"text-wrap max-w-120"};function xxt(t,e,a,o,l,n){const i=y("table-row-action"),d=y("select-single");return c(!0),u(C,null,F(a.data,(r,m)=>(c(),u("tr",{key:r.id,class:L(`table_rows table_row_${r.id}`)},[s("td",null,[x(i,{item:r},null,8,["item"])]),s("td",null,[x(d,{data:r},null,8,["data"])]),(c(!0),u(C,null,F(t.setup.table_row_data,(v,b)=>(c(),u(C,{key:b},[v=="id"?(c(),u("td",wxt,p(m+1),1)):(c(),u("td",kxt,p(n.trim_content(r[v],v)),1))],64))),128))],2))),128)}const Cxt=k(bxt,[["render",xxt],["__scopeId","data-v-536f6d0c"]]),Sxt={components:{TableHead:zkt,TableBody:Cxt},data:()=>({setup:pt,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:ukt,export_selected_csv:hkt,export_demo_csv:vkt,...H(Bt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:Okt(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w(Bt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},Dxt={class:"row"},Axt={class:"col-sm-12"},Txt={class:"card"},Ext={class:"card-header"},jxt={class:"row align-items-center"},Rxt={class:"col-12 col-md-3 mb-2 mb-md-0"},Oxt={class:"text-capitalize mb-0"},Ixt={class:"col-12 col-md-6 mb-2 mb-md-0"},Fxt={class:"col-12 col-md-3 text-md-right text-sm-left"},Pxt=s("i",{class:"fa fa-gear mx-2"},null,-1),Bxt={class:"card-body"},qxt={class:"table-responsive table_responsive card_body_fixed_height"},Lxt={class:"table table-hover text-center table-bordered"},Uxt={key:0},Nxt={class:"mx-3"},Vxt={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},Hxt={class:"pagination my-2",style:{"font-size":"11px"}},zxt=["onClick","href","innerHTML"],Mxt={class:"d-flex",style:{gap:"5px"}},Wxt=s("span",null,null,-1),Jxt=s("span",null,"-",-1),Kxt=s("span",null,"of",-1),Yxt={class:"d-flex",style:{gap:"5px"}},Gxt=s("span",null,null,-1),Qxt=s("span",null," Limit ",-1),Xxt=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),Zxt=[Xxt],tCt={class:"card-footer py-2"},eCt={class:"d-flex flex-wrap align-items-center"},sCt={class:"mr-2 mb-2"},aCt=s("i",{class:"fa fa-edit mr-2"},null,-1),oCt={class:"mr-2 mb-2"},nCt=s("i",{class:"fa fa-print mr-2"},null,-1),lCt={key:0,class:"mr-2 mb-2"},iCt=s("i",{class:"fa fa-sign-out mr-2"},null,-1),rCt={class:"mr-2 mb-2"},dCt=s("i",{class:"fa fa-download mr-2"},null,-1),cCt={class:"mr-2 mb-2"},_Ct=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),uCt={class:"mr-2 mb-2"},pCt=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),fCt={class:"mr-2 mb-2"},mCt=s("i",{class:"fa fa-trash mr-2"},null,-1),hCt={key:1,class:"mr-2 mb-2"},gCt=K('<option disabled selected> Select action </option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete"> Soft Delete </option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),vCt=[gCt],yCt=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),$Ct={class:"off_canvas_body"},bCt={class:"header"},wCt=s("h3",{class:"heading_text"},"Filter",-1),kCt=s("span",{class:"fa fa-close border p-2"},null,-1),xCt=[kCt],CCt={class:"data_content"},SCt={class:"filter_item"},DCt=s("label",{for:"start_date"},"Start Date",-1),ACt={for:"start_date",class:"text-capitalize d-block date_custom_control"},TCt={class:"filter_item"},ECt=s("label",{for:"end_date"},"End Date",-1),jCt={for:"end_date",class:"text-capitalize d-block date_custom_control"},RCt={class:"filter_item"},OCt=s("label",{for:"sort_by_col"},"Sort By Col",-1),ICt={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},FCt={class:"filter_item"},PCt=s("label",{for:"sort_by_col"},"Sort Type",-1),BCt={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},qCt={class:"filter_item"},LCt=s("div",{class:"off_canvas_overlay"},null,-1),UCt={class:"modal-dialog modal-dialog-centered"},NCt={class:"modal-content border-primary"},VCt={class:"modal-header bg-primary"},HCt={class:"modal-title text-white"},zCt=s("span",{"aria-hidden":"true"},"×",-1),MCt=[zCt],WCt={class:"modal-body"},JCt=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),KCt=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),YCt={class:"modal-footer"},GCt=s("i",{class:"fa fa-times"},null,-1),QCt=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function XCt(t,e,a,o,l,n){var m,v,b,B,S,z,T,V,I,O;const i=y("table-head"),d=y("table-body"),r=y("router-link");return c(),u("div",null,[s("div",Dxt,[s("div",Axt,[s("div",Txt,[s("div",Ext,[s("div",jxt,[s("div",Rxt,[s("h5",Oxt,p(t.setup.all_page_title),1)]),s("div",Ixt,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=_=>n.set_search_key(_)),placeholder:"Search"},null,32)]),s("div",Fxt,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(..._)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(..._))},[Pxt,f("Filter ")])])])]),s("div",Bxt,[s("div",qxt,[s("table",Lxt,[s("thead",null,[x(i)]),(v=(m=t.all)==null?void 0:m.data)!=null&&v.length?(c(),u("tbody",Uxt,[x(d,{data:(b=t.all)==null?void 0:b.data},null,8,["data"])])):j("",!0)])])]),s("div",Nxt,[s("nav",Vxt,[s("ul",Hxt,[(c(!0),u(C,null,F((B=t.all)==null?void 0:B.links,(_,R)=>{var D,h,E;return c(),u("li",{key:R,class:L(["page-item",{active:_.active}])},[s("a",{class:L(["page-link",((D=t.all)==null?void 0:D.current_page)==((h=t.all)==null?void 0:h.last_page)&&((E=t.all)==null?void 0:E.links.length)-1==R?"disabled":""]),onClick:g(N=>n.set_page_data(_),["prevent"]),href:_.url,innerHTML:`<span>${_.label}</span>`},null,10,zxt)],2)}),128))]),s("div",Mxt,[Wxt,s("span",null,p((S=t.all)==null?void 0:S.from),1),Jxt,s("span",null,p((z=t.all)==null?void 0:z.to),1),Kxt,s("span",null,p((T=t.all)==null?void 0:T.total),1)]),s("div",Yxt,[Gxt,Qxt,P(s("select",{"onUpdate:modelValue":e[2]||(e[2]=_=>t.paginate=_),onChange:e[3]||(e[3]=(..._)=>n.set_per_page_limit&&n.set_per_page_limit(..._)),class:"bg-transparent text-white rounded-1"},Zxt,544),[[J,t.paginate]])])])]),s("div",tCt,[s("div",eCt,[s("div",sCt,[x(r,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[aCt,f(" Create ")]),_:1},8,["to"])]),s("div",oCt,[s("a",{href:"",onClick:e[4]||(e[4]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[nCt,f(" Export All ")])]),(V=this.selected)!=null&&V.length?(c(),u("div",lCt,[s("a",{href:"",onClick:e[5]||(e[5]=g(_=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[iCt,f(" Export ("+p((I=this.selected)==null?void 0:I.length)+") ",1)])])):j("",!0),s("div",rCt,[s("a",{href:"",onClick:e[6]||(e[6]=g(_=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[dCt,f(" Import ")])]),s("div",cCt,[s("a",{href:"",onClick:e[7]||(e[7]=g(_=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[_Ct,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",uCt,[s("a",{href:"",onClick:e[8]||(e[8]=g(_=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[pCt,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",fCt,[s("a",{href:"",onClick:e[9]||(e[9]=g(_=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[mCt,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(O=this.selected)!=null&&O.length?(c(),u("div",hCt,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[10]||(e[10]=(..._)=>n.bulkActions&&n.bulkActions(..._))},vCt,32)])):j("",!0)])])])])]),yCt,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",$Ct,[s("div",bCt,[wCt,s("button",{class:"close_button",onClick:e[11]||(e[11]=_=>t.set_show_filter_canvas(!1))},xCt)]),s("div",CCt,[s("div",SCt,[DCt,s("label",ACt,[P(s("input",{"onUpdate:modelValue":e[12]||(e[12]=_=>t.start_date=_),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",TCt,[ECt,s("label",jCt,[P(s("input",{"onUpdate:modelValue":e[13]||(e[13]=_=>t.end_date=_),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",RCt,[OCt,s("label",ICt,[P(s("select",{"onUpdate:modelValue":e[14]||(e[14]=_=>t.sort_by_col=_),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,_=>(c(),u("option",{key:_},p(_),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",FCt,[PCt,s("label",BCt,[P(s("select",{"onUpdate:modelValue":e[15]||(e[15]=_=>t.sort_type=_),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],_=>s("option",{key:_},p(_),1)),64))],512),[[J,t.sort_type]])])]),s("div",qCt,[s("button",{onClick:e[16]||(e[16]=g(_=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),LCt],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",UCt,[s("form",{onSubmit:e[20]||(e[20]=g((..._)=>n.FileUploadHandler&&n.FileUploadHandler(..._),["prevent"]))},[s("div",NCt,[s("div",VCt,[s("h5",HCt," Import "+p(t.setup.prefix),1),s("button",{onClick:e[17]||(e[17]=_=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},MCt)]),s("div",WCt,[JCt,KCt,s("a",{href:"",onClick:e[18]||(e[18]=g((..._)=>n.export_demo_csv&&n.export_demo_csv(..._),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",YCt,[s("button",{onClick:e[19]||(e[19]=_=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[GCt,f(" Close ")]),QCt])])],32)])],2)])}const ZCt=k(Sxt,[["render",XCt]]),tSt=[{name:"title",label:"Enter your title",type:"text",value:""}],eSt={data:()=>({setup:pt,form_fields:tSt,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t)},methods:{...H(Bt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(o=>{e.name==o[0]&&(this.form_fields[a].value=o[1])})})},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}}},computed:{...q(Bt,{item:"item"})}},sSt={class:"card"},aSt={class:"card-header d-flex justify-content-between"},oSt={class:"text-capitalize"},nSt={class:"card-body card_body_fixed_height"},lSt={class:"row"},iSt=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function rSt(t,e,a,o,l,n){const i=y("router-link"),d=y("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=g((...r)=>n.submitHandler&&n.submitHandler(...r),["prevent"]))},[s("div",sSt,[s("div",aSt,[s("h5",oSt,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),W(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):j("",!0),x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",nSt,[s("div",lSt,[(c(!0),u(C,null,F(t.form_fields,(r,m)=>(c(),W(d,{key:m,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class"]))),128))])]),iSt])],32)])}const _n=k(eSt,[["render",rSt]]);const dSt={props:["item"],data:()=>({setup:pt}),components:{SelectAll:na,TableRowAction:ll,SelectSingle:il},methods:{trim_content(t,e=null){return typeof t=="string"&&(e=="created_at"||e=="updated_at")?new Date(t).toLocaleTimeString():t}}},cSt=t=>(ht("data-v-607436c5"),t=t(),gt(),t),_St=cSt(()=>s("th",{class:"text-center"},":",-1)),uSt={class:"text-trim"};function pSt(t,e,a,o,l,n){return c(!0),u(C,null,F(t.setup.table_row_data,(i,d)=>(c(),u("tr",{key:d},[s("th",null,p(i),1),_St,s("th",uSt,p(n.trim_content(a.item[i],i)),1)]))),128)}const fSt=k(dSt,[["render",pSt],["__scopeId","data-v-607436c5"]]),mSt={components:{DataDetialsTableBody:fSt},data:()=>({setup:pt}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(Bt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...w(Bt,{item:"item"})}},hSt={class:"card"},gSt={class:"card-header d-flex justify-content-between"},vSt={class:"text-capitalize"},ySt={class:"card-body card_body_fixed_height"},$St={class:"row"},bSt={class:"col-lg-8"},wSt={class:"table quick_modal_table table-bordered"},kSt={class:"card-footer"},xSt=s("i",{class:"fa fa-angle-left"},null,-1),CSt=s("i",{class:"fa fa-angle-right"},null,-1);function SSt(t,e,a,o,l,n){const i=y("router-link"),d=y("data-detials-table-body");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=g((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",hSt,[s("div",gSt,[s("h5",vSt,p(t.setup.details_page_title),1),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",ySt,[s("div",$St,[s("div",bSt,[s("table",wSt,[s("tbody",null,[x(d,{item:t.item},null,8,["item"])])])])])]),s("div",kSt,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(r=>n.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[xSt,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):j("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(r=>n.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),CSt])):j("",!0)])])],32)])}const DSt=k(mSt,[["render",SSt]]),ASt={};function TSt(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const ESt=k(ASt,[["render",TSt]]);let Fe=pt.route_prefix,jSt=pt.route_path;const RSt={path:jSt,component:ESt,children:[{path:"all",name:"All"+Fe,component:ZCt},{path:"create",name:"Create"+Fe,component:_n},{path:"details/:id",name:"Details"+Fe,component:DSt},{path:"edit/:id",name:"Edit"+Fe,component:_n}]},fe="Employee",ft={prefix:fe,permission:["admin","super_admin"],api_host:mt.api_host,api_version:mt.api_version,api_end_point:"users",module_name:"user",store_prefix:"user",route_prefix:"User",route_path:"user",select_fields:["id","name","email","phone_number","image","role_id","slug","created_at"],sort_by_cols:["id","name","email","phone_number","image","role_id","created_at"],layout_title:fe+" Management",page_title:`${fe} Management`,all_page_title:"All "+fe,details_page_title:"Details "+fe,create_page_title:"Create "+fe,edit_page_title:"Edit "+fe},OSt={is_loading:!1,loading_text:"loading..",all:{},item:{},url:"",select_fields:ft.select_fields,sort_by_cols:ft.sort_by_cols,sort_by_col:"id",sort_type:"DESC",start_date:"",end_date:"",filter_criteria:{},all_data_count:0,active_data_count:0,inactive_data_count:0,trased_data_count:0,page:1,paginate:10,search_key:"",orderByCol:"id",orderByAsc:!0,status:"active",selected:[],show_filter_canvas:!1,show_quick_view_canvas:!1,show_management_modal:!1,modal_selected_qty:1,show_create_canvas:!1,show_edit_canvas:!1,show_details_canvas:!1,cached:0,only_latest_data:!1};function un(t){let e=JSON.parse(localStorage.getItem("latestEndpoints")||"[]");e.push(t),e.length>10&&(e=e.slice(-10)),localStorage.setItem("latestEndpoints",JSON.stringify(e))}async function pn(t,e,a){try{const o=await A.get(t);await e.put(t,new Response(JSON.stringify(o.data)));let n=performance.now()-a;return un({href:t,duration:n,status:o.status}),o}catch(o){console.error(o.response.data);let n=performance.now()-a;throw un({href:t,duration:n,status:o.response.status,message:o.response.data.message}),new Error(o.response.statusText)}}function ISt(t){return t/1024}async function fn(t,e){let a={data:{},status:200},o=0,l=0,n=0;try{const i=performance.now(),d=new URL(t).pathname,r=await caches.open(d),m=await r.keys(),v=m.length;if(v>15)for(let S=0;S<v-15;S++)await r.delete(m[S]);const b=await r.match(t);return b&&e===!1?(a.data=await b.json(),pn(t,r,i)):a=await pn(t,r,i),o=performance.now(),l=o-i,n=(await navigator.storage.estimate()).usage,{duration:l,data:a.data.data,totalStorage:ISt(n)}}catch(i){return console.error("error #%s",i),{duration:l,data:a.data.data,totalStorage:0}}}const{api_host:FSt,api_version:PSt,api_end_point:BSt}=ft;let qSt=async()=>{let t=w(Nt,["url","page","paginate","search_key","sort_by_col","sort_type","status","select_fields","filter_criteria","cached","only_latest_data","is_loading","loading_text","all","all_data_count","active_data_count","inactive_data_count","trased_data_count"]),e={params:{page:t.page.get(),paginate:t.paginate.get(),limit:t.paginate.get(),search_key:t.search_key.get(),search:t.search_key.get(),sort_by_col:t.sort_by_col.get(),sort_type:t.sort_type.get(),status:t.status.get()}},a={},o=`${FSt}/${PSt}/${BSt}`,l=new URL(o),n=!0;for(let d in e.params)l.searchParams.set(d,e.params[d]);t.select_fields.get().forEach(function(d,r){l.searchParams.set(`selected_fields[${r}]`,d),l.searchParams.set(`fields[${r}]`,d)});let i=0;for(let d in t.filter_criteria.get()){let r=t.filter_criteria.get()[d];r&&(l.searchParams.set(`filter_criterias[${i}][key]`,d),l.searchParams.set(`filter_criterias[${i}][value]`,r),i++,l.searchParams.set(d,r))}return t.is_loading.set(!0),t.loading_text.set("loading.."),t.url.get()&&t.search_key.get().length===0&&Object.keys(t.filter_criteria.get()).length?(o=t.url.get(),a=await fn(o,n)):a=await fn(l.href,n),t.cached.set(a.totalStorage),t.all.set(a.data),t.all_data_count.set(a.data.total),t.active_data_count.set(a.data.active_data_count),t.inactive_data_count.set(a.data.inactive_data_count),t.trased_data_count.set(a.data.trased_data_count),t.is_loading.set(!1),t.loading_text.set(""),a.data};async function LSt(t){let e=t.target,a=new FormData(e),o=`${ft.api_host}/${ft.api_version}/${ft.api_end_point}/store`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function USt(t){let e=w(Nt,["item"]),a=`${ft.api_host}/${ft.api_version}/${ft.api_end_point}/${t}`;try{let o=await A.get(a);e.item.set(o.data.data)}catch(o){return window.s_alert("something is wrong.","error"),o.response}}async function NSt(t){let e=q(Nt,["item"]),a=t.target,o=new FormData(a);o.append("id",e.item().id);let l=`${ft.api_host}/${ft.api_version}/${ft.api_end_point}/update/${e.item().slug}`;try{return await A.post(l,o)}catch(n){return n.response.status==422&&window.s_alert("Fill the required input fields.","error"),n.response}}async function VSt(){let t=q(Nt,["item"]),e=`${ft.api_host}/${ft.api_version}/${ft.api_end_point}/soft-delete`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function HSt(){let t=q(Nt,["item"]),e=`${ft.api_host}/${ft.api_version}/${ft.api_end_point}/update-status`;try{return await A.post(e,{slug:t.item().slug,status:t.item().status})}catch(a){return a.response}}async function zSt(){let t=q(Nt,["item"]),e=`${ft.api_host}/${ft.api_version}/${ft.api_end_point}/restore`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function MSt(){let t=q(Nt,["item"]),e=`${ft.api_host}/${ft.api_version}/${ft.api_end_point}/destroy/${t.item().slug}`;try{return await A.post(e,{slug:t.item().slug})}catch(a){return a.response}}async function WSt(t,e){let a=`${ft.api_host}/${ft.api_version}/${ft.api_end_point}/bulk-action`;try{return await A.post(a,{action:t,ids:e})}catch(o){return o.response.status==422&&window.s_alert("Fill the required input fields.","error"),o.response}}async function JSt(t){let e=t.target,a=new FormData(e),o=`${ft.api_host}/${ft.api_version}/${ft.api_end_point}/import`;try{return await A.post(o,a)}catch(l){return l.response.status==422&&window.s_alert("Fill the required input fields.","error"),l.response}}async function KSt(t={}){let e=Nt();e.filter_criteria={...e.filter_criteria,...t}}async function YSt(t={}){w(Nt,["item"]).item.set(t)}async function GSt(t=!0){w(Nt,["only_latest_data"]).only_latest_data.set(t)}async function QSt(t=1){w(Nt,["page"]).page.set(t)}async function XSt(t=10){w(Nt,["paginate"]).paginate.set(t)}async function ZSt(t=!0){w(Nt,["show_details_canvas"]).show_details_canvas.set(t)}async function t3t(t=!0){w(Nt,["show_filter_canvas"]).show_filter_canvas.set(t)}async function e3t(t="active"){w(Nt,["status"]).status.set(t)}async function s3t(){w(Nt,["selected"]).selected.set([])}const Nt=Vt(ft.store_prefix,{state:()=>OSt,getters:{},actions:{get_all:qSt,create:LSt,update:NSt,details:USt,update_status:HSt,soft_delete:VSt,restore:zSt,destroy:MSt,bulk_action:WSt,import_data:JSt,set_page:QSt,set_paginate:XSt,set_show_details_canvas:ZSt,set_item:YSt,set_show_filter_canvas:t3t,set_filter_criteria:KSt,set_status:e3t,set_only_latest_data:GSt,clear_selected:s3t}});var a3t=function(){function t(){}return t.prototype.exportFile=function(e,a,o){if(window.navigator.msSaveOrOpenBlob){var l=new Blob([o]);window.navigator.msSaveOrOpenBlob(l,a)}else{var n="\uFEFF",i=encodeURIComponent(o),d="data:text/"+e+";charset=utf-8,"+n+i,r=document.createElement("a");r.setAttribute("href",d),r.setAttribute("download",a),document.body.appendChild(r),r.click()}},t}(),o3t=globalThis&&globalThis.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var n in l)l.hasOwnProperty(n)&&(o[n]=l[n])},t(e,a)};return function(e,a){t(e,a);function o(){this.constructor=e}e.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();globalThis&&globalThis.__importDefault;var n3t=function(t){o3t(e,t);function e(a){var o=t.call(this)||this;return o._FileName="",o._Delimeter=",",o._Columns=[],o._RowData=[],o._FileName=a,o}return e.prototype.setColumns=function(a){return this._Columns=a,this},e.prototype.setDelimeter=function(a){return this._Delimeter=a,this},e.prototype.addRow=function(a){return this._RowData.push(a),this},e.prototype.addRows=function(a){return this._RowData=this._RowData.concat(a),this},e.prototype.escapeCell=function(a){return typeof a=="string"?'"'+a.replace(/\"/g,'""')+'"':a},e.prototype.getRowData=function(a){return a.map(this.escapeCell).join(this._Delimeter)},e.prototype.exportFile=function(){var a=this,o=[];this._Columns&&this._Columns.length>0&&o.push(this.getRowData(this._Columns)),this._RowData.forEach(function(n){o.push(a.getRowData(n))});var l=o.join(`\r
`);t.prototype.exportFile.call(this,"csv",this._FileName,l)},e}(a3t);const la=n3t;let l3t=ft.store_prefix;async function i3t(){if(await window.s_confirm("Export all")){window.start_loader();try{let e=1,a=new URL(`${ft.api_host}/${ft.api_version}/${ft.api_end_point}`);a.searchParams.set("paginate",10);const o=["deleted_at","created_at","updated_at"];let l,n=[];for(let i=1;i<=e;i++){a.searchParams.set("page",i),console.log(`Fetching page ${i}`);const d=await A.get(a.href);if(i===1){e=d.data.data.last_page;const v=r3t(d.data.data.data[0],o);l=new la(`${l3t}_list.csv`).setColumns(v)}const r=d.data.data.data.map(v=>d3t(v,o));n=n.concat(r),console.log(`Accumulated ${n.length} rows so far`);const m=Math.round(100*i/e);window.update_loader(m)}l.addRows(n),await l.exportFile()}catch(e){console.error("Error exporting CSV:",e),window.show_error("Failed to export data.")}finally{window.remove_loader()}}}function r3t(t,e){return t?Object.keys(t).filter(a=>!e.includes(a)):[]}function d3t(t,e){return Object.keys(t).filter(a=>!e.includes(a)).map(a=>t[a])}window.start_loader=function(){$(".loader").addClass("active"),window.update_loader(5)};window.update_loader=function(t){$(".load_amount h4").text(t),$(".progress").css("width",t+"%")};window.remove_loader=function(){$(".loader").removeClass("active"),window.update_loader(5)};let c3t=ft.store_prefix;function _3t(t){let e=Object.keys(t[0]),a=t.map(l=>Object.values(l));new la(`${c3t}_list.csv`).setColumns(e).addRows(a).exportFile(),w(Nt,["selected"]).selected.set([])}let u3t=ft.store_prefix;function p3t(){const t=ft.select_fields,e=["id","created_at","slug"],a=t.filter(l=>!e.includes(l));console.log("ddd",a);const o=[Array(a.length).fill("-")];new la(`${u3t}_demo_list.csv`).setColumns(a).addRows(o).exportFile()}var f3t="Expected a function",mn=0/0,m3t="[object Symbol]",h3t=/^\s+|\s+$/g,g3t=/^[-+]0x[0-9a-f]+$/i,v3t=/^0b[01]+$/i,y3t=/^0o[0-7]+$/i,$3t=parseInt,b3t=typeof global=="object"&&global&&global.Object===Object&&global,w3t=typeof self=="object"&&self&&self.Object===Object&&self,k3t=b3t||w3t||Function("return this")(),x3t=Object.prototype,C3t=x3t.toString,S3t=Math.max,D3t=Math.min,as=function(){return k3t.Date.now()};function A3t(t,e,a){var o,l,n,i,d,r,m=0,v=!1,b=!1,B=!0;if(typeof t!="function")throw new TypeError(f3t);e=hn(e)||0,ks(a)&&(v=!!a.leading,b="maxWait"in a,n=b?S3t(hn(a.maxWait)||0,e):n,B="trailing"in a?!!a.trailing:B);function S(h){var E=o,N=l;return o=l=void 0,m=h,i=t.apply(N,E),i}function z(h){return m=h,d=setTimeout(I,e),v?S(h):i}function T(h){var E=h-r,N=h-m,Y=e-E;return b?D3t(Y,n-N):Y}function V(h){var E=h-r,N=h-m;return r===void 0||E>=e||E<0||b&&N>=n}function I(){var h=as();if(V(h))return O(h);d=setTimeout(I,T(h))}function O(h){return d=void 0,B&&o?S(h):(o=l=void 0,i)}function _(){d!==void 0&&clearTimeout(d),m=0,o=r=l=d=void 0}function R(){return d===void 0?i:O(as())}function D(){var h=as(),E=V(h);if(o=arguments,l=this,r=h,E){if(d===void 0)return z(r);if(b)return d=setTimeout(I,e),S(r)}return d===void 0&&(d=setTimeout(I,e)),i}return D.cancel=_,D.flush=R,D}function ks(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function T3t(t){return!!t&&typeof t=="object"}function E3t(t){return typeof t=="symbol"||T3t(t)&&C3t.call(t)==m3t}function hn(t){if(typeof t=="number")return t;if(E3t(t))return mn;if(ks(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ks(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(h3t,"");var a=v3t.test(t);return a||y3t.test(t)?$3t(t.slice(2),a?2:8):g3t.test(t)?mn:+t}const j3t={data:()=>({setup:ft,is_trashed_data:!1,import_csv_modal_show:!1,filePath:"resources/js/backend/Views/SuperAdmin/Management/TestModule/helpers/demo.csv"}),created:async function(){await this.get_all()},methods:{export_all_csv:i3t,export_selected_csv:_3t,export_demo_csv:p3t,...H(Nt,["get_all","restore","soft_delete","update_status","destroy","bulk_action","clear_selected","import_data","set_show_filter_canvas","set_only_latest_data","set_item","set_filter_criteria","set_page","set_status","set_paginate"]),active_row(t){const e=t.target.closest(".table_rows");e&&(document.querySelectorAll(".table_rows.active").forEach(a=>{a!==e&&a.classList.remove("active")}),e.classList.toggle("active"))},updateStatus:async function(t){var o,l;let e=t.status=="active"?"deactive":"active";if(await window.s_confirm("Are you sure want to "+e+" ?")){this.set_item(t),this.set_only_latest_data(!0);let n=await this.update_status();n.data.status==="success"?(await this.get_all(),window.s_alert((o=n.data)==null?void 0:o.message),this.set_only_latest_data(!0)):window.s_warning((l=n.data)==null?void 0:l.message)}},softDelete:async function(t){var a,o;if(await window.s_confirm("Are you sure want to delete ?")){this.set_item(t),this.set_only_latest_data(!0);let l=await this.soft_delete();l.data.status==="success"?(await this.get_all(),window.s_alert((a=l.data)==null?void 0:a.message),this.set_only_latest_data(!0)):window.s_warning((o=l.data)==null?void 0:o.message)}},restore_data:async function(t){var a;if(await window.s_confirm("Restore")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.restore();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},destroy_data:async function(t){var a;if(await window.s_confirm("Permanently delete")){this.set_item(t),this.set_only_latest_data(!0);let o=await this.destroy();o.data.status==="success"?(await this.get_all(),window.s_alert("Permanently deleted."),this.set_only_latest_data(!0)):window.s_warning((a=o.data)==null?void 0:a.message)}},change_status:function(t="active"){t=="trased"?this.is_trashed_data=!0:this.is_trashed_data=!1,this.set_only_latest_data(!0),this.set_status(t),this.set_page(1),this.get_all(),this.set_only_latest_data(!0)},set_page_data:function(t){try{let a=new URL(t.url).searchParams.get("page");t.url&&this.set_page(parseInt(a)),this.get_all()}catch{}},set_per_page_limit:function(){this.set_paginate(event.target.value),this.get_all()},set_all_item_selected(t){this.selected=t.target.checked?[...this.all.data]:[]},set_item_selected(t,e){const a=e.target.checked,o=new Set(this.selected);a?o.add(t):o.delete(t),this.selected=[...o]},isSelected(t){return this.selected.some(e=>e.id===t.id)},bulkActions:async function(){var a;let t=event.target.value;if(await window.s_confirm("Are you sure want to "+t+" items ?")){let o=this.selected;o=o.map(n=>n.id),this.set_only_latest_data(!0);let l=await this.bulk_action(t,o);l.data.status==="success"?(await this.get_all(),document.querySelector(".select_all_checkbox").checked=!1,this.clear_selected(),this.set_only_latest_data(!1),window.s_alert("You have "+t+" items ?")):window.s_warning((a=l.data)==null?void 0:a.message)}},FileUploadHandler:async function(t){var a;let e=await this.import_data(t);e.data.status==="success"?(await this.get_all(),window.s_alert(e.data.message),this.set_only_latest_data(!0),this.import_csv_modal_show=!1):window.s_warning((a=e.data)==null?void 0:a.message)},set_search_key:A3t(async function(t){let e=t.target.value;this.search_key=e,this.page=1,this.only_latest_data=!0,await this.get_all(),this.only_latest_data=!1},500)},computed:{...w(Nt,["all","show_filter_canvas","active_data_count","inactive_data_count","trased_data_count","status","selected","paginate","sort_type","sort_by_cols","sort_by_col","start_date","end_date","search_key","page"]),isAllSelected(){var t,e,a;return((e=(t=this.all)==null?void 0:t.data)==null?void 0:e.length)>0&&((a=this.all.data)==null?void 0:a.every(o=>this.selected.some(l=>l.id===o.id)))}},watch:{is_trashed_data:{handler:function(t,e){this.is_trashed_data=t},immediate:!0},start_date:{handler:function(t){let e={start_date:t};this.set_filter_criteria(e)},deep:!0},end_date:{handler:function(t){let e={end_date:t};this.set_filter_criteria(e)},deep:!0}}},R3t={class:"row"},O3t={class:"col-sm-12"},I3t={class:"card"},F3t={class:"card-header"},P3t={class:"row align-items-center"},B3t={class:"col-12 col-md-3 mb-2 mb-md-0"},q3t={class:"text-capitalize mb-0"},L3t={class:"col-12 col-md-6 mb-2 mb-md-0"},U3t={class:"col-12 col-md-3 text-md-right text-sm-left"},N3t=s("i",{class:"fa fa-gear mx-2"},null,-1),V3t={class:"card-body"},H3t={class:"table-responsive table_responsive card_body_fixed_height"},z3t={class:"table table-hover text-center table-bordered"},M3t=s("th",null,[s("i",{class:"zmdi zmdi-settings zmdi-hc-2x",title:"Actions"})],-1),W3t={class:"w-10 text-center"},J3t=["checked"],K3t=s("th",{class:"w-10"},"ID",-1),Y3t=s("th",null,"name",-1),G3t=s("th",null,"email",-1),Q3t=s("th",null,"Phone",-1),X3t=s("th",null,"image",-1),Z3t=s("th",null,"role",-1),t8t={class:"table_action_btns"},e8t=s("i",{class:"fa fa-eye text-secondary"},null,-1),s8t=s("i",{class:"fa fa-pencil-square-o text-info"},null,-1),a8t=["onClick"],o8t=s("i",{class:"fa fa-eye-slash text-warning"},null,-1),n8t=["onClick"],l8t=s("i",{class:"fa fa-eye text-warning"},null,-1),i8t={key:0},r8t=["onClick"],d8t=s("i",{class:"fa fa-ban text-warning"},null,-1),c8t={key:1},_8t=["onClick"],u8t=s("i",{class:"fa fa-refresh text-warning"},null,-1),p8t=["onClick"],f8t=s("i",{class:"fa fa-trash text-danger"},null,-1),m8t=["onChange","checked"],h8t=["src"],g8t={class:"mx-3"},v8t={"aria-label":"",class:"d-flex gap-2 align-items-center",style:{gap:"10px"}},y8t={class:"pagination my-2",style:{"font-size":"11px"}},$8t=["onClick","href","innerHTML"],b8t={class:"d-flex",style:{gap:"5px"}},w8t=s("span",null,null,-1),k8t=s("span",null,"-",-1),x8t=s("span",null,"of",-1),C8t={class:"d-flex",style:{gap:"5px"}},S8t=s("span",null,null,-1),D8t=s("span",null," Limit ",-1),A8t=K('<option value="5">05</option><option value="10">10</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option>',8),T8t=[A8t],E8t={class:"card-footer py-2"},j8t={class:"d-flex flex-wrap align-items-center"},R8t={class:"mr-2 mb-2"},O8t=s("i",{class:"fa fa-edit mr-2"},null,-1),I8t={class:"mr-2 mb-2"},F8t=s("i",{class:"fa fa-print mr-2"},null,-1),P8t={key:0,class:"mr-2 mb-2"},B8t=s("i",{class:"fa fa-sign-out mr-2"},null,-1),q8t={class:"mr-2 mb-2"},L8t=s("i",{class:"fa fa-download mr-2"},null,-1),U8t={class:"mr-2 mb-2"},N8t=s("i",{class:"fa fa fa fa-eye mr-2"},null,-1),V8t={class:"mr-2 mb-2"},H8t=s("i",{class:"fa fa fa-eye-slash mr-2"},null,-1),z8t={class:"mr-2 mb-2"},M8t=s("i",{class:"fa fa-trash mr-2"},null,-1),W8t={key:1,class:"mr-2 mb-2"},J8t=K('<option disabled selected>Select action</option><option value="inactive">Inactive</option><option value="active">Action</option><option value="soft_delete">Soft Delete</option><option value="restore">Restore</option><option value="destroy">Destroy</option>',6),K8t=[J8t],Y8t=K('<div class="loader export_loader"><div class="loader_body"><div class="progress"></div><div class="load_amount"><h4>0</h4><h5>%</h5></div></div></div><div class="off_canvas quick_view d-none"><div class="off_canvas_body"><div class="header"><h3 class="heading_text">Quick View</h3><button class="btn btn-sm btn-outline-danger"><i class="fa fa-close"></i></button></div><div class="data_content"><table class="table quick_modal_table"><tbody> {$tableRows} </tbody></table></div></div><div class="off_canvas_overlay"></div></div>',2),G8t={class:"off_canvas_body"},Q8t={class:"header"},X8t=s("h3",{class:"heading_text"},"Filter",-1),Z8t=s("span",{class:"fa fa-close border p-2"},null,-1),t5t=[Z8t],e5t={class:"data_content"},s5t={class:"filter_item"},a5t=s("label",{for:"start_date"},"Start Date",-1),o5t={for:"start_date",class:"text-capitalize d-block date_custom_control"},n5t={class:"filter_item"},l5t=s("label",{for:"end_date"},"End Date",-1),i5t={for:"end_date",class:"text-capitalize d-block date_custom_control"},r5t={class:"filter_item"},d5t=s("label",{for:"sort_by_col"},"Sort By Col",-1),c5t={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},_5t={class:"filter_item"},u5t=s("label",{for:"sort_by_col"},"Sort Type",-1),p5t={for:"sort_by_col",class:"text-capitalize d-block date_custom_control"},f5t={class:"filter_item"},m5t=s("div",{class:"off_canvas_overlay"},null,-1),h5t={class:"modal-dialog modal-dialog-centered"},g5t={class:"modal-content border-primary"},v5t={class:"modal-header bg-primary"},y5t={class:"modal-title text-white"},$5t=s("span",{"aria-hidden":"true"},"×",-1),b5t=[$5t],w5t={class:"modal-body"},k5t=s("div",{class:""},[s("label",{for:""},"Upload file"),s("input",{type:"file",name:"file",class:"form-control",required:""})],-1),x5t=s("p",{class:"mt-3"}," Please check the sample CSV file below to ensure compatibility with the demo data import. ",-1),C5t={class:"modal-footer"},S5t=s("i",{class:"fa fa-times"},null,-1),D5t=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"fa fa-download"}),f(" Import ")],-1);function A5t(t,e,a,o,l,n){var d,r,m,v,b,B,S,z;const i=y("router-link");return c(),u("div",null,[s("div",R3t,[s("div",O3t,[s("div",I3t,[s("div",F3t,[s("div",P3t,[s("div",B3t,[s("h5",q3t,p(t.setup.all_page_title),1)]),s("div",L3t,[s("input",{class:"form-control",onKeyup:e[0]||(e[0]=T=>n.set_search_key(T)),placeholder:"Search"},null,32)]),s("div",U3t,[s("button",{class:"btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=(...T)=>t.set_show_filter_canvas&&t.set_show_filter_canvas(...T))},[N3t,f("Filter ")])])])]),s("div",V3t,[s("div",H3t,[s("table",z3t,[s("thead",null,[s("tr",null,[M3t,s("th",W3t,[s("input",{class:"form-check-input ml-0 select_all_checkbox",onChange:e[2]||(e[2]=T=>n.set_all_item_selected(T)),type:"checkbox",checked:n.isAllSelected},null,40,J3t)]),K3t,Y3t,G3t,Q3t,X3t,Z3t])]),s("tbody",null,[(c(!0),u(C,null,F((d=t.all)==null?void 0:d.data,(T,V)=>{var I;return c(),u("tr",{key:T.id,class:L(`table_rows table_row_${T.id}`)},[s("td",null,[s("span",{class:"icon",onClick:e[3]||(e[3]=g(O=>n.active_row(O),["prevent"]))}),s("div",t8t,[s("ul",null,[s("li",null,[x(i,{to:{name:`Details${t.setup.route_prefix}`,params:{id:T.slug}},class:"border-secondary"},{default:U(()=>[e8t,f(" Show ")]),_:2},1032,["to"])]),s("li",null,[x(i,{to:{name:`Edit${t.setup.route_prefix}`,params:{id:T.slug}},class:"border-secondary"},{default:U(()=>[s8t,f(" Edit ")]),_:2},1032,["to"])]),s("li",null,[T.status=="active"?(c(),u("a",{key:0,href:"",onClick:g(O=>n.updateStatus(T),["prevent"]),class:"border-warning"},[o8t,f(" Inactive ")],8,a8t)):j("",!0),T.status=="inactive"?(c(),u("a",{key:1,href:"",onClick:g(O=>n.updateStatus(T),["prevent"]),class:"border-warning"},[l8t,f(" Active ")],8,n8t)):j("",!0)]),t.is_trashed_data?j("",!0):(c(),u("li",i8t,[s("a",{onClick:g(O=>n.softDelete(T),["prevent"]),href:"",class:"border-danger"},[d8t,f(" Soft Delete ")],8,r8t)])),t.is_trashed_data?(c(),u("li",c8t,[s("a",{onClick:g(O=>n.restore_data(T),["prevent"]),href:"",class:"border-danger"},[u8t,f(" Restore data ")],8,_8t)])):j("",!0),s("li",null,[s("a",{onClick:g(O=>n.destroy_data(T),["prevent"]),href:"",class:"border-danger"},[f8t,f(" Destroy ")],8,p8t)])])])]),s("td",null,[s("input",{onChange:O=>n.set_item_selected(T,O),checked:n.isSelected(T),class:"form-check-input ml-0",type:"checkbox"},null,40,m8t)]),s("td",null,p(V+1),1),s("td",null,p(T.name),1),s("td",null,p(T.email),1),s("td",null,p(T.phone_number??"N/A "),1),s("td",null,[s("img",{src:T.image,alt:"",height:"50",width:"50"},null,8,h8t)]),s("td",null,p((I=T.role)==null?void 0:I.name),1)],2)}),128))])])])]),s("div",g8t,[s("nav",v8t,[s("ul",y8t,[(c(!0),u(C,null,F((r=t.all)==null?void 0:r.links,(T,V)=>{var I,O,_;return c(),u("li",{key:V,class:L(["page-item",{active:T.active}])},[s("a",{class:L(["page-link",((I=t.all)==null?void 0:I.current_page)==((O=t.all)==null?void 0:O.last_page)&&((_=t.all)==null?void 0:_.links.length)-1==V?"disabled":""]),onClick:g(R=>n.set_page_data(T),["prevent"]),href:T.url,innerHTML:`<span>${T.label}</span>`},null,10,$8t)],2)}),128))]),s("div",b8t,[w8t,s("span",null,p((m=t.all)==null?void 0:m.from),1),k8t,s("span",null,p((v=t.all)==null?void 0:v.to),1),x8t,s("span",null,p((b=t.all)==null?void 0:b.total),1)]),s("div",C8t,[S8t,D8t,P(s("select",{"onUpdate:modelValue":e[4]||(e[4]=T=>t.paginate=T),onChange:e[5]||(e[5]=(...T)=>n.set_per_page_limit&&n.set_per_page_limit(...T)),class:"bg-transparent text-white rounded-1"},T8t,544),[[J,t.paginate]])])])]),s("div",E8t,[s("div",j8t,[s("div",R8t,[x(i,{to:{name:`Create${t.setup.route_prefix}`},class:"btn action_btn mr-2 btn-sm btn-info d-flex align-content-center align-items-center"},{default:U(()=>[O8t,f(" Create ")]),_:1},8,["to"])]),s("div",I8t,[s("a",{href:"",onClick:e[6]||(e[6]=g(()=>n.export_all_csv(),["prevent"])),class:"btn action_btn mr-2 btn-sm btn-primary d-flex align-content-center align-items-center"},[F8t,f(" Export All ")])]),(B=this.selected)!=null&&B.length?(c(),u("div",P8t,[s("a",{href:"",onClick:e[7]||(e[7]=g(T=>n.export_selected_csv(t.selected),["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[B8t,f(" Export ("+p((S=this.selected)==null?void 0:S.length)+") ",1)])])):j("",!0),s("div",q8t,[s("a",{href:"",onClick:e[8]||(e[8]=g(T=>t.import_csv_modal_show=!0,["prevent"])),class:"btn action_btn btn-sm btn-secondary d-flex align-items-center"},[L8t,f(" Import ")])]),s("div",U8t,[s("a",{href:"",onClick:e[9]||(e[9]=g(T=>n.change_status("active"),["prevent"])),class:"btn action_btn btn-sm btn-success d-flex align-items-center"},[N8t,f(" Active ("+p(t.active_data_count)+") ",1)])]),s("div",V8t,[s("a",{href:"",onClick:e[10]||(e[10]=g(T=>n.change_status("inactive"),["prevent"])),class:"btn action_btn btn-sm btn-warning d-flex align-items-center"},[H8t,f(" Inactive ("+p(t.inactive_data_count)+") ",1)])]),s("div",z8t,[s("a",{href:"",onClick:e[11]||(e[11]=g(T=>n.change_status("trased"),["prevent"])),class:"btn action_btn btn-sm btn-danger d-flex align-items-center"},[M8t,f(" Trased ("+p(t.trased_data_count)+") ",1)])]),(z=this.selected)!=null&&z.length?(c(),u("div",W8t,[s("select",{class:"form-control",style:{width:"100px",height:"30px","font-size":"12px"},onChange:e[12]||(e[12]=(...T)=>n.bulkActions&&n.bulkActions(...T))},K8t,32)])):j("",!0)])])])])]),Y8t,s("div",{class:L(["off_canvas data_filter",`${t.show_filter_canvas?"active":""}`])},[s("div",G8t,[s("div",Q8t,[X8t,s("button",{class:"close_button",onClick:e[13]||(e[13]=T=>t.set_show_filter_canvas(!1))},t5t)]),s("div",e5t,[s("div",s5t,[a5t,s("label",o5t,[P(s("input",{"onUpdate:modelValue":e[14]||(e[14]=T=>t.start_date=T),type:"date",id:"start_date",name:"start_date",class:"form-control"},null,512),[[M,t.start_date]])])]),s("div",n5t,[l5t,s("label",i5t,[P(s("input",{"onUpdate:modelValue":e[15]||(e[15]=T=>t.end_date=T),type:"date",id:"end_date",name:"end_date",class:"form-control"},null,512),[[M,t.end_date]])])]),s("div",r5t,[d5t,s("label",c5t,[P(s("select",{"onUpdate:modelValue":e[16]||(e[16]=T=>t.sort_by_col=T),class:"form-control"},[(c(!0),u(C,null,F(t.sort_by_cols,T=>(c(),u("option",{key:T},p(T),1))),128))],512),[[J,t.sort_by_col]])])]),s("div",_5t,[u5t,s("label",p5t,[P(s("select",{"onUpdate:modelValue":e[17]||(e[17]=T=>t.sort_type=T),class:"form-control"},[(c(),u(C,null,F(["ASC","DESC"],T=>s("option",{key:T},p(T),1)),64))],512),[[J,t.sort_type]])])]),s("div",f5t,[s("button",{onClick:e[18]||(e[18]=g(T=>t.get_all(),["prevent"])),type:"button",class:"btn btn-sm btn-outline-info"}," Submit ")])])]),m5t],2),s("div",{class:L(["modal fade",`${t.import_csv_modal_show?"show d-block":"d-none"}`]),id:"primarymodal","aria-modal":"true"},[s("div",h5t,[s("form",{onSubmit:e[22]||(e[22]=g((...T)=>n.FileUploadHandler&&n.FileUploadHandler(...T),["prevent"]))},[s("div",g5t,[s("div",v5t,[s("h5",y5t,"Import "+p(t.setup.prefix),1),s("button",{onClick:e[19]||(e[19]=T=>t.import_csv_modal_show=!1),type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},b5t)]),s("div",w5t,[k5t,x5t,s("a",{href:"",onClick:e[20]||(e[20]=g((...T)=>n.export_demo_csv&&n.export_demo_csv(...T),["prevent"])),class:"btn btn-sm btn-primary"},"Download Demo CSV")]),s("div",C5t,[s("button",{onClick:e[21]||(e[21]=T=>t.import_csv_modal_show=!1),type:"button",class:"btn btn-light","data-dismiss":"modal"},[S5t,f(" Close ")]),D5t])])],32)])],2)])}const T5t=k(j3t,[["render",A5t]]),E5t=[{name:"name",label:"Enter  name",type:"text",value:""},{name:"email",label:"Enter  email",type:"text",value:""},{name:"phone_number",label:"Enter  phone number",type:"text",value:""},{name:"password_in_text",label:"Enter  password",type:"text",value:""},{name:"present_address",label:"Enter present  address",type:"text",value:""},{name:"permanent_address",label:"Enter permanent address",type:"text",value:""},{name:"designation",label:"Enter designation",type:"text",value:""},{name:"nid",label:"Enter nid",type:"text",value:""},{name:"role_id",label:"Select  role ",type:"select",value:"",data_list:[],onchange:"changeAction"},{name:"join_date",label:"Enter join date",type:"date",value:"",is_visible:!1},{name:"salery",label:"Enter  salery",type:"number",value:"",is_visible:!1},{name:"can_login",label:"Can login",type:"select",value:"0",is_visible:!1,data_list:[{label:"Yes",value:"1"},{label:"No",value:"0"}]},{name:"image",label:"Enter  image",type:"file",multiple:!1,value:""},{name:"description",label:"Enter  comment",type:"textarea",value:"",row_col_class:"col-md-12"}],j5t={data:()=>({setup:ft,form_fields:E5t,param_id:null}),created:async function(){let t=this.param_id=this.$route.params.id;this.reset_fields(),t&&this.set_fields(t),this.get_all_role()},methods:{...H(Nt,{create:"create",update:"update",details:"details",get_all:"get_all",set_only_latest_data:"set_only_latest_data"}),reset_fields:function(){this.form_fields.forEach(t=>{t.value=""})},set_fields:async function(t){this.param_id=t,await this.details(t),this.item&&(this.form_fields.forEach((e,a)=>{Object.entries(this.item).forEach(o=>{e.name==o[0]&&(this.form_fields[a].value=o[1])})}),this.item.role_id==2&&(this.form_fields[9].is_visible=!0,this.form_fields[10].is_visible=!0,this.form_fields[11].is_visible=!0))},get_all_role:async function(){var e,a;let t=await A.get("roles");if(t.data.status=="success"){const o=((a=(e=t.data)==null?void 0:e.data)==null?void 0:a.data)||[];console.log(o),this.form_fields[8].data_list=o.map(l=>({label:l.name,value:l.id}))}},submitHandler:async function(t){if(this.set_only_latest_data(!0),this.param_id){let e=await this.update(t);[200,201].includes(e.status)&&(window.s_alert("Data successfully updated"),this.$router.push({name:`Details${this.setup.route_prefix}`}))}else{let e=await this.create(t);[200,201].includes(e.status)&&(window.s_alert("Data Successfully Created"),this.$router.push({name:`All${this.setup.route_prefix}`}))}},changeAction:function(t){event.target.name=="role_id"&&(event.target.value==2?(this.form_fields[9].is_visible=!0,this.form_fields[10].is_visible=!0,this.form_fields[11].is_visible=!0):(this.form_fields[9].is_visible=!1,this.form_fields[10].is_visible=!1,this.form_fields[11].is_visible=!1))}},computed:{...q(Nt,{item:"item"})}},R5t={class:"card"},O5t={class:"card-header d-flex justify-content-between"},I5t={class:"text-capitalize"},F5t={class:"card-body card_body_fixed_height"},P5t={class:"row"},B5t=s("div",{class:"card-footer"},[s("button",{type:"submit",class:"btn btn-light btn-square px-5"},[s("i",{class:"icon-lock"}),f(" Submit ")])],-1);function q5t(t,e,a,o,l,n){const i=y("router-link"),d=y("common-input");return c(),u("div",null,[s("form",{onSubmit:e[0]||(e[0]=g((...r)=>n.submitHandler&&n.submitHandler(...r),["prevent"]))},[s("div",R5t,[s("div",O5t,[s("h5",I5t,p(t.param_id?`${t.setup.edit_page_title}`:`${t.setup.create_page_title}`),1),s("div",null,[t.item.slug?(c(),W(i,{key:0,class:"btn btn-outline-info mr-2 btn-sm",to:{name:`Details${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.details_page_title),1)]),_:1},8,["to"])):j("",!0),x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",F5t,[s("div",P5t,[(c(!0),u(C,null,F(t.form_fields,(r,m)=>(c(),W(d,{key:m,label:r.label,type:r.type,name:r.name,multiple:r.multiple,value:r.value,data_list:r.data_list,is_visible:r.is_visible,row_col_class:r.row_col_class,onchange:n.changeAction},null,8,["label","type","name","multiple","value","data_list","is_visible","row_col_class","onchange"]))),128))])]),B5t])],32)])}const gn=k(j5t,[["render",q5t]]),L5t={data:()=>({setup:ft}),created:async function(){let t=this.param_id=this.$route.params.id;await this.get_data(t)},methods:{...H(Nt,{details:"details"}),get_data:async function(t){this.item={},await this.details(t)}},computed:{...w(Nt,{item:"item"})}},U5t={class:"card"},N5t={class:"card-header d-flex justify-content-between"},V5t={class:"text-capitalize"},H5t={class:"card-body card_body_fixed_height"},z5t={class:"row"},M5t={class:"col-lg-8"},W5t={class:"table quick_modal_table table-bordered"},J5t=s("th",null,"name",-1),K5t=s("th",{class:"text-center"},":",-1),Y5t=s("th",null,"email",-1),G5t=s("th",{class:"text-center"},":",-1),Q5t=s("th",null,"phone number",-1),X5t=s("th",{class:"text-center"},":",-1),Z5t=s("th",null,"password",-1),t4t=s("th",{class:"text-center"},":",-1),e4t=s("th",null,"Salary",-1),s4t=s("th",{class:"text-center"},":",-1),a4t=s("th",null,"Joining date",-1),o4t=s("th",{class:"text-center"},":",-1),n4t=s("th",null,"role",-1),l4t=s("th",{class:"text-center"},":",-1),i4t=s("th",null,"image",-1),r4t=s("th",{class:"text-center"},":",-1),d4t=["src"],c4t={class:"card-footer"},_4t=s("i",{class:"fa fa-angle-left"},null,-1),u4t=s("i",{class:"fa fa-angle-right"},null,-1);function p4t(t,e,a,o,l,n){var d;const i=y("router-link");return c(),u("div",null,[s("form",{onSubmit:e[2]||(e[2]=g((...r)=>t.submitHandler&&t.submitHandler(...r),["prevent"]))},[s("div",U5t,[s("div",N5t,[s("h5",V5t,p(t.setup.details_page_title),1),s("div",null,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`All${t.setup.route_prefix}`}},{default:U(()=>[f(p(t.setup.all_page_title),1)]),_:1},8,["to"])])]),s("div",H5t,[s("div",z5t,[s("div",M5t,[s("table",W5t,[s("tbody",null,[s("tr",null,[J5t,K5t,s("th",null,p(t.item.name),1)]),s("tr",null,[Y5t,G5t,s("th",null,p(t.item.email),1)]),s("tr",null,[Q5t,X5t,s("th",null,p(t.item.phone_number),1)]),s("tr",null,[Z5t,t4t,s("th",null,p(t.item.password_in_text),1)]),s("tr",null,[e4t,s4t,s("th",null,p(t.item.salery),1)]),s("tr",null,[a4t,o4t,s("th",null,p(t.item.join_date),1)]),s("tr",null,[n4t,l4t,s("th",null,p((d=t.item.role)==null?void 0:d.name),1)]),s("tr",null,[i4t,r4t,s("th",null,[s("img",{height:"100px",width:"100px",src:t.item.image,alt:""},null,8,d4t)])])])])])])]),s("div",c4t,[x(i,{class:"btn btn-outline-warning btn-sm",to:{name:`Edit${t.setup.route_prefix}`,params:{id:t.item.slug}}},{default:U(()=>[f(p(t.setup.edit_page_title),1)]),_:1},8,["to"]),t.item.prev_slug?(c(),u("a",{key:0,href:"",onClick:e[0]||(e[0]=g(r=>n.get_data(t.item.prev_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[_4t,f(" Previous "+p(t.setup.route_prefix)+" ("+p(t.item.prev_count)+") ",1)])):j("",!0),t.item.next_slug?(c(),u("a",{key:1,href:"",onClick:e[1]||(e[1]=g(r=>n.get_data(t.item.next_slug),["prevent"])),class:"btn btn-secondary btn-sm ml-2"},[f(" Next "+p(t.setup.route_prefix)+" ("+p(t.item.next_count)+") ",1),u4t])):j("",!0)])])],32)])}const f4t=k(L5t,[["render",p4t]]),m4t={};function h4t(t,e,a,o,l,n){const i=y("router-view");return c(),W(i)}const g4t=k(m4t,[["render",h4t]]);let Pe=ft.route_prefix,v4t=ft.route_path;const y4t={path:v4t,component:g4t,children:[{path:"all",name:"All"+Pe,component:T5t},{path:"create",name:"Create"+Pe,component:gn},{path:"details/:id",name:"Details"+Pe,component:f4t},{path:"edit/:id",name:"Edit"+Pe,component:gn}]},$4t={path:"",component:Xi,children:[{path:"dashboard",component:dd,name:"adminDashboard"},Kh,sy,Zw,Kk,H3,B6,R9,DI,wq,MV,DK,KX,xat,yit,Fpt,Egt,Vbt,B0t,RSt,y4t,xu]},rl=dl({history:cl(),routes:[{path:"/",component:vn,children:[$4t]}]});rl.beforeEach((t,e,a)=>{t.href.length>2&&window.sessionStorage.setItem("prevurl",t.href),a()});const b4t=fl(),he=ml({});he.component("app",vn);he.component("common-input",_l);he.component("pagination",ul);he.use(b4t);he.use(rl);he.mount("#app");
